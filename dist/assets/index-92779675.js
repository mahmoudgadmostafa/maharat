function nL(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function pS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mS={exports:{}},uh={},gS={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),rL=Symbol.for("react.portal"),sL=Symbol.for("react.fragment"),iL=Symbol.for("react.strict_mode"),oL=Symbol.for("react.profiler"),aL=Symbol.for("react.provider"),lL=Symbol.for("react.context"),cL=Symbol.for("react.forward_ref"),uL=Symbol.for("react.suspense"),dL=Symbol.for("react.memo"),fL=Symbol.for("react.lazy"),Ax=Symbol.iterator;function hL(t){return t===null||typeof t!="object"?null:(t=Ax&&t[Ax]||t["@@iterator"],typeof t=="function"?t:null)}var vS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},yS=Object.assign,wS={};function Ia(t,e,n){this.props=t,this.context=e,this.refs=wS,this.updater=n||vS}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ia.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function _S(){}_S.prototype=Ia.prototype;function yy(t,e,n){this.props=t,this.context=e,this.refs=wS,this.updater=n||vS}var wy=yy.prototype=new _S;wy.constructor=yy;yS(wy,Ia.prototype);wy.isPureReactComponent=!0;var Rx=Array.isArray,xS=Object.prototype.hasOwnProperty,_y={current:null},ES={key:!0,ref:!0,__self:!0,__source:!0};function TS(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)xS.call(e,r)&&!ES.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fc,type:t,key:i,ref:o,props:s,_owner:_y.current}}function pL(t,e){return{$$typeof:Fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xy(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fc}function mL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Nx=/\/+/g;function rm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?mL(""+t.key):e.toString(36)}function Cd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fc:case rL:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+rm(o,0):r,Rx(s)?(n="",t!=null&&(n=t.replace(Nx,"$&/")+"/"),Cd(s,e,n,"",function(c){return c})):s!=null&&(xy(s)&&(s=pL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Nx,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Rx(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+rm(i,a);o+=Cd(i,e,n,l,s)}else if(l=hL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+rm(i,a++),o+=Cd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uu(t,e,n){if(t==null)return t;var r=[],s=0;return Cd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function gL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},Id={transition:null},vL={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:Id,ReactCurrentOwner:_y};function bS(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:Uu,forEach:function(t,e,n){Uu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Uu(t,function(){e++}),e},toArray:function(t){return Uu(t,function(e){return e})||[]},only:function(t){if(!xy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=Ia;Ee.Fragment=sL;Ee.Profiler=oL;Ee.PureComponent=yy;Ee.StrictMode=iL;Ee.Suspense=uL;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vL;Ee.act=bS;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=yS({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=_y.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)xS.call(e,l)&&!ES.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Fc,type:t.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:lL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aL,_context:t},t.Consumer=t};Ee.createElement=TS;Ee.createFactory=function(t){var e=TS.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:cL,render:t}};Ee.isValidElement=xy;Ee.lazy=function(t){return{$$typeof:fL,_payload:{_status:-1,_result:t},_init:gL}};Ee.memo=function(t,e){return{$$typeof:dL,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=Id.transition;Id.transition={};try{t()}finally{Id.transition=e}};Ee.unstable_act=bS;Ee.useCallback=function(t,e){return rn.current.useCallback(t,e)};Ee.useContext=function(t){return rn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return rn.current.useEffect(t,e)};Ee.useId=function(){return rn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return rn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};Ee.useRef=function(t){return rn.current.useRef(t)};Ee.useState=function(t){return rn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return rn.current.useTransition()};Ee.version="18.3.1";gS.exports=Ee;var p=gS.exports;const Q=pS(p),dh=nL({__proto__:null,default:Q},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yL=p,wL=Symbol.for("react.element"),_L=Symbol.for("react.fragment"),xL=Object.prototype.hasOwnProperty,EL=yL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,TL={key:!0,ref:!0,__self:!0,__source:!0};function SS(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xL.call(e,r)&&!TL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:wL,type:t,key:i,ref:o,props:s,_owner:EL.current}}uh.Fragment=_L;uh.jsx=SS;uh.jsxs=SS;mS.exports=uh;var h=mS.exports,yg={},CS={exports:{}},Cn={},IS={exports:{}},PS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,L){var z=V.length;V.push(L);e:for(;0<z;){var B=z-1>>>1,Z=V[B];if(0<s(Z,L))V[B]=L,V[z]=Z,z=B;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var L=V[0],z=V.pop();if(z!==L){V[0]=z;e:for(var B=0,Z=V.length,ne=Z>>>1;B<ne;){var W=2*(B+1)-1,te=V[W],ie=W+1,q=V[ie];if(0>s(te,z))ie<Z&&0>s(q,te)?(V[B]=q,V[ie]=z,B=ie):(V[B]=te,V[W]=z,B=W);else if(ie<Z&&0>s(q,z))V[B]=q,V[ie]=z,B=ie;else break e}}return L}function s(V,L){var z=V.sortIndex-L.sortIndex;return z!==0?z:V.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,m=3,g=!1,w=!1,y=!1,T=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(V){for(var L=n(c);L!==null;){if(L.callback===null)r(c);else if(L.startTime<=V)r(c),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(c)}}function I(V){if(y=!1,x(V),!w)if(n(l)!==null)w=!0,G(k);else{var L=n(c);L!==null&&J(I,L.startTime-V)}}function k(V,L){w=!1,y&&(y=!1,E(S),S=-1),g=!0;var z=m;try{for(x(L),f=n(l);f!==null&&(!(f.expirationTime>L)||V&&!D());){var B=f.callback;if(typeof B=="function"){f.callback=null,m=f.priorityLevel;var Z=B(f.expirationTime<=L);L=t.unstable_now(),typeof Z=="function"?f.callback=Z:f===n(l)&&r(l),x(L)}else r(l);f=n(l)}if(f!==null)var ne=!0;else{var W=n(c);W!==null&&J(I,W.startTime-L),ne=!1}return ne}finally{f=null,m=z,g=!1}}var O=!1,C=null,S=-1,P=5,A=-1;function D(){return!(t.unstable_now()-A<P)}function M(){if(C!==null){var V=t.unstable_now();A=V;var L=!0;try{L=C(!0,V)}finally{L?N():(O=!1,C=null)}}else O=!1}var N;if(typeof _=="function")N=function(){_(M)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,X=F.port2;F.port1.onmessage=M,N=function(){X.postMessage(null)}}else N=function(){T(M,0)};function G(V){C=V,O||(O=!0,N())}function J(V,L){S=T(function(){V(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,G(k))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var z=m;m=L;try{return V()}finally{m=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,L){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var z=m;m=V;try{return L()}finally{m=z}},t.unstable_scheduleCallback=function(V,L,z){var B=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?B+z:B):z=B,V){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=z+Z,V={id:d++,callback:L,priorityLevel:V,startTime:z,expirationTime:Z,sortIndex:-1},z>B?(V.sortIndex=z,e(c,V),n(l)===null&&V===n(c)&&(y?(E(S),S=-1):y=!0,J(I,z-B))):(V.sortIndex=Z,e(l,V),w||g||(w=!0,G(k))),V},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(V){var L=m;return function(){var z=m;m=L;try{return V.apply(this,arguments)}finally{m=z}}}})(PS);IS.exports=PS;var bL=IS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SL=p,bn=bL;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var AS=new Set,Zl={};function Yi(t,e){sa(t,e),sa(t+"Capture",e)}function sa(t,e){for(Zl[t]=e,t=0;t<e.length;t++)AS.add(e[t])}var zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=Object.prototype.hasOwnProperty,CL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kx={},Dx={};function IL(t){return wg.call(Dx,t)?!0:wg.call(kx,t)?!1:CL.test(t)?Dx[t]=!0:(kx[t]=!0,!1)}function PL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AL(t,e,n,r){if(e===null||typeof e>"u"||PL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Rt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Rt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Rt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Rt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Rt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Rt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Rt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Rt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Rt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Rt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ey=/[\-:]([a-z])/g;function Ty(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ey,Ty);Rt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ey,Ty);Rt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ey,Ty);Rt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Rt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Rt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Rt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function by(t,e,n,r){var s=Rt.hasOwnProperty(e)?Rt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AL(e,n,s,r)&&(n=null),r||s===null?IL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ts=SL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bu=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Po=Symbol.for("react.fragment"),Sy=Symbol.for("react.strict_mode"),_g=Symbol.for("react.profiler"),RS=Symbol.for("react.provider"),NS=Symbol.for("react.context"),Cy=Symbol.for("react.forward_ref"),xg=Symbol.for("react.suspense"),Eg=Symbol.for("react.suspense_list"),Iy=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),kS=Symbol.for("react.offscreen"),Mx=Symbol.iterator;function rl(t){return t===null||typeof t!="object"?null:(t=Mx&&t[Mx]||t["@@iterator"],typeof t=="function"?t:null)}var et=Object.assign,sm;function vl(t){if(sm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);sm=e&&e[1]||""}return`
`+sm+t}var im=!1;function om(t,e){if(!t||im)return"";im=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{im=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?vl(t):""}function RL(t){switch(t.tag){case 5:return vl(t.type);case 16:return vl("Lazy");case 13:return vl("Suspense");case 19:return vl("SuspenseList");case 0:case 2:case 15:return t=om(t.type,!1),t;case 11:return t=om(t.type.render,!1),t;case 1:return t=om(t.type,!0),t;default:return""}}function Tg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Po:return"Fragment";case Io:return"Portal";case _g:return"Profiler";case Sy:return"StrictMode";case xg:return"Suspense";case Eg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case NS:return(t.displayName||"Context")+".Consumer";case RS:return(t._context.displayName||"Context")+".Provider";case Cy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Iy:return e=t.displayName||null,e!==null?e:Tg(t.type)||"Memo";case ms:e=t._payload,t=t._init;try{return Tg(t(e))}catch{}}return null}function NL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Tg(e);case 8:return e===Sy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function DS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kL(t){var e=DS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zu(t){t._valueTracker||(t._valueTracker=kL(t))}function MS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=DS(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bg(t,e){var n=e.checked;return et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ox(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function OS(t,e){e=e.checked,e!=null&&by(t,"checked",e,!1)}function Sg(t,e){OS(t,e);var n=zs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cg(t,e.type,zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Lx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cg(t,e,n){(e!=="number"||Jd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var yl=Array.isArray;function Wo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Ig(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(yl(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zs(n)}}function LS(t,e){var n=zs(e.value),r=zs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Vx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function jS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?jS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Wu,VS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Wu=Wu||document.createElement("div"),Wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ec(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DL=["Webkit","ms","Moz","O"];Object.keys(Dl).forEach(function(t){DL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dl[e]=Dl[t]})});function $S(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dl.hasOwnProperty(t)&&Dl[t]?(""+e).trim():e+"px"}function FS(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$S(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var ML=et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ag(t,e){if(e){if(ML[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Rg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ng=null;function Py(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var kg=null,Ho=null,Ko=null;function $x(t){if(t=zc(t)){if(typeof kg!="function")throw Error(K(280));var e=t.stateNode;e&&(e=gh(e),kg(t.stateNode,t.type,e))}}function US(t){Ho?Ko?Ko.push(t):Ko=[t]:Ho=t}function BS(){if(Ho){var t=Ho,e=Ko;if(Ko=Ho=null,$x(t),e)for(t=0;t<e.length;t++)$x(e[t])}}function zS(t,e){return t(e)}function WS(){}var am=!1;function HS(t,e,n){if(am)return t(e,n);am=!0;try{return zS(t,e,n)}finally{am=!1,(Ho!==null||Ko!==null)&&(WS(),BS())}}function tc(t,e){var n=t.stateNode;if(n===null)return null;var r=gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Dg=!1;if(zr)try{var sl={};Object.defineProperty(sl,"passive",{get:function(){Dg=!0}}),window.addEventListener("test",sl,sl),window.removeEventListener("test",sl,sl)}catch{Dg=!1}function OL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ml=!1,Zd=null,ef=!1,Mg=null,LL={onError:function(t){Ml=!0,Zd=t}};function jL(t,e,n,r,s,i,o,a,l){Ml=!1,Zd=null,OL.apply(LL,arguments)}function VL(t,e,n,r,s,i,o,a,l){if(jL.apply(this,arguments),Ml){if(Ml){var c=Zd;Ml=!1,Zd=null}else throw Error(K(198));ef||(ef=!0,Mg=c)}}function Xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function KS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Fx(t){if(Xi(t)!==t)throw Error(K(188))}function $L(t){var e=t.alternate;if(!e){if(e=Xi(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Fx(s),t;if(i===r)return Fx(s),e;i=i.sibling}throw Error(K(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function GS(t){return t=$L(t),t!==null?qS(t):null}function qS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qS(t);if(e!==null)return e;t=t.sibling}return null}var QS=bn.unstable_scheduleCallback,Ux=bn.unstable_cancelCallback,FL=bn.unstable_shouldYield,UL=bn.unstable_requestPaint,ct=bn.unstable_now,BL=bn.unstable_getCurrentPriorityLevel,Ay=bn.unstable_ImmediatePriority,YS=bn.unstable_UserBlockingPriority,tf=bn.unstable_NormalPriority,zL=bn.unstable_LowPriority,XS=bn.unstable_IdlePriority,fh=null,ur=null;function WL(t){if(ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(fh,t,void 0,(t.current.flags&128)===128)}catch{}}var qn=Math.clz32?Math.clz32:GL,HL=Math.log,KL=Math.LN2;function GL(t){return t>>>=0,t===0?32:31-(HL(t)/KL|0)|0}var Hu=64,Ku=4194304;function wl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=wl(a):(i&=o,i!==0&&(r=wl(i)))}else o=n&~s,o!==0?r=wl(o):i!==0&&(r=wl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-qn(e),s=1<<n,r|=t[n],e&=~s;return r}function qL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-qn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=qL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Og(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JS(){var t=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),t}function lm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Uc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-qn(e),t[e]=n}function YL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-qn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Ry(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-qn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var De=0;function ZS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var eC,Ny,tC,nC,rC,Lg=!1,Gu=[],As=null,Rs=null,Ns=null,nc=new Map,rc=new Map,ys=[],XL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bx(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Rs=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":rc.delete(e.pointerId)}}function il(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=zc(e),e!==null&&Ny(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function JL(t,e,n,r,s){switch(e){case"focusin":return As=il(As,t,e,n,r,s),!0;case"dragenter":return Rs=il(Rs,t,e,n,r,s),!0;case"mouseover":return Ns=il(Ns,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return nc.set(i,il(nc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,rc.set(i,il(rc.get(i)||null,t,e,n,r,s)),!0}return!1}function sC(t){var e=Ei(t.target);if(e!==null){var n=Xi(e);if(n!==null){if(e=n.tag,e===13){if(e=KS(n),e!==null){t.blockedOn=e,rC(t.priority,function(){tC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=jg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ng=r,n.target.dispatchEvent(r),Ng=null}else return e=zc(n),e!==null&&Ny(e),t.blockedOn=n,!1;e.shift()}return!0}function zx(t,e,n){Pd(t)&&n.delete(e)}function ZL(){Lg=!1,As!==null&&Pd(As)&&(As=null),Rs!==null&&Pd(Rs)&&(Rs=null),Ns!==null&&Pd(Ns)&&(Ns=null),nc.forEach(zx),rc.forEach(zx)}function ol(t,e){t.blockedOn===e&&(t.blockedOn=null,Lg||(Lg=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,ZL)))}function sc(t){function e(s){return ol(s,t)}if(0<Gu.length){ol(Gu[0],t);for(var n=1;n<Gu.length;n++){var r=Gu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&ol(As,t),Rs!==null&&ol(Rs,t),Ns!==null&&ol(Ns,t),nc.forEach(e),rc.forEach(e),n=0;n<ys.length;n++)r=ys[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ys.length&&(n=ys[0],n.blockedOn===null);)sC(n),n.blockedOn===null&&ys.shift()}var Go=ts.ReactCurrentBatchConfig,rf=!0;function ej(t,e,n,r){var s=De,i=Go.transition;Go.transition=null;try{De=1,ky(t,e,n,r)}finally{De=s,Go.transition=i}}function tj(t,e,n,r){var s=De,i=Go.transition;Go.transition=null;try{De=4,ky(t,e,n,r)}finally{De=s,Go.transition=i}}function ky(t,e,n,r){if(rf){var s=jg(t,e,n,r);if(s===null)ym(t,e,r,sf,n),Bx(t,r);else if(JL(s,t,e,n,r))r.stopPropagation();else if(Bx(t,r),e&4&&-1<XL.indexOf(t)){for(;s!==null;){var i=zc(s);if(i!==null&&eC(i),i=jg(t,e,n,r),i===null&&ym(t,e,r,sf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ym(t,e,r,null,n)}}var sf=null;function jg(t,e,n,r){if(sf=null,t=Py(r),t=Ei(t),t!==null)if(e=Xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=KS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sf=t,null}function iC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BL()){case Ay:return 1;case YS:return 4;case tf:case zL:return 16;case XS:return 536870912;default:return 16}default:return 16}}var bs=null,Dy=null,Ad=null;function oC(){if(Ad)return Ad;var t,e=Dy,n=e.length,r,s="value"in bs?bs.value:bs.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ad=s.slice(t,1<r?1-r:void 0)}function Rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qu(){return!0}function Wx(){return!1}function In(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qu:Wx,this.isPropagationStopped=Wx,this}return et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),e}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},My=In(Pa),Bc=et({},Pa,{view:0,detail:0}),nj=In(Bc),cm,um,al,hh=et({},Bc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==al&&(al&&t.type==="mousemove"?(cm=t.screenX-al.screenX,um=t.screenY-al.screenY):um=cm=0,al=t),cm)},movementY:function(t){return"movementY"in t?t.movementY:um}}),Hx=In(hh),rj=et({},hh,{dataTransfer:0}),sj=In(rj),ij=et({},Bc,{relatedTarget:0}),dm=In(ij),oj=et({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),aj=In(oj),lj=et({},Pa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),cj=In(lj),uj=et({},Pa,{data:0}),Kx=In(uj),dj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=hj[t])?!!e[t]:!1}function Oy(){return pj}var mj=et({},Bc,{key:function(t){if(t.key){var e=dj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?fj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oy,charCode:function(t){return t.type==="keypress"?Rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),gj=In(mj),vj=et({},hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gx=In(vj),yj=et({},Bc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oy}),wj=In(yj),_j=et({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),xj=In(_j),Ej=et({},hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Tj=In(Ej),bj=[9,13,27,32],Ly=zr&&"CompositionEvent"in window,Ol=null;zr&&"documentMode"in document&&(Ol=document.documentMode);var Sj=zr&&"TextEvent"in window&&!Ol,aC=zr&&(!Ly||Ol&&8<Ol&&11>=Ol),qx=String.fromCharCode(32),Qx=!1;function lC(t,e){switch(t){case"keyup":return bj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ao=!1;function Cj(t,e){switch(t){case"compositionend":return cC(e);case"keypress":return e.which!==32?null:(Qx=!0,qx);case"textInput":return t=e.data,t===qx&&Qx?null:t;default:return null}}function Ij(t,e){if(Ao)return t==="compositionend"||!Ly&&lC(t,e)?(t=oC(),Ad=Dy=bs=null,Ao=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return aC&&e.locale!=="ko"?null:e.data;default:return null}}var Pj={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Pj[t.type]:e==="textarea"}function uC(t,e,n,r){US(r),e=of(e,"onChange"),0<e.length&&(n=new My("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ll=null,ic=null;function Aj(t){xC(t,0)}function ph(t){var e=ko(t);if(MS(e))return t}function Rj(t,e){if(t==="change")return e}var dC=!1;if(zr){var fm;if(zr){var hm="oninput"in document;if(!hm){var Xx=document.createElement("div");Xx.setAttribute("oninput","return;"),hm=typeof Xx.oninput=="function"}fm=hm}else fm=!1;dC=fm&&(!document.documentMode||9<document.documentMode)}function Jx(){Ll&&(Ll.detachEvent("onpropertychange",fC),ic=Ll=null)}function fC(t){if(t.propertyName==="value"&&ph(ic)){var e=[];uC(e,ic,t,Py(t)),HS(Aj,e)}}function Nj(t,e,n){t==="focusin"?(Jx(),Ll=e,ic=n,Ll.attachEvent("onpropertychange",fC)):t==="focusout"&&Jx()}function kj(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ph(ic)}function Dj(t,e){if(t==="click")return ph(e)}function Mj(t,e){if(t==="input"||t==="change")return ph(e)}function Oj(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:Oj;function oc(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!wg.call(e,s)||!Yn(t[s],e[s]))return!1}return!0}function Zx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function eE(t,e){var n=Zx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Zx(n)}}function hC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function pC(){for(var t=window,e=Jd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jd(t.document)}return e}function jy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Lj(t){var e=pC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&hC(n.ownerDocument.documentElement,n)){if(r!==null&&jy(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=eE(n,i);var o=eE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jj=zr&&"documentMode"in document&&11>=document.documentMode,Ro=null,Vg=null,jl=null,$g=!1;function tE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$g||Ro==null||Ro!==Jd(r)||(r=Ro,"selectionStart"in r&&jy(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jl&&oc(jl,r)||(jl=r,r=of(Vg,"onSelect"),0<r.length&&(e=new My("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ro)))}function Qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var No={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},pm={},mC={};zr&&(mC=document.createElement("div").style,"AnimationEvent"in window||(delete No.animationend.animation,delete No.animationiteration.animation,delete No.animationstart.animation),"TransitionEvent"in window||delete No.transitionend.transition);function mh(t){if(pm[t])return pm[t];if(!No[t])return t;var e=No[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in mC)return pm[t]=e[n];return t}var gC=mh("animationend"),vC=mh("animationiteration"),yC=mh("animationstart"),wC=mh("transitionend"),_C=new Map,nE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(t,e){_C.set(t,e),Yi(e,[t])}for(var mm=0;mm<nE.length;mm++){var gm=nE[mm],Vj=gm.toLowerCase(),$j=gm[0].toUpperCase()+gm.slice(1);ri(Vj,"on"+$j)}ri(gC,"onAnimationEnd");ri(vC,"onAnimationIteration");ri(yC,"onAnimationStart");ri("dblclick","onDoubleClick");ri("focusin","onFocus");ri("focusout","onBlur");ri(wC,"onTransitionEnd");sa("onMouseEnter",["mouseout","mouseover"]);sa("onMouseLeave",["mouseout","mouseover"]);sa("onPointerEnter",["pointerout","pointerover"]);sa("onPointerLeave",["pointerout","pointerover"]);Yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Yi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fj=new Set("cancel close invalid load scroll toggle".split(" ").concat(_l));function rE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,VL(r,e,void 0,t),t.currentTarget=null}function xC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;rE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;rE(s,a,c),i=l}}}if(ef)throw t=Mg,ef=!1,Mg=null,t}function Fe(t,e){var n=e[Wg];n===void 0&&(n=e[Wg]=new Set);var r=t+"__bubble";n.has(r)||(EC(e,t,2,!1),n.add(r))}function vm(t,e,n){var r=0;e&&(r|=4),EC(n,t,r,e)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function ac(t){if(!t[Yu]){t[Yu]=!0,AS.forEach(function(n){n!=="selectionchange"&&(Fj.has(n)||vm(n,!1,t),vm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yu]||(e[Yu]=!0,vm("selectionchange",!1,e))}}function EC(t,e,n,r){switch(iC(e)){case 1:var s=ej;break;case 4:s=tj;break;default:s=ky}n=s.bind(null,e,n,t),s=void 0,!Dg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ym(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Ei(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}HS(function(){var c=i,d=Py(n),f=[];e:{var m=_C.get(t);if(m!==void 0){var g=My,w=t;switch(t){case"keypress":if(Rd(n)===0)break e;case"keydown":case"keyup":g=gj;break;case"focusin":w="focus",g=dm;break;case"focusout":w="blur",g=dm;break;case"beforeblur":case"afterblur":g=dm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Hx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=sj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=wj;break;case gC:case vC:case yC:g=aj;break;case wC:g=xj;break;case"scroll":g=nj;break;case"wheel":g=Tj;break;case"copy":case"cut":case"paste":g=cj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Gx}var y=(e&4)!==0,T=!y&&t==="scroll",E=y?m!==null?m+"Capture":null:m;y=[];for(var _=c,x;_!==null;){x=_;var I=x.stateNode;if(x.tag===5&&I!==null&&(x=I,E!==null&&(I=tc(_,E),I!=null&&y.push(lc(_,I,x)))),T)break;_=_.return}0<y.length&&(m=new g(m,w,null,n,d),f.push({event:m,listeners:y}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Ng&&(w=n.relatedTarget||n.fromElement)&&(Ei(w)||w[Wr]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?Ei(w):null,w!==null&&(T=Xi(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(y=Hx,I="onMouseLeave",E="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=Gx,I="onPointerLeave",E="onPointerEnter",_="pointer"),T=g==null?m:ko(g),x=w==null?m:ko(w),m=new y(I,_+"leave",g,n,d),m.target=T,m.relatedTarget=x,I=null,Ei(d)===c&&(y=new y(E,_+"enter",w,n,d),y.target=x,y.relatedTarget=T,I=y),T=I,g&&w)t:{for(y=g,E=w,_=0,x=y;x;x=go(x))_++;for(x=0,I=E;I;I=go(I))x++;for(;0<_-x;)y=go(y),_--;for(;0<x-_;)E=go(E),x--;for(;_--;){if(y===E||E!==null&&y===E.alternate)break t;y=go(y),E=go(E)}y=null}else y=null;g!==null&&sE(f,m,g,y,!1),w!==null&&T!==null&&sE(f,T,w,y,!0)}}e:{if(m=c?ko(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var k=Rj;else if(Yx(m))if(dC)k=Mj;else{k=kj;var O=Nj}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(k=Dj);if(k&&(k=k(t,c))){uC(f,k,n,d);break e}O&&O(t,m,c),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Cg(m,"number",m.value)}switch(O=c?ko(c):window,t){case"focusin":(Yx(O)||O.contentEditable==="true")&&(Ro=O,Vg=c,jl=null);break;case"focusout":jl=Vg=Ro=null;break;case"mousedown":$g=!0;break;case"contextmenu":case"mouseup":case"dragend":$g=!1,tE(f,n,d);break;case"selectionchange":if(jj)break;case"keydown":case"keyup":tE(f,n,d)}var C;if(Ly)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ao?lC(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(aC&&n.locale!=="ko"&&(Ao||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ao&&(C=oC()):(bs=d,Dy="value"in bs?bs.value:bs.textContent,Ao=!0)),O=of(c,S),0<O.length&&(S=new Kx(S,t,null,n,d),f.push({event:S,listeners:O}),C?S.data=C:(C=cC(n),C!==null&&(S.data=C)))),(C=Sj?Cj(t,n):Ij(t,n))&&(c=of(c,"onBeforeInput"),0<c.length&&(d=new Kx("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=C))}xC(f,e)})}function lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function of(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=tc(t,n),i!=null&&r.unshift(lc(t,i,s)),i=tc(t,e),i!=null&&r.push(lc(t,i,s))),t=t.return}return r}function go(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function sE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=tc(n,i),l!=null&&o.unshift(lc(n,l,a))):s||(l=tc(n,i),l!=null&&o.push(lc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Uj=/\r\n?/g,Bj=/\u0000|\uFFFD/g;function iE(t){return(typeof t=="string"?t:""+t).replace(Uj,`
`).replace(Bj,"")}function Xu(t,e,n){if(e=iE(e),iE(t)!==e&&n)throw Error(K(425))}function af(){}var Fg=null,Ug=null;function Bg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var zg=typeof setTimeout=="function"?setTimeout:void 0,zj=typeof clearTimeout=="function"?clearTimeout:void 0,oE=typeof Promise=="function"?Promise:void 0,Wj=typeof queueMicrotask=="function"?queueMicrotask:typeof oE<"u"?function(t){return oE.resolve(null).then(t).catch(Hj)}:zg;function Hj(t){setTimeout(function(){throw t})}function wm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),sc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);sc(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Aa=Math.random().toString(36).slice(2),ar="__reactFiber$"+Aa,cc="__reactProps$"+Aa,Wr="__reactContainer$"+Aa,Wg="__reactEvents$"+Aa,Kj="__reactListeners$"+Aa,Gj="__reactHandles$"+Aa;function Ei(t){var e=t[ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wr]||n[ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=aE(t);t!==null;){if(n=t[ar])return n;t=aE(t)}return e}t=n,n=t.parentNode}return null}function zc(t){return t=t[ar]||t[Wr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ko(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function gh(t){return t[cc]||null}var Hg=[],Do=-1;function si(t){return{current:t}}function We(t){0>Do||(t.current=Hg[Do],Hg[Do]=null,Do--)}function je(t,e){Do++,Hg[Do]=t.current,t.current=e}var Ws={},Ht=si(Ws),un=si(!1),Oi=Ws;function ia(t,e){var n=t.type.contextTypes;if(!n)return Ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dn(t){return t=t.childContextTypes,t!=null}function lf(){We(un),We(Ht)}function lE(t,e,n){if(Ht.current!==Ws)throw Error(K(168));je(Ht,e),je(un,n)}function TC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(K(108,NL(t)||"Unknown",s));return et({},n,r)}function cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ws,Oi=Ht.current,je(Ht,t),je(un,un.current),!0}function cE(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=TC(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,We(un),We(Ht),je(Ht,t)):We(un),je(un,n)}var Nr=null,vh=!1,_m=!1;function bC(t){Nr===null?Nr=[t]:Nr.push(t)}function qj(t){vh=!0,bC(t)}function ii(){if(!_m&&Nr!==null){_m=!0;var t=0,e=De;try{var n=Nr;for(De=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Nr=null,vh=!1}catch(s){throw Nr!==null&&(Nr=Nr.slice(t+1)),QS(Ay,ii),s}finally{De=e,_m=!1}}return null}var Mo=[],Oo=0,uf=null,df=0,Rn=[],Nn=0,Li=null,kr=1,Dr="";function gi(t,e){Mo[Oo++]=df,Mo[Oo++]=uf,uf=t,df=e}function SC(t,e,n){Rn[Nn++]=kr,Rn[Nn++]=Dr,Rn[Nn++]=Li,Li=t;var r=kr;t=Dr;var s=32-qn(r)-1;r&=~(1<<s),n+=1;var i=32-qn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,kr=1<<32-qn(e)+s|n<<s|r,Dr=i+t}else kr=1<<i|n<<s|r,Dr=t}function Vy(t){t.return!==null&&(gi(t,1),SC(t,1,0))}function $y(t){for(;t===uf;)uf=Mo[--Oo],Mo[Oo]=null,df=Mo[--Oo],Mo[Oo]=null;for(;t===Li;)Li=Rn[--Nn],Rn[Nn]=null,Dr=Rn[--Nn],Rn[Nn]=null,kr=Rn[--Nn],Rn[Nn]=null}var En=null,_n=null,Ke=!1,Kn=null;function CC(t,e){var n=kn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function uE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,_n=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,_n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Li!==null?{id:kr,overflow:Dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=kn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,_n=null,!0):!1;default:return!1}}function Kg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Gg(t){if(Ke){var e=_n;if(e){var n=e;if(!uE(t,e)){if(Kg(t))throw Error(K(418));e=ks(n.nextSibling);var r=En;e&&uE(t,e)?CC(r,n):(t.flags=t.flags&-4097|2,Ke=!1,En=t)}}else{if(Kg(t))throw Error(K(418));t.flags=t.flags&-4097|2,Ke=!1,En=t}}}function dE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function Ju(t){if(t!==En)return!1;if(!Ke)return dE(t),Ke=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Bg(t.type,t.memoizedProps)),e&&(e=_n)){if(Kg(t))throw IC(),Error(K(418));for(;e;)CC(t,e),e=ks(e.nextSibling)}if(dE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_n=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_n=null}}else _n=En?ks(t.stateNode.nextSibling):null;return!0}function IC(){for(var t=_n;t;)t=ks(t.nextSibling)}function oa(){_n=En=null,Ke=!1}function Fy(t){Kn===null?Kn=[t]:Kn.push(t)}var Qj=ts.ReactCurrentBatchConfig;function ll(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Zu(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function fE(t){var e=t._init;return e(t._payload)}function PC(t){function e(E,_){if(t){var x=E.deletions;x===null?(E.deletions=[_],E.flags|=16):x.push(_)}}function n(E,_){if(!t)return null;for(;_!==null;)e(E,_),_=_.sibling;return null}function r(E,_){for(E=new Map;_!==null;)_.key!==null?E.set(_.key,_):E.set(_.index,_),_=_.sibling;return E}function s(E,_){return E=Ls(E,_),E.index=0,E.sibling=null,E}function i(E,_,x){return E.index=x,t?(x=E.alternate,x!==null?(x=x.index,x<_?(E.flags|=2,_):x):(E.flags|=2,_)):(E.flags|=1048576,_)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function a(E,_,x,I){return _===null||_.tag!==6?(_=Im(x,E.mode,I),_.return=E,_):(_=s(_,x),_.return=E,_)}function l(E,_,x,I){var k=x.type;return k===Po?d(E,_,x.props.children,I,x.key):_!==null&&(_.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ms&&fE(k)===_.type)?(I=s(_,x.props),I.ref=ll(E,_,x),I.return=E,I):(I=jd(x.type,x.key,x.props,null,E.mode,I),I.ref=ll(E,_,x),I.return=E,I)}function c(E,_,x,I){return _===null||_.tag!==4||_.stateNode.containerInfo!==x.containerInfo||_.stateNode.implementation!==x.implementation?(_=Pm(x,E.mode,I),_.return=E,_):(_=s(_,x.children||[]),_.return=E,_)}function d(E,_,x,I,k){return _===null||_.tag!==7?(_=Ai(x,E.mode,I,k),_.return=E,_):(_=s(_,x),_.return=E,_)}function f(E,_,x){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Im(""+_,E.mode,x),_.return=E,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Bu:return x=jd(_.type,_.key,_.props,null,E.mode,x),x.ref=ll(E,null,_),x.return=E,x;case Io:return _=Pm(_,E.mode,x),_.return=E,_;case ms:var I=_._init;return f(E,I(_._payload),x)}if(yl(_)||rl(_))return _=Ai(_,E.mode,x,null),_.return=E,_;Zu(E,_)}return null}function m(E,_,x,I){var k=_!==null?_.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return k!==null?null:a(E,_,""+x,I);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bu:return x.key===k?l(E,_,x,I):null;case Io:return x.key===k?c(E,_,x,I):null;case ms:return k=x._init,m(E,_,k(x._payload),I)}if(yl(x)||rl(x))return k!==null?null:d(E,_,x,I,null);Zu(E,x)}return null}function g(E,_,x,I,k){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(x)||null,a(_,E,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Bu:return E=E.get(I.key===null?x:I.key)||null,l(_,E,I,k);case Io:return E=E.get(I.key===null?x:I.key)||null,c(_,E,I,k);case ms:var O=I._init;return g(E,_,x,O(I._payload),k)}if(yl(I)||rl(I))return E=E.get(x)||null,d(_,E,I,k,null);Zu(_,I)}return null}function w(E,_,x,I){for(var k=null,O=null,C=_,S=_=0,P=null;C!==null&&S<x.length;S++){C.index>S?(P=C,C=null):P=C.sibling;var A=m(E,C,x[S],I);if(A===null){C===null&&(C=P);break}t&&C&&A.alternate===null&&e(E,C),_=i(A,_,S),O===null?k=A:O.sibling=A,O=A,C=P}if(S===x.length)return n(E,C),Ke&&gi(E,S),k;if(C===null){for(;S<x.length;S++)C=f(E,x[S],I),C!==null&&(_=i(C,_,S),O===null?k=C:O.sibling=C,O=C);return Ke&&gi(E,S),k}for(C=r(E,C);S<x.length;S++)P=g(C,E,S,x[S],I),P!==null&&(t&&P.alternate!==null&&C.delete(P.key===null?S:P.key),_=i(P,_,S),O===null?k=P:O.sibling=P,O=P);return t&&C.forEach(function(D){return e(E,D)}),Ke&&gi(E,S),k}function y(E,_,x,I){var k=rl(x);if(typeof k!="function")throw Error(K(150));if(x=k.call(x),x==null)throw Error(K(151));for(var O=k=null,C=_,S=_=0,P=null,A=x.next();C!==null&&!A.done;S++,A=x.next()){C.index>S?(P=C,C=null):P=C.sibling;var D=m(E,C,A.value,I);if(D===null){C===null&&(C=P);break}t&&C&&D.alternate===null&&e(E,C),_=i(D,_,S),O===null?k=D:O.sibling=D,O=D,C=P}if(A.done)return n(E,C),Ke&&gi(E,S),k;if(C===null){for(;!A.done;S++,A=x.next())A=f(E,A.value,I),A!==null&&(_=i(A,_,S),O===null?k=A:O.sibling=A,O=A);return Ke&&gi(E,S),k}for(C=r(E,C);!A.done;S++,A=x.next())A=g(C,E,S,A.value,I),A!==null&&(t&&A.alternate!==null&&C.delete(A.key===null?S:A.key),_=i(A,_,S),O===null?k=A:O.sibling=A,O=A);return t&&C.forEach(function(M){return e(E,M)}),Ke&&gi(E,S),k}function T(E,_,x,I){if(typeof x=="object"&&x!==null&&x.type===Po&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Bu:e:{for(var k=x.key,O=_;O!==null;){if(O.key===k){if(k=x.type,k===Po){if(O.tag===7){n(E,O.sibling),_=s(O,x.props.children),_.return=E,E=_;break e}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===ms&&fE(k)===O.type){n(E,O.sibling),_=s(O,x.props),_.ref=ll(E,O,x),_.return=E,E=_;break e}n(E,O);break}else e(E,O);O=O.sibling}x.type===Po?(_=Ai(x.props.children,E.mode,I,x.key),_.return=E,E=_):(I=jd(x.type,x.key,x.props,null,E.mode,I),I.ref=ll(E,_,x),I.return=E,E=I)}return o(E);case Io:e:{for(O=x.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===x.containerInfo&&_.stateNode.implementation===x.implementation){n(E,_.sibling),_=s(_,x.children||[]),_.return=E,E=_;break e}else{n(E,_);break}else e(E,_);_=_.sibling}_=Pm(x,E.mode,I),_.return=E,E=_}return o(E);case ms:return O=x._init,T(E,_,O(x._payload),I)}if(yl(x))return w(E,_,x,I);if(rl(x))return y(E,_,x,I);Zu(E,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,_!==null&&_.tag===6?(n(E,_.sibling),_=s(_,x),_.return=E,E=_):(n(E,_),_=Im(x,E.mode,I),_.return=E,E=_),o(E)):n(E,_)}return T}var aa=PC(!0),AC=PC(!1),ff=si(null),hf=null,Lo=null,Uy=null;function By(){Uy=Lo=hf=null}function zy(t){var e=ff.current;We(ff),t._currentValue=e}function qg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function qo(t,e){hf=t,Uy=Lo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cn=!0),t.firstContext=null)}function On(t){var e=t._currentValue;if(Uy!==t)if(t={context:t,memoizedValue:e,next:null},Lo===null){if(hf===null)throw Error(K(308));Lo=t,hf.dependencies={lanes:0,firstContext:t}}else Lo=Lo.next=t;return e}var Ti=null;function Wy(t){Ti===null?Ti=[t]:Ti.push(t)}function RC(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Wy(e)):(n.next=s.next,s.next=n),e.interleaved=n,Hr(t,r)}function Hr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gs=!1;function Hy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function NC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Hr(t,n)}return s=r.interleaved,s===null?(e.next=e,Wy(r)):(e.next=s.next,s.next=e),r.interleaved=e,Hr(t,n)}function Nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ry(t,n)}}function hE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pf(t,e,n,r){var s=t.updateQueue;gs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,d=c=l=null,a=i;do{var m=a.lane,g=a.eventTime;if((r&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,y=a;switch(m=e,g=n,y.tag){case 1:if(w=y.payload,typeof w=="function"){f=w.call(g,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=y.payload,m=typeof w=="function"?w.call(g,f,m):w,m==null)break e;f=et({},f,m);break e;case 2:gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(1);if(d===null&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Vi|=o,t.lanes=o,t.memoizedState=f}}function pE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(K(191,s));s.call(r)}}}var Wc={},dr=si(Wc),uc=si(Wc),dc=si(Wc);function bi(t){if(t===Wc)throw Error(K(174));return t}function Ky(t,e){switch(je(dc,e),je(uc,t),je(dr,Wc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Pg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Pg(e,t)}We(dr),je(dr,e)}function la(){We(dr),We(uc),We(dc)}function kC(t){bi(dc.current);var e=bi(dr.current),n=Pg(e,t.type);e!==n&&(je(uc,t),je(dr,n))}function Gy(t){uc.current===t&&(We(dr),We(uc))}var Ye=si(0);function mf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var xm=[];function qy(){for(var t=0;t<xm.length;t++)xm[t]._workInProgressVersionPrimary=null;xm.length=0}var kd=ts.ReactCurrentDispatcher,Em=ts.ReactCurrentBatchConfig,ji=0,Ze=null,yt=null,xt=null,gf=!1,Vl=!1,fc=0,Yj=0;function Lt(){throw Error(K(321))}function Qy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Yn(t[n],e[n]))return!1;return!0}function Yy(t,e,n,r,s,i){if(ji=i,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,kd.current=t===null||t.memoizedState===null?eV:tV,t=n(r,s),Vl){i=0;do{if(Vl=!1,fc=0,25<=i)throw Error(K(301));i+=1,xt=yt=null,e.updateQueue=null,kd.current=nV,t=n(r,s)}while(Vl)}if(kd.current=vf,e=yt!==null&&yt.next!==null,ji=0,xt=yt=Ze=null,gf=!1,e)throw Error(K(300));return t}function Xy(){var t=fc!==0;return fc=0,t}function or(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xt===null?Ze.memoizedState=xt=t:xt=xt.next=t,xt}function Ln(){if(yt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=yt.next;var e=xt===null?Ze.memoizedState:xt.next;if(e!==null)xt=e,yt=t;else{if(t===null)throw Error(K(310));yt=t,t={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},xt===null?Ze.memoizedState=xt=t:xt=xt.next=t}return xt}function hc(t,e){return typeof e=="function"?e(t):e}function Tm(t){var e=Ln(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=yt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((ji&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ze.lanes|=d,Vi|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Yn(r,e.memoizedState)||(cn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ze.lanes|=i,Vi|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function bm(t){var e=Ln(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Yn(i,e.memoizedState)||(cn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function DC(){}function MC(t,e){var n=Ze,r=Ln(),s=e(),i=!Yn(r.memoizedState,s);if(i&&(r.memoizedState=s,cn=!0),r=r.queue,Jy(jC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xt!==null&&xt.memoizedState.tag&1){if(n.flags|=2048,pc(9,LC.bind(null,n,r,s,e),void 0,null),Tt===null)throw Error(K(349));ji&30||OC(n,e,s)}return s}function OC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LC(t,e,n,r){e.value=n,e.getSnapshot=r,VC(e)&&$C(t)}function jC(t,e,n){return n(function(){VC(e)&&$C(t)})}function VC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Yn(t,n)}catch{return!0}}function $C(t){var e=Hr(t,1);e!==null&&Qn(e,t,1,-1)}function mE(t){var e=or();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:hc,lastRenderedState:t},e.queue=t,t=t.dispatch=Zj.bind(null,Ze,t),[e.memoizedState,t]}function pc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function FC(){return Ln().memoizedState}function Dd(t,e,n,r){var s=or();Ze.flags|=t,s.memoizedState=pc(1|e,n,void 0,r===void 0?null:r)}function yh(t,e,n,r){var s=Ln();r=r===void 0?null:r;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,r!==null&&Qy(r,o.deps)){s.memoizedState=pc(e,n,i,r);return}}Ze.flags|=t,s.memoizedState=pc(1|e,n,i,r)}function gE(t,e){return Dd(8390656,8,t,e)}function Jy(t,e){return yh(2048,8,t,e)}function UC(t,e){return yh(4,2,t,e)}function BC(t,e){return yh(4,4,t,e)}function zC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function WC(t,e,n){return n=n!=null?n.concat([t]):null,yh(4,4,zC.bind(null,e,t),n)}function Zy(){}function HC(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qy(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function KC(t,e){var n=Ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qy(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function GC(t,e,n){return ji&21?(Yn(n,e)||(n=JS(),Ze.lanes|=n,Vi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cn=!0),t.memoizedState=n)}function Xj(t,e){var n=De;De=n!==0&&4>n?n:4,t(!0);var r=Em.transition;Em.transition={};try{t(!1),e()}finally{De=n,Em.transition=r}}function qC(){return Ln().memoizedState}function Jj(t,e,n){var r=Os(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QC(t))YC(e,n);else if(n=RC(t,e,n,r),n!==null){var s=en();Qn(n,t,r,s),XC(n,e,r)}}function Zj(t,e,n){var r=Os(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QC(t))YC(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(s.next=s,Wy(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=RC(t,e,s,r),n!==null&&(s=en(),Qn(n,t,r,s),XC(n,e,r))}}function QC(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function YC(t,e){Vl=gf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function XC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ry(t,n)}}var vf={readContext:On,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},eV={readContext:On,useCallback:function(t,e){return or().memoizedState=[t,e===void 0?null:e],t},useContext:On,useEffect:gE,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dd(4194308,4,zC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dd(4,2,t,e)},useMemo:function(t,e){var n=or();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=or();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Jj.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=or();return t={current:t},e.memoizedState=t},useState:mE,useDebugValue:Zy,useDeferredValue:function(t){return or().memoizedState=t},useTransition:function(){var t=mE(!1),e=t[0];return t=Xj.bind(null,t[1]),or().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,s=or();if(Ke){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),Tt===null)throw Error(K(349));ji&30||OC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,gE(jC.bind(null,r,i,t),[t]),r.flags|=2048,pc(9,LC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=or(),e=Tt.identifierPrefix;if(Ke){var n=Dr,r=kr;n=(r&~(1<<32-qn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Yj++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},tV={readContext:On,useCallback:HC,useContext:On,useEffect:Jy,useImperativeHandle:WC,useInsertionEffect:UC,useLayoutEffect:BC,useMemo:KC,useReducer:Tm,useRef:FC,useState:function(){return Tm(hc)},useDebugValue:Zy,useDeferredValue:function(t){var e=Ln();return GC(e,yt.memoizedState,t)},useTransition:function(){var t=Tm(hc)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:DC,useSyncExternalStore:MC,useId:qC,unstable_isNewReconciler:!1},nV={readContext:On,useCallback:HC,useContext:On,useEffect:Jy,useImperativeHandle:WC,useInsertionEffect:UC,useLayoutEffect:BC,useMemo:KC,useReducer:bm,useRef:FC,useState:function(){return bm(hc)},useDebugValue:Zy,useDeferredValue:function(t){var e=Ln();return yt===null?e.memoizedState=t:GC(e,yt.memoizedState,t)},useTransition:function(){var t=bm(hc)[0],e=Ln().memoizedState;return[t,e]},useMutableSource:DC,useSyncExternalStore:MC,useId:qC,unstable_isNewReconciler:!1};function Wn(t,e){if(t&&t.defaultProps){e=et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Qg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wh={isMounted:function(t){return(t=t._reactInternals)?Xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=en(),s=Os(t),i=Vr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ds(t,i,s),e!==null&&(Qn(e,t,s,r),Nd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=en(),s=Os(t),i=Vr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ds(t,i,s),e!==null&&(Qn(e,t,s,r),Nd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=en(),r=Os(t),s=Vr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ds(t,s,r),e!==null&&(Qn(e,t,r,n),Nd(e,t,r))}};function vE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!oc(n,r)||!oc(s,i):!0}function JC(t,e,n){var r=!1,s=Ws,i=e.contextType;return typeof i=="object"&&i!==null?i=On(i):(s=dn(e)?Oi:Ht.current,r=e.contextTypes,i=(r=r!=null)?ia(t,s):Ws),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function yE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wh.enqueueReplaceState(e,e.state,null)}function Yg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Hy(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=On(i):(i=dn(e)?Oi:Ht.current,s.context=ia(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wh.enqueueReplaceState(s,s.state,null),pf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ca(t,e){try{var n="",r=e;do n+=RL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Sm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var rV=typeof WeakMap=="function"?WeakMap:Map;function ZC(t,e,n){n=Vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wf||(wf=!0,av=r),Xg(t,e)},n}function eI(t,e,n){n=Vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xg(t,e),typeof r!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function wE(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new rV;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=vV.bind(null,t,e,n),e.then(t,t))}function _E(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function xE(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vr(-1,1),e.tag=2,Ds(n,e,1))),n.lanes|=1),t)}var sV=ts.ReactCurrentOwner,cn=!1;function Zt(t,e,n,r){e.child=t===null?AC(e,null,n,r):aa(e,t.child,n,r)}function EE(t,e,n,r,s){n=n.render;var i=e.ref;return qo(e,s),r=Yy(t,e,n,r,i,s),n=Xy(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Kr(t,e,s)):(Ke&&n&&Vy(e),e.flags|=1,Zt(t,e,r,s),e.child)}function TE(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!a0(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,tI(t,e,i,r,s)):(t=jd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:oc,n(o,r)&&t.ref===e.ref)return Kr(t,e,s)}return e.flags|=1,t=Ls(i,r),t.ref=e.ref,t.return=e,e.child=t}function tI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(oc(i,r)&&t.ref===e.ref)if(cn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(cn=!0);else return e.lanes=t.lanes,Kr(t,e,s)}return Jg(t,e,n,r,s)}function nI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(Vo,vn),vn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,je(Vo,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,je(Vo,vn),vn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,je(Vo,vn),vn|=r;return Zt(t,e,s,n),e.child}function rI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Jg(t,e,n,r,s){var i=dn(n)?Oi:Ht.current;return i=ia(e,i),qo(e,s),n=Yy(t,e,n,r,i,s),r=Xy(),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Kr(t,e,s)):(Ke&&r&&Vy(e),e.flags|=1,Zt(t,e,n,s),e.child)}function bE(t,e,n,r,s){if(dn(n)){var i=!0;cf(e)}else i=!1;if(qo(e,s),e.stateNode===null)Md(t,e),JC(e,n,r),Yg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=On(c):(c=dn(n)?Oi:Ht.current,c=ia(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&yE(e,o,r,c),gs=!1;var m=e.memoizedState;o.state=m,pf(e,r,o,s),l=e.memoizedState,a!==r||m!==l||un.current||gs?(typeof d=="function"&&(Qg(e,n,d,r),l=e.memoizedState),(a=gs||vE(e,n,a,r,m,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,NC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Wn(e.type,a),o.props=c,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=On(l):(l=dn(n)?Oi:Ht.current,l=ia(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&yE(e,o,r,l),gs=!1,m=e.memoizedState,o.state=m,pf(e,r,o,s);var w=e.memoizedState;a!==f||m!==w||un.current||gs?(typeof g=="function"&&(Qg(e,n,g,r),w=e.memoizedState),(c=gs||vE(e,n,c,r,m,w,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Zg(t,e,n,r,i,s)}function Zg(t,e,n,r,s,i){rI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&cE(e,n,!1),Kr(t,e,i);r=e.stateNode,sV.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=aa(e,t.child,null,i),e.child=aa(e,null,a,i)):Zt(t,e,a,i),e.memoizedState=r.state,s&&cE(e,n,!0),e.child}function sI(t){var e=t.stateNode;e.pendingContext?lE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lE(t,e.context,!1),Ky(t,e.containerInfo)}function SE(t,e,n,r,s){return oa(),Fy(s),e.flags|=256,Zt(t,e,n,r),e.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(t){return{baseLanes:t,cachePool:null,transitions:null}}function iI(t,e,n){var r=e.pendingProps,s=Ye.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),je(Ye,s&1),t===null)return Gg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Eh(o,r,0,null),t=Ai(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=tv(n),e.memoizedState=ev,t):e0(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return iV(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ls(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ls(a,i):(i=Ai(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?tv(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=ev,r}return i=t.child,t=i.sibling,r=Ls(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function e0(t,e){return e=Eh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ed(t,e,n,r){return r!==null&&Fy(r),aa(e,t.child,null,n),t=e0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function iV(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Sm(Error(K(422))),ed(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Eh({mode:"visible",children:r.children},s,0,null),i=Ai(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&aa(e,t.child,null,o),e.child.memoizedState=tv(o),e.memoizedState=ev,i);if(!(e.mode&1))return ed(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(K(419)),r=Sm(i,r,void 0),ed(t,e,o,r)}if(a=(o&t.childLanes)!==0,cn||a){if(r=Tt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Hr(t,s),Qn(r,t,s,-1))}return o0(),r=Sm(Error(K(421))),ed(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=yV.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_n=ks(s.nextSibling),En=e,Ke=!0,Kn=null,t!==null&&(Rn[Nn++]=kr,Rn[Nn++]=Dr,Rn[Nn++]=Li,kr=t.id,Dr=t.overflow,Li=e),e=e0(e,r.children),e.flags|=4096,e)}function CE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),qg(t.return,e,n)}function Cm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function oI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zt(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&CE(t,n,e);else if(t.tag===19)CE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(je(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Cm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Cm(e,!0,n,null,i);break;case"together":Cm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Md(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Kr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Vi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=Ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function oV(t,e,n){switch(e.tag){case 3:sI(e),oa();break;case 5:kC(e);break;case 1:dn(e.type)&&cf(e);break;case 4:Ky(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;je(ff,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(je(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?iI(t,e,n):(je(Ye,Ye.current&1),t=Kr(t,e,n),t!==null?t.sibling:null);je(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return oI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,nI(t,e,n)}return Kr(t,e,n)}var aI,nv,lI,cI;aI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nv=function(){};lI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,bi(dr.current);var i=null;switch(n){case"input":s=bg(t,s),r=bg(t,r),i=[];break;case"select":s=et({},s,{value:void 0}),r=et({},r,{value:void 0}),i=[];break;case"textarea":s=Ig(t,s),r=Ig(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=af)}Ag(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Fe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};cI=function(t,e,n,r){n!==r&&(e.flags|=4)};function cl(t,e){if(!Ke)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aV(t,e,n){var r=e.pendingProps;switch($y(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jt(e),null;case 1:return dn(e.type)&&lf(),jt(e),null;case 3:return r=e.stateNode,la(),We(un),We(Ht),qy(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ju(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Kn!==null&&(uv(Kn),Kn=null))),nv(t,e),jt(e),null;case 5:Gy(e);var s=bi(dc.current);if(n=e.type,t!==null&&e.stateNode!=null)lI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return jt(e),null}if(t=bi(dr.current),Ju(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ar]=e,r[cc]=i,t=(e.mode&1)!==0,n){case"dialog":Fe("cancel",r),Fe("close",r);break;case"iframe":case"object":case"embed":Fe("load",r);break;case"video":case"audio":for(s=0;s<_l.length;s++)Fe(_l[s],r);break;case"source":Fe("error",r);break;case"img":case"image":case"link":Fe("error",r),Fe("load",r);break;case"details":Fe("toggle",r);break;case"input":Ox(r,i),Fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Fe("invalid",r);break;case"textarea":jx(r,i),Fe("invalid",r)}Ag(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Xu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Xu(r.textContent,a,t),s=["children",""+a]):Zl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Fe("scroll",r)}switch(n){case"input":zu(r),Lx(r,i,!0);break;case"textarea":zu(r),Vx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=af)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=jS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ar]=e,t[cc]=r,aI(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rg(n,r),n){case"dialog":Fe("cancel",t),Fe("close",t),s=r;break;case"iframe":case"object":case"embed":Fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<_l.length;s++)Fe(_l[s],t);s=r;break;case"source":Fe("error",t),s=r;break;case"img":case"image":case"link":Fe("error",t),Fe("load",t),s=r;break;case"details":Fe("toggle",t),s=r;break;case"input":Ox(t,r),s=bg(t,r),Fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=et({},r,{value:void 0}),Fe("invalid",t);break;case"textarea":jx(t,r),s=Ig(t,r),Fe("invalid",t);break;default:s=r}Ag(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?FS(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&VS(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ec(t,l):typeof l=="number"&&ec(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Zl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Fe("scroll",t):l!=null&&by(t,i,l,o))}switch(n){case"input":zu(t),Lx(t,r,!1);break;case"textarea":zu(t),Vx(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Wo(t,!!r.multiple,i,!1):r.defaultValue!=null&&Wo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jt(e),null;case 6:if(t&&e.stateNode!=null)cI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=bi(dc.current),bi(dr.current),Ju(e)){if(r=e.stateNode,n=e.memoizedProps,r[ar]=e,(i=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:Xu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ar]=e,e.stateNode=r}return jt(e),null;case 13:if(We(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&_n!==null&&e.mode&1&&!(e.flags&128))IC(),oa(),e.flags|=98560,i=!1;else if(i=Ju(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(K(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(K(317));i[ar]=e}else oa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jt(e),i=!1}else Kn!==null&&(uv(Kn),Kn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?wt===0&&(wt=3):o0())),e.updateQueue!==null&&(e.flags|=4),jt(e),null);case 4:return la(),nv(t,e),t===null&&ac(e.stateNode.containerInfo),jt(e),null;case 10:return zy(e.type._context),jt(e),null;case 17:return dn(e.type)&&lf(),jt(e),null;case 19:if(We(Ye),i=e.memoizedState,i===null)return jt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)cl(i,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mf(t),o!==null){for(e.flags|=128,cl(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return je(Ye,Ye.current&1|2),e.child}t=t.sibling}i.tail!==null&&ct()>ua&&(e.flags|=128,r=!0,cl(i,!1),e.lanes=4194304)}else{if(!r)if(t=mf(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ke)return jt(e),null}else 2*ct()-i.renderingStartTime>ua&&n!==1073741824&&(e.flags|=128,r=!0,cl(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ct(),e.sibling=null,n=Ye.current,je(Ye,r?n&1|2:n&1),e):(jt(e),null);case 22:case 23:return i0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(jt(e),e.subtreeFlags&6&&(e.flags|=8192)):jt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function lV(t,e){switch($y(e),e.tag){case 1:return dn(e.type)&&lf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return la(),We(un),We(Ht),qy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Gy(e),null;case 13:if(We(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));oa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return We(Ye),null;case 4:return la(),null;case 10:return zy(e.type._context),null;case 22:case 23:return i0(),null;case 24:return null;default:return null}}var td=!1,Ut=!1,cV=typeof WeakSet=="function"?WeakSet:Set,re=null;function jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){st(t,e,r)}else n.current=null}function rv(t,e,n){try{n()}catch(r){st(t,e,r)}}var IE=!1;function uV(t,e){if(Fg=rf,t=pC(),jy(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++c===s&&(a=o),m===i&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ug={focusedElem:t,selectionRange:n},rf=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var y=w.memoizedProps,T=w.memoizedState,E=e.stateNode,_=E.getSnapshotBeforeUpdate(e.elementType===e.type?y:Wn(e.type,y),T);E.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(I){st(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return w=IE,IE=!1,w}function $l(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&rv(e,n,i)}s=s.next}while(s!==r)}}function _h(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function sv(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function uI(t){var e=t.alternate;e!==null&&(t.alternate=null,uI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ar],delete e[cc],delete e[Wg],delete e[Kj],delete e[Gj])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function dI(t){return t.tag===5||t.tag===3||t.tag===4}function PE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||dI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function iv(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=af));else if(r!==4&&(t=t.child,t!==null))for(iv(t,e,n),t=t.sibling;t!==null;)iv(t,e,n),t=t.sibling}function ov(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ov(t,e,n),t=t.sibling;t!==null;)ov(t,e,n),t=t.sibling}var St=null,Hn=!1;function cs(t,e,n){for(n=n.child;n!==null;)fI(t,e,n),n=n.sibling}function fI(t,e,n){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(fh,n)}catch{}switch(n.tag){case 5:Ut||jo(n,e);case 6:var r=St,s=Hn;St=null,cs(t,e,n),St=r,Hn=s,St!==null&&(Hn?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(Hn?(t=St,n=n.stateNode,t.nodeType===8?wm(t.parentNode,n):t.nodeType===1&&wm(t,n),sc(t)):wm(St,n.stateNode));break;case 4:r=St,s=Hn,St=n.stateNode.containerInfo,Hn=!0,cs(t,e,n),St=r,Hn=s;break;case 0:case 11:case 14:case 15:if(!Ut&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&rv(n,e,o),s=s.next}while(s!==r)}cs(t,e,n);break;case 1:if(!Ut&&(jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){st(n,e,a)}cs(t,e,n);break;case 21:cs(t,e,n);break;case 22:n.mode&1?(Ut=(r=Ut)||n.memoizedState!==null,cs(t,e,n),Ut=r):cs(t,e,n);break;default:cs(t,e,n)}}function AE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new cV),e.forEach(function(r){var s=wV.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Bn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,Hn=!1;break e;case 3:St=a.stateNode.containerInfo,Hn=!0;break e;case 4:St=a.stateNode.containerInfo,Hn=!0;break e}a=a.return}if(St===null)throw Error(K(160));fI(i,o,s),St=null,Hn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){st(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hI(e,t),e=e.sibling}function hI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Bn(e,t),ir(t),r&4){try{$l(3,t,t.return),_h(3,t)}catch(y){st(t,t.return,y)}try{$l(5,t,t.return)}catch(y){st(t,t.return,y)}}break;case 1:Bn(e,t),ir(t),r&512&&n!==null&&jo(n,n.return);break;case 5:if(Bn(e,t),ir(t),r&512&&n!==null&&jo(n,n.return),t.flags&32){var s=t.stateNode;try{ec(s,"")}catch(y){st(t,t.return,y)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&OS(s,i),Rg(a,o);var c=Rg(a,i);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?FS(s,f):d==="dangerouslySetInnerHTML"?VS(s,f):d==="children"?ec(s,f):by(s,d,f,c)}switch(a){case"input":Sg(s,i);break;case"textarea":LS(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?Wo(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?Wo(s,!!i.multiple,i.defaultValue,!0):Wo(s,!!i.multiple,i.multiple?[]:"",!1))}s[cc]=i}catch(y){st(t,t.return,y)}}break;case 6:if(Bn(e,t),ir(t),r&4){if(t.stateNode===null)throw Error(K(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(y){st(t,t.return,y)}}break;case 3:if(Bn(e,t),ir(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sc(e.containerInfo)}catch(y){st(t,t.return,y)}break;case 4:Bn(e,t),ir(t);break;case 13:Bn(e,t),ir(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(r0=ct())),r&4&&AE(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ut=(c=Ut)||d,Bn(e,t),Ut=c):Bn(e,t),ir(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(re=t,d=t.child;d!==null;){for(f=re=d;re!==null;){switch(m=re,g=m.child,m.tag){case 0:case 11:case 14:case 15:$l(4,m,m.return);break;case 1:jo(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(y){st(r,n,y)}}break;case 5:jo(m,m.return);break;case 22:if(m.memoizedState!==null){NE(f);continue}}g!==null?(g.return=m,re=g):NE(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=$S("display",o))}catch(y){st(t,t.return,y)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(y){st(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Bn(e,t),ir(t),r&4&&AE(t);break;case 21:break;default:Bn(e,t),ir(t)}}function ir(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(dI(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ec(s,""),r.flags&=-33);var i=PE(t);ov(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=PE(t);iv(t,a,o);break;default:throw Error(K(161))}}catch(l){st(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function dV(t,e,n){re=t,pI(t)}function pI(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||td;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ut;a=td;var c=Ut;if(td=o,(Ut=l)&&!c)for(re=s;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?kE(s):l!==null?(l.return=o,re=l):kE(s);for(;i!==null;)re=i,pI(i),i=i.sibling;re=s,td=a,Ut=c}RE(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):RE(t)}}function RE(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ut||_h(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ut)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Wn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&pE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}pE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&sc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ut||e.flags&512&&sv(e)}catch(m){st(e,e.return,m)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function NE(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function kE(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_h(4,e)}catch(l){st(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){st(e,s,l)}}var i=e.return;try{sv(e)}catch(l){st(e,i,l)}break;case 5:var o=e.return;try{sv(e)}catch(l){st(e,o,l)}}}catch(l){st(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var fV=Math.ceil,yf=ts.ReactCurrentDispatcher,t0=ts.ReactCurrentOwner,Dn=ts.ReactCurrentBatchConfig,Re=0,Tt=null,mt=null,Pt=0,vn=0,Vo=si(0),wt=0,mc=null,Vi=0,xh=0,n0=0,Fl=null,an=null,r0=0,ua=1/0,Ar=null,wf=!1,av=null,Ms=null,nd=!1,Ss=null,_f=0,Ul=0,lv=null,Od=-1,Ld=0;function en(){return Re&6?ct():Od!==-1?Od:Od=ct()}function Os(t){return t.mode&1?Re&2&&Pt!==0?Pt&-Pt:Qj.transition!==null?(Ld===0&&(Ld=JS()),Ld):(t=De,t!==0||(t=window.event,t=t===void 0?16:iC(t.type)),t):1}function Qn(t,e,n,r){if(50<Ul)throw Ul=0,lv=null,Error(K(185));Uc(t,n,r),(!(Re&2)||t!==Tt)&&(t===Tt&&(!(Re&2)&&(xh|=n),wt===4&&ws(t,Pt)),fn(t,r),n===1&&Re===0&&!(e.mode&1)&&(ua=ct()+500,vh&&ii()))}function fn(t,e){var n=t.callbackNode;QL(t,e);var r=nf(t,t===Tt?Pt:0);if(r===0)n!==null&&Ux(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Ux(n),e===1)t.tag===0?qj(DE.bind(null,t)):bC(DE.bind(null,t)),Wj(function(){!(Re&6)&&ii()}),n=null;else{switch(ZS(r)){case 1:n=Ay;break;case 4:n=YS;break;case 16:n=tf;break;case 536870912:n=XS;break;default:n=tf}n=EI(n,mI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function mI(t,e){if(Od=-1,Ld=0,Re&6)throw Error(K(327));var n=t.callbackNode;if(Qo()&&t.callbackNode!==n)return null;var r=nf(t,t===Tt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xf(t,r);else{e=r;var s=Re;Re|=2;var i=vI();(Tt!==t||Pt!==e)&&(Ar=null,ua=ct()+500,Pi(t,e));do try{mV();break}catch(a){gI(t,a)}while(1);By(),yf.current=i,Re=s,mt!==null?e=0:(Tt=null,Pt=0,e=wt)}if(e!==0){if(e===2&&(s=Og(t),s!==0&&(r=s,e=cv(t,s))),e===1)throw n=mc,Pi(t,0),ws(t,r),fn(t,ct()),n;if(e===6)ws(t,r);else{if(s=t.current.alternate,!(r&30)&&!hV(s)&&(e=xf(t,r),e===2&&(i=Og(t),i!==0&&(r=i,e=cv(t,i))),e===1))throw n=mc,Pi(t,0),ws(t,r),fn(t,ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:vi(t,an,Ar);break;case 3:if(ws(t,r),(r&130023424)===r&&(e=r0+500-ct(),10<e)){if(nf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){en(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=zg(vi.bind(null,t,an,Ar),e);break}vi(t,an,Ar);break;case 4:if(ws(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-qn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fV(r/1960))-r,10<r){t.timeoutHandle=zg(vi.bind(null,t,an,Ar),r);break}vi(t,an,Ar);break;case 5:vi(t,an,Ar);break;default:throw Error(K(329))}}}return fn(t,ct()),t.callbackNode===n?mI.bind(null,t):null}function cv(t,e){var n=Fl;return t.current.memoizedState.isDehydrated&&(Pi(t,e).flags|=256),t=xf(t,e),t!==2&&(e=an,an=n,e!==null&&uv(e)),t}function uv(t){an===null?an=t:an.push.apply(an,t)}function hV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Yn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~n0,e&=~xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-qn(e),r=1<<n;t[n]=-1,e&=~r}}function DE(t){if(Re&6)throw Error(K(327));Qo();var e=nf(t,0);if(!(e&1))return fn(t,ct()),null;var n=xf(t,e);if(t.tag!==0&&n===2){var r=Og(t);r!==0&&(e=r,n=cv(t,r))}if(n===1)throw n=mc,Pi(t,0),ws(t,e),fn(t,ct()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vi(t,an,Ar),fn(t,ct()),null}function s0(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(ua=ct()+500,vh&&ii())}}function $i(t){Ss!==null&&Ss.tag===0&&!(Re&6)&&Qo();var e=Re;Re|=1;var n=Dn.transition,r=De;try{if(Dn.transition=null,De=1,t)return t()}finally{De=r,Dn.transition=n,Re=e,!(Re&6)&&ii()}}function i0(){vn=Vo.current,We(Vo)}function Pi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,zj(n)),mt!==null)for(n=mt.return;n!==null;){var r=n;switch($y(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lf();break;case 3:la(),We(un),We(Ht),qy();break;case 5:Gy(r);break;case 4:la();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:zy(r.type._context);break;case 22:case 23:i0()}n=n.return}if(Tt=t,mt=t=Ls(t.current,null),Pt=vn=e,wt=0,mc=null,n0=xh=Vi=0,an=Fl=null,Ti!==null){for(e=0;e<Ti.length;e++)if(n=Ti[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ti=null}return t}function gI(t,e){do{var n=mt;try{if(By(),kd.current=vf,gf){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gf=!1}if(ji=0,xt=yt=Ze=null,Vl=!1,fc=0,t0.current=null,n===null||n.return===null){wt=1,mc=e,mt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Pt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=_E(o);if(g!==null){g.flags&=-257,xE(g,o,a,i,e),g.mode&1&&wE(i,c,e),e=g,l=c;var w=e.updateQueue;if(w===null){var y=new Set;y.add(l),e.updateQueue=y}else w.add(l);break e}else{if(!(e&1)){wE(i,c,e),o0();break e}l=Error(K(426))}}else if(Ke&&a.mode&1){var T=_E(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),xE(T,o,a,i,e),Fy(ca(l,a));break e}}i=l=ca(l,a),wt!==4&&(wt=2),Fl===null?Fl=[i]:Fl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var E=ZC(i,l,e);hE(i,E);break e;case 1:a=l;var _=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ms===null||!Ms.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var I=eI(i,a,e);hE(i,I);break e}}i=i.return}while(i!==null)}wI(n)}catch(k){e=k,mt===n&&n!==null&&(mt=n=n.return);continue}break}while(1)}function vI(){var t=yf.current;return yf.current=vf,t===null?vf:t}function o0(){(wt===0||wt===3||wt===2)&&(wt=4),Tt===null||!(Vi&268435455)&&!(xh&268435455)||ws(Tt,Pt)}function xf(t,e){var n=Re;Re|=2;var r=vI();(Tt!==t||Pt!==e)&&(Ar=null,Pi(t,e));do try{pV();break}catch(s){gI(t,s)}while(1);if(By(),Re=n,yf.current=r,mt!==null)throw Error(K(261));return Tt=null,Pt=0,wt}function pV(){for(;mt!==null;)yI(mt)}function mV(){for(;mt!==null&&!FL();)yI(mt)}function yI(t){var e=xI(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?wI(t):mt=e,t0.current=null}function wI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=lV(n,e),n!==null){n.flags&=32767,mt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,mt=null;return}}else if(n=aV(n,e,vn),n!==null){mt=n;return}if(e=e.sibling,e!==null){mt=e;return}mt=e=t}while(e!==null);wt===0&&(wt=5)}function vi(t,e,n){var r=De,s=Dn.transition;try{Dn.transition=null,De=1,gV(t,e,n,r)}finally{Dn.transition=s,De=r}return null}function gV(t,e,n,r){do Qo();while(Ss!==null);if(Re&6)throw Error(K(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(YL(t,i),t===Tt&&(mt=Tt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||nd||(nd=!0,EI(tf,function(){return Qo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Dn.transition,Dn.transition=null;var o=De;De=1;var a=Re;Re|=4,t0.current=null,uV(t,n),hI(n,t),Lj(Ug),rf=!!Fg,Ug=Fg=null,t.current=n,dV(n),UL(),Re=a,De=o,Dn.transition=i}else t.current=n;if(nd&&(nd=!1,Ss=t,_f=s),i=t.pendingLanes,i===0&&(Ms=null),WL(n.stateNode),fn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wf)throw wf=!1,t=av,av=null,t;return _f&1&&t.tag!==0&&Qo(),i=t.pendingLanes,i&1?t===lv?Ul++:(Ul=0,lv=t):Ul=0,ii(),null}function Qo(){if(Ss!==null){var t=ZS(_f),e=Dn.transition,n=De;try{if(Dn.transition=null,De=16>t?16:t,Ss===null)var r=!1;else{if(t=Ss,Ss=null,_f=0,Re&6)throw Error(K(331));var s=Re;for(Re|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(re=c;re!==null;){var d=re;switch(d.tag){case 0:case 11:case 15:$l(8,d,i)}var f=d.child;if(f!==null)f.return=d,re=f;else for(;re!==null;){d=re;var m=d.sibling,g=d.return;if(uI(d),d===c){re=null;break}if(m!==null){m.return=g,re=m;break}re=g}}}var w=i.alternate;if(w!==null){var y=w.child;if(y!==null){w.child=null;do{var T=y.sibling;y.sibling=null,y=T}while(y!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$l(9,i,i.return)}var E=i.sibling;if(E!==null){E.return=i.return,re=E;break e}re=i.return}}var _=t.current;for(re=_;re!==null;){o=re;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,re=x;else e:for(o=_;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_h(9,a)}}catch(k){st(a,a.return,k)}if(a===o){re=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,re=I;break e}re=a.return}}if(Re=s,ii(),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(fh,t)}catch{}r=!0}return r}finally{De=n,Dn.transition=e}}return!1}function ME(t,e,n){e=ca(n,e),e=ZC(t,e,1),t=Ds(t,e,1),e=en(),t!==null&&(Uc(t,1,e),fn(t,e))}function st(t,e,n){if(t.tag===3)ME(t,t,n);else for(;e!==null;){if(e.tag===3){ME(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ms===null||!Ms.has(r))){t=ca(n,t),t=eI(e,t,1),e=Ds(e,t,1),t=en(),e!==null&&(Uc(e,1,t),fn(e,t));break}}e=e.return}}function vV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=en(),t.pingedLanes|=t.suspendedLanes&n,Tt===t&&(Pt&n)===n&&(wt===4||wt===3&&(Pt&130023424)===Pt&&500>ct()-r0?Pi(t,0):n0|=n),fn(t,e)}function _I(t,e){e===0&&(t.mode&1?(e=Ku,Ku<<=1,!(Ku&130023424)&&(Ku=4194304)):e=1);var n=en();t=Hr(t,e),t!==null&&(Uc(t,e,n),fn(t,n))}function yV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),_I(t,n)}function wV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),_I(t,n)}var xI;xI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cn=!1,oV(t,e,n);cn=!!(t.flags&131072)}else cn=!1,Ke&&e.flags&1048576&&SC(e,df,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Md(t,e),t=e.pendingProps;var s=ia(e,Ht.current);qo(e,n),s=Yy(null,e,r,t,s,n);var i=Xy();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(i=!0,cf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Hy(e),s.updater=wh,e.stateNode=s,s._reactInternals=e,Yg(e,r,t,n),e=Zg(null,e,r,!0,i,n)):(e.tag=0,Ke&&i&&Vy(e),Zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Md(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=xV(r),t=Wn(r,t),s){case 0:e=Jg(null,e,r,t,n);break e;case 1:e=bE(null,e,r,t,n);break e;case 11:e=EE(null,e,r,t,n);break e;case 14:e=TE(null,e,r,Wn(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),Jg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),bE(t,e,r,s,n);case 3:e:{if(sI(e),t===null)throw Error(K(387));r=e.pendingProps,i=e.memoizedState,s=i.element,NC(t,e),pf(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ca(Error(K(423)),e),e=SE(t,e,r,n,s);break e}else if(r!==s){s=ca(Error(K(424)),e),e=SE(t,e,r,n,s);break e}else for(_n=ks(e.stateNode.containerInfo.firstChild),En=e,Ke=!0,Kn=null,n=AC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(oa(),r===s){e=Kr(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return kC(e),t===null&&Gg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Bg(r,s)?o=null:i!==null&&Bg(r,i)&&(e.flags|=32),rI(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&Gg(e),null;case 13:return iI(t,e,n);case 4:return Ky(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=aa(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),EE(t,e,r,s,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,je(ff,r._currentValue),r._currentValue=o,i!==null)if(Yn(i.value,o)){if(i.children===s.children&&!un.current){e=Kr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Vr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),qg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(K(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),qg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,qo(e,n),s=On(s),r=r(s),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,s=Wn(r,e.pendingProps),s=Wn(r.type,s),TE(t,e,r,s,n);case 15:return tI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Wn(r,s),Md(t,e),e.tag=1,dn(r)?(t=!0,cf(e)):t=!1,qo(e,n),JC(e,r,s),Yg(e,r,s,n),Zg(null,e,r,!0,t,n);case 19:return oI(t,e,n);case 22:return nI(t,e,n)}throw Error(K(156,e.tag))};function EI(t,e){return QS(t,e)}function _V(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,e,n,r){return new _V(t,e,n,r)}function a0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xV(t){if(typeof t=="function")return a0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Cy)return 11;if(t===Iy)return 14}return 2}function Ls(t,e){var n=t.alternate;return n===null?(n=kn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")a0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Po:return Ai(n.children,s,i,e);case Sy:o=8,s|=8;break;case _g:return t=kn(12,n,e,s|2),t.elementType=_g,t.lanes=i,t;case xg:return t=kn(13,n,e,s),t.elementType=xg,t.lanes=i,t;case Eg:return t=kn(19,n,e,s),t.elementType=Eg,t.lanes=i,t;case kS:return Eh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RS:o=10;break e;case NS:o=9;break e;case Cy:o=11;break e;case Iy:o=14;break e;case ms:o=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=kn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ai(t,e,n,r){return t=kn(7,t,r,e),t.lanes=n,t}function Eh(t,e,n,r){return t=kn(22,t,r,e),t.elementType=kS,t.lanes=n,t.stateNode={isHidden:!1},t}function Im(t,e,n){return t=kn(6,t,null,e),t.lanes=n,t}function Pm(t,e,n){return e=kn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function EV(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lm(0),this.expirationTimes=lm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function l0(t,e,n,r,s,i,o,a,l){return t=new EV(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=kn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Hy(i),t}function TV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function TI(t){if(!t)return Ws;t=t._reactInternals;e:{if(Xi(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(dn(n))return TC(t,n,e)}return e}function bI(t,e,n,r,s,i,o,a,l){return t=l0(n,r,!0,t,s,i,o,a,l),t.context=TI(null),n=t.current,r=en(),s=Os(n),i=Vr(r,s),i.callback=e??null,Ds(n,i,s),t.current.lanes=s,Uc(t,s,r),fn(t,r),t}function Th(t,e,n,r){var s=e.current,i=en(),o=Os(s);return n=TI(n),e.context===null?e.context=n:e.pendingContext=n,e=Vr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ds(s,e,o),t!==null&&(Qn(t,s,o,i),Nd(t,s,o)),o}function Ef(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function OE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function c0(t,e){OE(t,e),(t=t.alternate)&&OE(t,e)}function bV(){return null}var SI=typeof reportError=="function"?reportError:function(t){console.error(t)};function u0(t){this._internalRoot=t}bh.prototype.render=u0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Th(t,e,null,null)};bh.prototype.unmount=u0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;$i(function(){Th(null,t,null,null)}),e[Wr]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=nC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ys.length&&e!==0&&e<ys[n].priority;n++);ys.splice(n,0,t),n===0&&sC(t)}};function d0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LE(){}function SV(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Ef(o);i.call(c)}}var o=bI(e,r,t,0,null,!1,!1,"",LE);return t._reactRootContainer=o,t[Wr]=o.current,ac(t.nodeType===8?t.parentNode:t),$i(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Ef(l);a.call(c)}}var l=l0(t,0,!1,null,null,!1,!1,"",LE);return t._reactRootContainer=l,t[Wr]=l.current,ac(t.nodeType===8?t.parentNode:t),$i(function(){Th(e,l,n,r)}),l}function Ch(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ef(o);a.call(l)}}Th(e,o,t,s)}else o=SV(n,e,t,s,r);return Ef(o)}eC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wl(e.pendingLanes);n!==0&&(Ry(e,n|1),fn(e,ct()),!(Re&6)&&(ua=ct()+500,ii()))}break;case 13:$i(function(){var r=Hr(t,1);if(r!==null){var s=en();Qn(r,t,1,s)}}),c0(t,1)}};Ny=function(t){if(t.tag===13){var e=Hr(t,134217728);if(e!==null){var n=en();Qn(e,t,134217728,n)}c0(t,134217728)}};tC=function(t){if(t.tag===13){var e=Os(t),n=Hr(t,e);if(n!==null){var r=en();Qn(n,t,e,r)}c0(t,e)}};nC=function(){return De};rC=function(t,e){var n=De;try{return De=t,e()}finally{De=n}};kg=function(t,e,n){switch(e){case"input":if(Sg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=gh(r);if(!s)throw Error(K(90));MS(r),Sg(r,s)}}}break;case"textarea":LS(t,n);break;case"select":e=n.value,e!=null&&Wo(t,!!n.multiple,e,!1)}};zS=s0;WS=$i;var CV={usingClientEntryPoint:!1,Events:[zc,ko,gh,US,BS,s0]},ul={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},IV={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=GS(t),t===null?null:t.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||bV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{fh=rd.inject(IV),ur=rd}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CV;Cn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d0(e))throw Error(K(200));return TV(t,e,null,n)};Cn.createRoot=function(t,e){if(!d0(t))throw Error(K(299));var n=!1,r="",s=SI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=l0(t,1,!1,null,null,n,!1,r,s),t[Wr]=e.current,ac(t.nodeType===8?t.parentNode:t),new u0(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=GS(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return $i(t)};Cn.hydrate=function(t,e,n){if(!Sh(e))throw Error(K(200));return Ch(null,t,e,!0,n)};Cn.hydrateRoot=function(t,e,n){if(!d0(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=SI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bI(e,null,t,1,n??null,s,!1,i,o),t[Wr]=e.current,ac(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new bh(e)};Cn.render=function(t,e,n){if(!Sh(e))throw Error(K(200));return Ch(null,t,e,!1,n)};Cn.unmountComponentAtNode=function(t){if(!Sh(t))throw Error(K(40));return t._reactRootContainer?($i(function(){Ch(null,null,t,!1,function(){t._reactRootContainer=null,t[Wr]=null})}),!0):!1};Cn.unstable_batchedUpdates=s0;Cn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sh(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Ch(t,e,n,!1,r)};Cn.version="18.3.1-next-f1338f8080-20240426";function CI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(CI)}catch(t){console.error(t)}}CI(),CS.exports=Cn;var ns=CS.exports;const II=pS(ns);var jE=ns;yg.createRoot=jE.createRoot,yg.hydrateRoot=jE.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gc.apply(this,arguments)}var Cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cs||(Cs={}));const VE="popstate";function PV(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return dv("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:AI(s)}return RV(e,n,null,t)}function vt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AV(){return Math.random().toString(36).substr(2,8)}function $E(t,e){return{usr:t.state,key:t.key,idx:e}}function dv(t,e,n,r){return n===void 0&&(n=null),gc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ra(e):e,{state:n,key:e&&e.key||r||AV()})}function AI(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ra(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RV(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Cs.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(gc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function f(){a=Cs.Pop;let T=d(),E=T==null?null:T-c;c=T,l&&l({action:a,location:y.location,delta:E})}function m(T,E){a=Cs.Push;let _=dv(y.location,T,E);n&&n(_,T),c=d()+1;let x=$E(_,c),I=y.createHref(_);try{o.pushState(x,"",I)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(I)}i&&l&&l({action:a,location:y.location,delta:1})}function g(T,E){a=Cs.Replace;let _=dv(y.location,T,E);n&&n(_,T),c=d();let x=$E(_,c),I=y.createHref(_);o.replaceState(x,"",I),i&&l&&l({action:a,location:y.location,delta:0})}function w(T){let E=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof T=="string"?T:AI(T);return _=_.replace(/ $/,"%20"),vt(E,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,E)}let y={get action(){return a},get location(){return t(s,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(VE,f),l=T,()=>{s.removeEventListener(VE,f),l=null}},createHref(T){return e(s,T)},createURL:w,encodeLocation(T){let E=w(T);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:g,go(T){return o.go(T)}};return y}var FE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(FE||(FE={}));function NV(t,e,n){return n===void 0&&(n="/"),kV(t,e,n,!1)}function kV(t,e,n,r){let s=typeof e=="string"?Ra(e):e,i=kI(s.pathname||"/",n);if(i==null)return null;let o=RI(t);DV(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=WV(i);a=BV(o[l],c,r)}return a}function RI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(vt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ri([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(vt(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),RI(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:FV(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of NI(i.path))s(i,o,l)}),e}function NI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=NI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function DV(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:UV(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MV=/^:[\w-]+$/,OV=3,LV=2,jV=1,VV=10,$V=-2,UE=t=>t==="*";function FV(t,e){let n=t.split("/"),r=n.length;return n.some(UE)&&(r+=$V),e&&(r+=LV),n.filter(s=>!UE(s)).reduce((s,i)=>s+(MV.test(i)?OV:i===""?jV:VV),r)}function UV(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function BV(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",f=BE({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),m=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=BE({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:Ri([i,f.pathname]),pathnameBase:qV(Ri([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=Ri([i,f.pathnameBase]))}return o}function BE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=zV(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,f)=>{let{paramName:m,isOptional:g}=d;if(m==="*"){let y=a[f]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?c[m]=void 0:c[m]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function zV(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function WV(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function kI(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function HV(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ra(t):t;return{pathname:n?n.startsWith("/")?n:KV(n,e):e,search:QV(r),hash:YV(s)}}function KV(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Am(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function GV(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function DI(t,e){let n=GV(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function MI(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ra(t):(s=gc({},t),vt(!s.pathname||!s.pathname.includes("?"),Am("?","pathname","search",s)),vt(!s.pathname||!s.pathname.includes("#"),Am("#","pathname","hash",s)),vt(!s.search||!s.search.includes("#"),Am("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=HV(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),qV=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),QV=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,YV=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function XV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OI=["post","put","patch","delete"];new Set(OI);const JV=["get",...OI];new Set(JV);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vc(){return vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vc.apply(this,arguments)}const f0=p.createContext(null),ZV=p.createContext(null),Hc=p.createContext(null),Ih=p.createContext(null),Ji=p.createContext({outlet:null,matches:[],isDataRoute:!1}),LI=p.createContext(null);function Kc(){return p.useContext(Ih)!=null}function h0(){return Kc()||vt(!1),p.useContext(Ih).location}function jI(t){p.useContext(Hc).static||p.useLayoutEffect(t)}function e$(){let{isDataRoute:t}=p.useContext(Ji);return t?h$():t$()}function t$(){Kc()||vt(!1);let t=p.useContext(f0),{basename:e,future:n,navigator:r}=p.useContext(Hc),{matches:s}=p.useContext(Ji),{pathname:i}=h0(),o=JSON.stringify(DI(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return jI(()=>{a.current=!0}),p.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=MI(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ri([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,o,i,t])}function n$(t,e){return r$(t,e)}function r$(t,e,n,r){Kc()||vt(!1);let{navigator:s}=p.useContext(Hc),{matches:i}=p.useContext(Ji),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=h0(),d;if(e){var f;let T=typeof e=="string"?Ra(e):e;l==="/"||(f=T.pathname)!=null&&f.startsWith(l)||vt(!1),d=T}else d=c;let m=d.pathname||"/",g=m;if(l!=="/"){let T=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=NV(t,{pathname:g}),y=l$(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:Ri([l,s.encodeLocation?s.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:Ri([l,s.encodeLocation?s.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),i,n,r);return e&&y?p.createElement(Ih.Provider,{value:{location:vc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Cs.Pop}},y):y}function s$(){let t=f$(),e=XV(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,i)}const i$=p.createElement(s$,null);class o$ extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Ji.Provider,{value:this.props.routeContext},p.createElement(LI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function a$(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext(f0);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Ji.Provider,{value:e},r)}function l$(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);d>=0||vt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:g}=n,w=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,f,m)=>{let g,w=!1,y=null,T=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,y=f.route.errorElement||i$,l&&(c<0&&m===0?(p$("route-fallback",!1),w=!0,T=null):c===m&&(w=!0,T=f.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,m+1)),_=()=>{let x;return g?x=y:w?x=T:f.route.Component?x=p.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=d,p.createElement(a$,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(o$,{location:n.location,revalidation:n.revalidation,component:y,error:g,children:_(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):_()},null)}var VI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VI||{}),Tf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Tf||{});function c$(t){let e=p.useContext(f0);return e||vt(!1),e}function u$(t){let e=p.useContext(ZV);return e||vt(!1),e}function d$(t){let e=p.useContext(Ji);return e||vt(!1),e}function $I(t){let e=d$(),n=e.matches[e.matches.length-1];return n.route.id||vt(!1),n.route.id}function f$(){var t;let e=p.useContext(LI),n=u$(Tf.UseRouteError),r=$I(Tf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function h$(){let{router:t}=c$(VI.UseNavigateStable),e=$I(Tf.UseNavigateStable),n=p.useRef(!1);return jI(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,vc({fromRouteId:e},i)))},[t,e])}const zE={};function p$(t,e,n){!e&&!zE[t]&&(zE[t]=!0)}function m$(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function dl(t){let{to:e,replace:n,state:r,relative:s}=t;Kc()||vt(!1);let{future:i,static:o}=p.useContext(Hc),{matches:a}=p.useContext(Ji),{pathname:l}=h0(),c=e$(),d=MI(e,DI(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(d);return p.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:s}),[c,f,s,n,r]),null}function xl(t){vt(!1)}function g$(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Cs.Pop,navigator:i,static:o=!1,future:a}=t;Kc()&&vt(!1);let l=e.replace(/^\/*/,"/"),c=p.useMemo(()=>({basename:l,navigator:i,static:o,future:vc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ra(r));let{pathname:d="/",search:f="",hash:m="",state:g=null,key:w="default"}=r,y=p.useMemo(()=>{let T=kI(d,l);return T==null?null:{location:{pathname:T,search:f,hash:m,state:g,key:w},navigationType:s}},[l,d,f,m,g,w,s]);return y==null?null:p.createElement(Hc.Provider,{value:c},p.createElement(Ih.Provider,{children:n,value:y}))}function v$(t){let{children:e,location:n}=t;return n$(fv(e),n)}new Promise(()=>{});function fv(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,fv(r.props.children,i));return}r.type!==xl&&vt(!1),!r.props.index||!r.props.children||vt(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=fv(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const y$="6";try{window.__reactRouterVersion=y$}catch{}const w$="startTransition",WE=dh[w$];function _$(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=PV({window:s,v5Compat:!0}));let o=i.current,[a,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=p.useCallback(f=>{c&&WE?WE(()=>l(f)):l(f)},[l,c]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>m$(r),[r]),p.createElement(g$,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var HE;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(HE||(HE={}));var KE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KE||(KE={}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},x$=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},UI={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(m=64)),r.push(n[d],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):x$(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||f==null)throw new E$;const m=i<<2|a>>4;if(r.push(m),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class E$ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const T$=function(t){const e=FI(t);return UI.encodeByteArray(e,!0)},bf=function(t){return T$(t).replace(/\./g,"")},BI=function(t){try{return UI.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=()=>b$().__FIREBASE_DEFAULTS__,C$=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},I$=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&BI(t[1]);return e&&JSON.parse(e)},Ph=()=>{try{return S$()||C$()||I$()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},zI=t=>{var e,n;return(n=(e=Ph())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},WI=t=>{const e=zI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},HI=()=>{var t;return(t=Ph())===null||t===void 0?void 0:t.config},KI=t=>{var e;return(e=Ph())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[bf(JSON.stringify(n)),bf(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function A$(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())}function R$(){var t;const e=(t=Ph())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function N$(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k$(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function D$(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function M$(){const t=Kt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function O$(){return!R$()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L$(){try{return typeof indexedDB=="object"}catch{return!1}}function j$(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V$="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=V$,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gc.prototype.create)}}class Gc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?$$(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Tr(s,a,r)}}function $$(t,e){return t.replace(F$,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const F$=/\{\$([^}]+)}/g;function U$(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function yc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(GE(i)&&GE(o)){if(!yc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function GE(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function El(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Tl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function B$(t,e){const n=new z$(t,e);return n.subscribe.bind(n)}class z${constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");W$(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Rm),s.error===void 0&&(s.error=Rm),s.complete===void 0&&(s.complete=Rm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W$(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class Hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H$=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new P$;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(G$(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:K$(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function K$(t){return t===yi?void 0:t}function G$(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H$(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Pe||(Pe={}));const Q$={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},Y$=Pe.INFO,X$={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},J$=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=X$[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class p0{constructor(e){this.name=e,this._logLevel=Y$,this._logHandler=J$,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Q$[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const Z$=(t,e)=>e.some(n=>t instanceof n);let qE,QE;function eF(){return qE||(qE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tF(){return QE||(QE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qI=new WeakMap,hv=new WeakMap,QI=new WeakMap,Nm=new WeakMap,m0=new WeakMap;function nF(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(js(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qI.set(n,t)}).catch(()=>{}),m0.set(e,t),e}function rF(t){if(hv.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});hv.set(t,e)}let pv={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return hv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||QI.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sF(t){pv=t(pv)}function iF(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(km(this),e,...n);return QI.set(r,e.sort?e.sort():[e]),js(r)}:tF().includes(t)?function(...e){return t.apply(km(this),e),js(qI.get(this))}:function(...e){return js(t.apply(km(this),e))}}function oF(t){return typeof t=="function"?iF(t):(t instanceof IDBTransaction&&rF(t),Z$(t,eF())?new Proxy(t,pv):t)}function js(t){if(t instanceof IDBRequest)return nF(t);if(Nm.has(t))return Nm.get(t);const e=oF(t);return e!==t&&(Nm.set(t,e),m0.set(e,t)),e}const km=t=>m0.get(t);function aF(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=js(o);return r&&o.addEventListener("upgradeneeded",l=>{r(js(o.result),l.oldVersion,l.newVersion,js(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const lF=["get","getKey","getAll","getAllKeys","count"],cF=["put","add","delete","clear"],Dm=new Map;function YE(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Dm.get(e))return Dm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=cF.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||lF.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Dm.set(e,i),i}sF(t=>({...t,get:(e,n,r)=>YE(e,n)||t.get(e,n,r),has:(e,n)=>!!YE(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uF{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dF(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function dF(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mv="@firebase/app",XE="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new p0("@firebase/app"),fF="@firebase/app-compat",hF="@firebase/analytics-compat",pF="@firebase/analytics",mF="@firebase/app-check-compat",gF="@firebase/app-check",vF="@firebase/auth",yF="@firebase/auth-compat",wF="@firebase/database",_F="@firebase/data-connect",xF="@firebase/database-compat",EF="@firebase/functions",TF="@firebase/functions-compat",bF="@firebase/installations",SF="@firebase/installations-compat",CF="@firebase/messaging",IF="@firebase/messaging-compat",PF="@firebase/performance",AF="@firebase/performance-compat",RF="@firebase/remote-config",NF="@firebase/remote-config-compat",kF="@firebase/storage",DF="@firebase/storage-compat",MF="@firebase/firestore",OF="@firebase/vertexai-preview",LF="@firebase/firestore-compat",jF="firebase",VF="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="[DEFAULT]",$F={[mv]:"fire-core",[fF]:"fire-core-compat",[pF]:"fire-analytics",[hF]:"fire-analytics-compat",[gF]:"fire-app-check",[mF]:"fire-app-check-compat",[vF]:"fire-auth",[yF]:"fire-auth-compat",[wF]:"fire-rtdb",[_F]:"fire-data-connect",[xF]:"fire-rtdb-compat",[EF]:"fire-fn",[TF]:"fire-fn-compat",[bF]:"fire-iid",[SF]:"fire-iid-compat",[CF]:"fire-fcm",[IF]:"fire-fcm-compat",[PF]:"fire-perf",[AF]:"fire-perf-compat",[RF]:"fire-rc",[NF]:"fire-rc-compat",[kF]:"fire-gcs",[DF]:"fire-gcs-compat",[MF]:"fire-fst",[LF]:"fire-fst-compat",[OF]:"fire-vertex","fire-js":"fire-js",[jF]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sf=new Map,FF=new Map,vv=new Map;function JE(t,e){try{t.container.addComponent(e)}catch(n){Gr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Fi(t){const e=t.name;if(vv.has(e))return Gr.debug(`There were multiple attempts to register component ${e}.`),!1;vv.set(e,t);for(const n of Sf.values())JE(n,t);for(const n of FF.values())JE(n,t);return!0}function Ah(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function lr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new Gc("app","Firebase",UF);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BF{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=VF;function YI(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:gv,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Vs.create("bad-app-name",{appName:String(s)});if(n||(n=HI()),!n)throw Vs.create("no-options");const i=Sf.get(s);if(i){if(yc(n,i.options)&&yc(r,i.config))return i;throw Vs.create("duplicate-app",{appName:s})}const o=new q$(s);for(const l of vv.values())o.addComponent(l);const a=new BF(n,r,o);return Sf.set(s,a),a}function g0(t=gv){const e=Sf.get(t);if(!e&&t===gv&&HI())return YI();if(!e)throw Vs.create("no-app",{appName:t});return e}function fr(t,e,n){var r;let s=(r=$F[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gr.warn(a.join(" "));return}Fi(new Hs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF="firebase-heartbeat-database",WF=1,wc="firebase-heartbeat-store";let Mm=null;function XI(){return Mm||(Mm=aF(zF,WF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Vs.create("idb-open",{originalErrorMessage:t.message})})),Mm}async function HF(t){try{const n=(await XI()).transaction(wc),r=await n.objectStore(wc).get(JI(t));return await n.done,r}catch(e){if(e instanceof Tr)Gr.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gr.warn(n.message)}}}async function ZE(t,e){try{const r=(await XI()).transaction(wc,"readwrite");await r.objectStore(wc).put(e,JI(t)),await r.done}catch(n){if(n instanceof Tr)Gr.warn(n.message);else{const r=Vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Gr.warn(r.message)}}}function JI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF=1024,GF=30*24*60*60*1e3;class qF{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new YF(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=eT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=GF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=eT(),{heartbeatsToSend:r,unsentEntries:s}=QF(this._heartbeatsCache.heartbeats),i=bf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Gr.warn(n),""}}}function eT(){return new Date().toISOString().substring(0,10)}function QF(t,e=KF){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),tT(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),tT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class YF{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L$()?j$().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HF(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return ZE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function tT(t){return bf(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XF(t){Fi(new Hs("platform-logger",e=>new uF(e),"PRIVATE")),Fi(new Hs("heartbeat",e=>new qF(e),"PRIVATE")),fr(mv,XE,t),fr(mv,XE,"esm2017"),fr("fire-js","")}XF("");var zt=function(){return zt=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},zt.apply(this,arguments)};function Na(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ZI(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function eP(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JF=eP,tP=new Gc("auth","Firebase",eP());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cf=new p0("@firebase/auth");function ZF(t,...e){Cf.logLevel<=Pe.WARN&&Cf.warn(`Auth (${Zi}): ${t}`,...e)}function Vd(t,...e){Cf.logLevel<=Pe.ERROR&&Cf.error(`Auth (${Zi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(t,...e){throw v0(t,...e)}function hr(t,...e){return v0(t,...e)}function nP(t,e,n){const r=Object.assign(Object.assign({},JF()),{[e]:n});return new Gc("auth","Firebase",r).create(e,{appName:t.name})}function $r(t){return nP(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function v0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tP.create(t,...e)}function fe(t,e,...n){if(!t)throw v0(e,...n)}function Mr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Vd(e),new Error(e)}function qr(t,e){t||Mr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function e5(){return nT()==="http:"||nT()==="https:"}function nT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(e5()||k$()||"connection"in navigator)?navigator.onLine:!0}function n5(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n){this.shortDelay=e,this.longDelay=n,qr(n>e,"Short delay should be less than long delay!"),this.isMobile=A$()||D$()}get(){return t5()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(t,e){qr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Mr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Mr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Mr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r5={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s5=new Qc(3e4,6e4);function oi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ai(t,e,n,r,s={}){return sP(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=qc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},i);return N$()||(c.referrerPolicy="no-referrer"),rP.fetch()(iP(t,t.config.apiHost,n,a),c)})}async function sP(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},r5),e);try{const s=new o5(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw sd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw sd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw sd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw sd(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw nP(t,d,c);Xn(t,d)}}catch(s){if(s instanceof Tr)throw s;Xn(t,"network-request-failed",{message:String(s)})}}async function Yc(t,e,n,r,s={}){const i=await ai(t,e,n,r,s);return"mfaPendingCredential"in i&&Xn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function iP(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?y0(t.config,s):`${t.config.apiScheme}://${s}`}function i5(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class o5{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(hr(this.auth,"network-request-failed")),s5.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function sd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=hr(t,e,r);return s.customData._tokenResponse=n,s}function rT(t){return t!==void 0&&t.enterprise!==void 0}class a5{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return i5(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function l5(t,e){return ai(t,"GET","/v2/recaptchaConfig",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c5(t,e){return ai(t,"POST","/v1/accounts:delete",e)}async function oP(t,e){return ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u5(t,e=!1){const n=at(t),r=await n.getIdToken(e),s=w0(r);fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Bl(Om(s.auth_time)),issuedAtTime:Bl(Om(s.iat)),expirationTime:Bl(Om(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Om(t){return Number(t)*1e3}function w0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Vd("JWT malformed, contained fewer than 3 sections"),null;try{const s=BI(n);return s?JSON.parse(s):(Vd("Failed to decode base64 JWT payload"),null)}catch(s){return Vd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function sT(t){const e=w0(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&d5(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function d5({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Bl(this.lastLoginAt),this.creationTime=Bl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function If(t){var e;const n=t.auth,r=await t.getIdToken(),s=await _c(t,oP(n,{idToken:r}));fe(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?aP(i.providerUserInfo):[],a=p5(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new wv(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function h5(t){const e=at(t);await If(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function p5(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function aP(t){return t.map(e=>{var{providerId:n}=e,r=Na(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m5(t,e){const n=await sP(t,{},async()=>{const r=qc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=iP(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",rP.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function g5(t,e){return ai(t,"POST","/v2/accounts:revokeToken",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=sT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await m5(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Yo;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(fe(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(fe(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Yo,this.toJSON())}_performRefresh(){return Mr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function us(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Or{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Na(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f5(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new wv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u5(this,e)}reload(){return h5(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Or(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await If(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lr(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await _c(this,c5(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(s=n.email)!==null&&s!==void 0?s:void 0,g=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,w=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:x,emailVerified:I,isAnonymous:k,providerData:O,stsTokenManager:C}=n;fe(x&&C,e,"internal-error");const S=Yo.fromJSON(this.name,C);fe(typeof x=="string",e,"internal-error"),us(f,e.name),us(m,e.name),fe(typeof I=="boolean",e,"internal-error"),fe(typeof k=="boolean",e,"internal-error"),us(g,e.name),us(w,e.name),us(y,e.name),us(T,e.name),us(E,e.name),us(_,e.name);const P=new Or({uid:x,auth:e,email:m,emailVerified:I,displayName:f,isAnonymous:k,photoURL:w,phoneNumber:g,tenantId:y,stsTokenManager:S,createdAt:E,lastLoginAt:_});return O&&Array.isArray(O)&&(P.providerData=O.map(A=>Object.assign({},A))),T&&(P._redirectEventId=T),P}static async _fromIdTokenResponse(e,n,r=!1){const s=new Yo;s.updateFromServerResponse(n);const i=new Or({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await If(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];fe(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?aP(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Yo;a.updateFromIdToken(r);const l=new Or({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new wv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=new Map;function Lr(t){qr(t instanceof Function,"Expected a class definition");let e=iT.get(t);return e?(qr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,iT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lP.type="NONE";const oT=lP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $d(t,e,n){return`firebase:${t}:${e}:${n}`}class Xo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=$d(this.userKey,s.apiKey,i),this.fullPersistenceKey=$d("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Or._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Xo(Lr(oT),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Lr(oT);const o=$d(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const f=Or._fromJSON(e,d);c!==i&&(a=f),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Xo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Xo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pP(e))return"Blackberry";if(mP(e))return"Webos";if(uP(e))return"Safari";if((e.includes("chrome/")||dP(e))&&!e.includes("edge/"))return"Chrome";if(hP(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function cP(t=Kt()){return/firefox\//i.test(t)}function uP(t=Kt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function dP(t=Kt()){return/crios\//i.test(t)}function fP(t=Kt()){return/iemobile/i.test(t)}function hP(t=Kt()){return/android/i.test(t)}function pP(t=Kt()){return/blackberry/i.test(t)}function mP(t=Kt()){return/webos/i.test(t)}function _0(t=Kt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function v5(t=Kt()){var e;return _0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function y5(){return M$()&&document.documentMode===10}function gP(t=Kt()){return _0(t)||hP(t)||mP(t)||pP(t)||/windows phone/i.test(t)||fP(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t,e=[]){let n;switch(t){case"Browser":n=aT(Kt());break;case"Worker":n=`${aT(Kt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zi}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _5(t,e={}){return ai(t,"GET","/v2/passwordPolicy",oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x5=6;class E5{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:x5,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new lT(this),this.idTokenSubscription=new lT(this),this.beforeStateQueue=new w5(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tP,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Lr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Xo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await oP(this,{idToken:e}),r=await Or._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(lr(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await If(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=n5()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lr(this.app))return Promise.reject($r(this));const n=e?at(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lr(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lr(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Lr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _5(this),n=new E5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Gc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await g5(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Lr(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await Xo.create(this,[Lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vP(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZF(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function eo(t){return at(t)}class lT{constructor(e){this.auth=e,this.observer=null,this.addObserver=B$(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b5(t){Rh=t}function yP(t){return Rh.loadJS(t)}function S5(){return Rh.recaptchaEnterpriseScript}function C5(){return Rh.gapiScript}function I5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const P5="recaptcha-enterprise",A5="NO_RECAPTCHA";class R5{constructor(e){this.type=P5,this.auth=eo(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{l5(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new a5(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;rT(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(A5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&rT(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=S5();l.length!==0&&(l+=a),yP(l).then(()=>{s(a,i,o)}).catch(c=>{o(c)})}}).catch(a=>{o(a)})})}}async function cT(t,e,n,r=!1){const s=new R5(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function _v(t,e,n,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await cT(t,e,n,n==="getOobCode");return r(t,i)}else return r(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await cT(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(t,e){const n=Ah(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(yc(i,e??{}))return s;Xn(s,"already-initialized")}return n.initialize({options:e})}function k5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Lr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function D5(t,e,n){const r=eo(t);fe(r._canInitEmulator,r,"emulator-config-failed"),fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=wP(e),{host:o,port:a}=M5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||O5()}function wP(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function M5(t){const e=wP(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:uT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:uT(o)}}}function uT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function O5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Mr("not implemented")}_getIdTokenResponse(e){return Mr("not implemented")}_linkToIdToken(e,n){return Mr("not implemented")}_getReauthenticationResolver(e){return Mr("not implemented")}}async function L5(t,e){return ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(t,e){return Yc(t,"POST","/v1/accounts:signInWithPassword",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V5(t,e){return Yc(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))}async function $5(t,e){return Yc(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc extends x0{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new xc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new xc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,n,"signInWithPassword",j5);case"emailLink":return V5(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _v(e,r,"signUpPassword",L5);case"emailLink":return $5(e,{idToken:n,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(t,e){return Yc(t,"POST","/v1/accounts:signInWithIdp",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5="http://localhost";class Ui extends x0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ui(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Na(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ui(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Jo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Jo(e,n)}buildRequest(){const e={requestUri:F5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function B5(t){const e=El(Tl(t)).link,n=e?El(Tl(e)).deep_link_id:null,r=El(Tl(t)).deep_link_id;return(r?El(Tl(r)).link:null)||r||n||e||t}class E0{constructor(e){var n,r,s,i,o,a;const l=El(Tl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,f=U5((s=l.mode)!==null&&s!==void 0?s:null);fe(c&&d&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=B5(e);try{return new E0(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.providerId=ka.PROVIDER_ID}static credential(e,n){return xc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=E0.parseLink(n);return fe(r,"argument-error"),xc._fromEmailAndCode(e,r.code,r.tenantId)}}ka.PROVIDER_ID="password";ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc extends _P{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends Xc{constructor(){super("facebook.com")}static credential(e){return Ui._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _s.credential(e.oauthAccessToken)}catch{return null}}}_s.FACEBOOK_SIGN_IN_METHOD="facebook.com";_s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends Xc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ui._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xs.credential(n,r)}catch{return null}}}xs.GOOGLE_SIGN_IN_METHOD="google.com";xs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends Xc{constructor(){super("github.com")}static credential(e){return Ui._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts extends Xc{constructor(){super("twitter.com")}static credential(e,n){return Ui._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ts.credential(n,r)}catch{return null}}}Ts.TWITTER_SIGN_IN_METHOD="twitter.com";Ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z5(t,e){return Yc(t,"POST","/v1/accounts:signUp",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Or._fromIdTokenResponse(e,r,s),o=dT(r);return new Bi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dT(r);return new Bi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pf extends Tr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Pf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Pf(e,n,r,s)}}function xP(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Pf._fromErrorAndOperation(t,i,e,r):i})}async function W5(t,e,n=!1){const r=await _c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H5(t,e,n=!1){const{auth:r}=t;if(lr(r.app))return Promise.reject($r(r));const s="reauthenticate";try{const i=await _c(t,xP(r,s,e,t),n);fe(i.idToken,r,"internal-error");const o=w0(i.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),Bi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(t,e,n=!1){if(lr(t.app))return Promise.reject($r(t));const r="signIn",s=await xP(t,r,e),i=await Bi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function K5(t,e){return EP(eo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t){const e=eo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bP(t,e,n){if(lr(t.app))return Promise.reject($r(t));const r=eo(t),o=await _v(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",z5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&TP(t),l}),a=await Bi._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function G5(t,e,n){return lr(t.app)?Promise.reject($r(t)):K5(at(t),ka.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&TP(t),r})}function q5(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function Q5(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function Y5(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function X5(t){return at(t).signOut()}const Af="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Af,"1"),this.storage.removeItem(Af),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5=1e3,Z5=10;class CP extends SP{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gP(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);y5()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Z5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},J5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}CP.type="LOCAL";const e4=CP;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP extends SP{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}IP.type="SESSION";const PP=IP;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Nh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await t4(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=T0("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pr(){return window}function r4(t){pr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(){return typeof pr().WorkerGlobalScope<"u"&&typeof pr().importScripts=="function"}async function s4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function i4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function o4(){return AP()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP="firebaseLocalStorageDb",a4=1,Rf="firebaseLocalStorage",NP="fbase_key";class Jc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function kh(t,e){return t.transaction([Rf],e?"readwrite":"readonly").objectStore(Rf)}function l4(){const t=indexedDB.deleteDatabase(RP);return new Jc(t).toPromise()}function xv(){const t=indexedDB.open(RP,a4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Rf,{keyPath:NP})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Rf)?e(r):(r.close(),await l4(),e(await xv()))})})}async function fT(t,e,n){const r=kh(t,!0).put({[NP]:e,value:n});return new Jc(r).toPromise()}async function c4(t,e){const n=kh(t,!1).get(e),r=await new Jc(n).toPromise();return r===void 0?null:r.value}function hT(t,e){const n=kh(t,!0).delete(e);return new Jc(n).toPromise()}const u4=800,d4=3;class kP{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>d4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nh._getInstance(o4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await s4(),!this.activeServiceWorker)return;this.sender=new n4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||i4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xv();return await fT(e,Af,"1"),await hT(e,Af),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>fT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>c4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>hT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=kh(s,!1).getAll();return new Jc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),u4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}kP.type="LOCAL";const f4=kP;new Qc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h4(t,e){return e?Lr(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0 extends x0{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function p4(t){return EP(t.auth,new b0(t),t.bypassAuthState)}function m4(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),H5(n,new b0(t),t.bypassAuthState)}async function g4(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),W5(n,new b0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return p4;case"linkViaPopup":case"linkViaRedirect":return g4;case"reauthViaPopup":case"reauthViaRedirect":return m4;default:Xn(this.auth,"internal-error")}}resolve(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){qr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v4=new Qc(2e3,1e4);class $o extends DP{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,$o.currentPopupAction&&$o.currentPopupAction.cancel(),$o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){qr(this.filter.length===1,"Popup operations only handle one event");const e=T0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,v4.get())};e()}}$o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4="pendingRedirect",Fd=new Map;class w4 extends DP{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Fd.get(this.auth._key());if(!e){try{const r=await _4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Fd.set(this.auth._key(),e)}return this.bypassAuthState||Fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _4(t,e){const n=T4(e),r=E4(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function x4(t,e){Fd.set(t._key(),e)}function E4(t){return Lr(t._redirectPersistence)}function T4(t){return $d(y4,t.config.apiKey,t.name)}async function b4(t,e,n=!1){if(lr(t.app))return Promise.reject($r(t));const r=eo(t),s=h4(r,e),o=await new w4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4=10*60*1e3;class C4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!I4(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MP(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(hr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=S4&&this.cachedEventUids.clear(),this.cachedEventUids.has(pT(e))}saveEventToCache(e){this.cachedEventUids.add(pT(e)),this.lastProcessedEventTime=Date.now()}}function pT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MP({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function I4(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MP(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P4(t,e={}){return ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,R4=/^https?/;async function N4(t){if(t.config.emulator)return;const{authorizedDomains:e}=await P4(t);for(const n of e)try{if(k4(n))return}catch{}Xn(t,"unauthorized-domain")}function k4(t){const e=yv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!R4.test(n))return!1;if(A4.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=new Qc(3e4,6e4);function mT(){const t=pr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M4(t){return new Promise((e,n)=>{var r,s,i;function o(){mT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{mT(),n(hr(t,"network-request-failed"))},timeout:D4.get()})}if(!((s=(r=pr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=pr().gapi)===null||i===void 0)&&i.load)o();else{const a=I5("iframefcb");return pr()[a]=()=>{gapi.load?o():n(hr(t,"network-request-failed"))},yP(`${C5()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ud=null,e})}let Ud=null;function O4(t){return Ud=Ud||M4(t),Ud}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L4=new Qc(5e3,15e3),j4="__/auth/iframe",V4="emulator/auth/iframe",$4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},F4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function U4(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?y0(e,V4):`https://${t.config.authDomain}/${j4}`,r={apiKey:e.apiKey,appName:t.name,v:Zi},s=F4.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${qc(r).slice(1)}`}async function B4(t){const e=await O4(t),n=pr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:U4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$4,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=hr(t,"network-request-failed"),a=pr().setTimeout(()=>{i(o)},L4.get());function l(){pr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},W4=500,H4=600,K4="_blank",G4="http://localhost";class gT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function q4(t,e,n,r=W4,s=H4){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},z4),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Kt().toLowerCase();n&&(a=dP(c)?K4:n),cP(c)&&(e=e||G4,l.scrollbars="yes");const d=Object.entries(l).reduce((m,[g,w])=>`${m}${g}=${w},`,"");if(v5(c)&&a!=="_self")return Q4(e||"",a),new gT(null);const f=window.open(e||"",a,d);fe(f,t,"popup-blocked");try{f.focus()}catch{}return new gT(f)}function Q4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y4="__/auth/handler",X4="emulator/auth/handler",J4=encodeURIComponent("fac");async function vT(t,e,n,r,s,i){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zi,eventId:s};if(e instanceof _P){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",U$(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(i||{}))o[d]=f}if(e instanceof Xc){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${J4}=${encodeURIComponent(l)}`:"";return`${Z4(t)}?${qc(a).slice(1)}${c}`}function Z4({config:t}){return t.emulator?y0(t,X4):`https://${t.authDomain}/${Y4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="webStorageSupport";class e3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PP,this._completeRedirectFn=b4,this._overrideRedirectResult=x4}async _openPopup(e,n,r,s){var i;qr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await vT(e,n,r,yv(),s);return q4(e,o,T0())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await vT(e,n,r,yv(),s);return r4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(qr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await B4(e),r=new C4(e);return n.register("authEvent",s=>(fe(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lm,{type:Lm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Lm];o!==void 0&&n(!!o),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=N4(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gP()||uP()||_0()}}const t3=e3;var yT="@firebase/auth",wT="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function s3(t){Fi(new Hs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vP(t)},c=new T5(r,s,i,l);return k5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Fi(new Hs("auth-internal",e=>{const n=eo(e.getProvider("auth").getImmediate());return(r=>new n3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fr(yT,wT,r3(t)),fr(yT,wT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3=5*60,o3=KI("authIdTokenMaxAge")||i3;let _T=null;const a3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>o3)return;const s=n==null?void 0:n.token;_T!==s&&(_T=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function l3(t=g0()){const e=Ah(t,"auth");if(e.isInitialized())return e.getImmediate();const n=N5(t,{popupRedirectResolver:t3,persistence:[f4,e4,PP]}),r=KI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=a3(i.toString());Q5(n,o,()=>o(n.currentUser)),q5(n,a=>o(a))}}const s=zI("auth");return s&&D5(n,`http://${s}`),n}function c3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}b5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=hr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",c3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});s3("Browser");var xT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ni,OP;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,S){function P(){}P.prototype=S.prototype,C.D=S.prototype,C.prototype=new P,C.prototype.constructor=C,C.C=function(A,D,M){for(var N=Array(arguments.length-2),F=2;F<arguments.length;F++)N[F-2]=arguments[F];return S.prototype[D].apply(A,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,S,P){P||(P=0);var A=Array(16);if(typeof S=="string")for(var D=0;16>D;++D)A[D]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(D=0;16>D;++D)A[D]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=C.g[0],P=C.g[1],D=C.g[2];var M=C.g[3],N=S+(M^P&(D^M))+A[0]+3614090360&4294967295;S=P+(N<<7&4294967295|N>>>25),N=M+(D^S&(P^D))+A[1]+3905402710&4294967295,M=S+(N<<12&4294967295|N>>>20),N=D+(P^M&(S^P))+A[2]+606105819&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(S^D&(M^S))+A[3]+3250441966&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(M^P&(D^M))+A[4]+4118548399&4294967295,S=P+(N<<7&4294967295|N>>>25),N=M+(D^S&(P^D))+A[5]+1200080426&4294967295,M=S+(N<<12&4294967295|N>>>20),N=D+(P^M&(S^P))+A[6]+2821735955&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(S^D&(M^S))+A[7]+4249261313&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(M^P&(D^M))+A[8]+1770035416&4294967295,S=P+(N<<7&4294967295|N>>>25),N=M+(D^S&(P^D))+A[9]+2336552879&4294967295,M=S+(N<<12&4294967295|N>>>20),N=D+(P^M&(S^P))+A[10]+4294925233&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(S^D&(M^S))+A[11]+2304563134&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(M^P&(D^M))+A[12]+1804603682&4294967295,S=P+(N<<7&4294967295|N>>>25),N=M+(D^S&(P^D))+A[13]+4254626195&4294967295,M=S+(N<<12&4294967295|N>>>20),N=D+(P^M&(S^P))+A[14]+2792965006&4294967295,D=M+(N<<17&4294967295|N>>>15),N=P+(S^D&(M^S))+A[15]+1236535329&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(D^M&(P^D))+A[1]+4129170786&4294967295,S=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(S^P))+A[6]+3225465664&4294967295,M=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(M^S))+A[11]+643717713&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^S&(D^M))+A[0]+3921069994&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(D^M&(P^D))+A[5]+3593408605&4294967295,S=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(S^P))+A[10]+38016083&4294967295,M=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(M^S))+A[15]+3634488961&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^S&(D^M))+A[4]+3889429448&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(D^M&(P^D))+A[9]+568446438&4294967295,S=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(S^P))+A[14]+3275163606&4294967295,M=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(M^S))+A[3]+4107603335&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^S&(D^M))+A[8]+1163531501&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(D^M&(P^D))+A[13]+2850285829&4294967295,S=P+(N<<5&4294967295|N>>>27),N=M+(P^D&(S^P))+A[2]+4243563512&4294967295,M=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(M^S))+A[7]+1735328473&4294967295,D=M+(N<<14&4294967295|N>>>18),N=P+(M^S&(D^M))+A[12]+2368359562&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(P^D^M)+A[5]+4294588738&4294967295,S=P+(N<<4&4294967295|N>>>28),N=M+(S^P^D)+A[8]+2272392833&4294967295,M=S+(N<<11&4294967295|N>>>21),N=D+(M^S^P)+A[11]+1839030562&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^S)+A[14]+4259657740&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(P^D^M)+A[1]+2763975236&4294967295,S=P+(N<<4&4294967295|N>>>28),N=M+(S^P^D)+A[4]+1272893353&4294967295,M=S+(N<<11&4294967295|N>>>21),N=D+(M^S^P)+A[7]+4139469664&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^S)+A[10]+3200236656&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(P^D^M)+A[13]+681279174&4294967295,S=P+(N<<4&4294967295|N>>>28),N=M+(S^P^D)+A[0]+3936430074&4294967295,M=S+(N<<11&4294967295|N>>>21),N=D+(M^S^P)+A[3]+3572445317&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^S)+A[6]+76029189&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(P^D^M)+A[9]+3654602809&4294967295,S=P+(N<<4&4294967295|N>>>28),N=M+(S^P^D)+A[12]+3873151461&4294967295,M=S+(N<<11&4294967295|N>>>21),N=D+(M^S^P)+A[15]+530742520&4294967295,D=M+(N<<16&4294967295|N>>>16),N=P+(D^M^S)+A[2]+3299628645&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(D^(P|~M))+A[0]+4096336452&4294967295,S=P+(N<<6&4294967295|N>>>26),N=M+(P^(S|~D))+A[7]+1126891415&4294967295,M=S+(N<<10&4294967295|N>>>22),N=D+(S^(M|~P))+A[14]+2878612391&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~S))+A[5]+4237533241&4294967295,P=D+(N<<21&4294967295|N>>>11),N=S+(D^(P|~M))+A[12]+1700485571&4294967295,S=P+(N<<6&4294967295|N>>>26),N=M+(P^(S|~D))+A[3]+2399980690&4294967295,M=S+(N<<10&4294967295|N>>>22),N=D+(S^(M|~P))+A[10]+4293915773&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~S))+A[1]+2240044497&4294967295,P=D+(N<<21&4294967295|N>>>11),N=S+(D^(P|~M))+A[8]+1873313359&4294967295,S=P+(N<<6&4294967295|N>>>26),N=M+(P^(S|~D))+A[15]+4264355552&4294967295,M=S+(N<<10&4294967295|N>>>22),N=D+(S^(M|~P))+A[6]+2734768916&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~S))+A[13]+1309151649&4294967295,P=D+(N<<21&4294967295|N>>>11),N=S+(D^(P|~M))+A[4]+4149444226&4294967295,S=P+(N<<6&4294967295|N>>>26),N=M+(P^(S|~D))+A[11]+3174756917&4294967295,M=S+(N<<10&4294967295|N>>>22),N=D+(S^(M|~P))+A[2]+718787259&4294967295,D=M+(N<<15&4294967295|N>>>17),N=P+(M^(D|~S))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+S&4294967295,C.g[1]=C.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+M&4294967295}r.prototype.u=function(C,S){S===void 0&&(S=C.length);for(var P=S-this.blockSize,A=this.B,D=this.h,M=0;M<S;){if(D==0)for(;M<=P;)s(this,C,M),M+=this.blockSize;if(typeof C=="string"){for(;M<S;)if(A[D++]=C.charCodeAt(M++),D==this.blockSize){s(this,A),D=0;break}}else for(;M<S;)if(A[D++]=C[M++],D==this.blockSize){s(this,A),D=0;break}}this.h=D,this.o+=S},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var S=1;S<C.length-8;++S)C[S]=0;var P=8*this.o;for(S=C.length-8;S<C.length;++S)C[S]=P&255,P/=256;for(this.u(C),C=Array(16),S=P=0;4>S;++S)for(var A=0;32>A;A+=8)C[P++]=this.g[S]>>>A&255;return C};function i(C,S){var P=a;return Object.prototype.hasOwnProperty.call(P,C)?P[C]:P[C]=S(C)}function o(C,S){this.h=S;for(var P=[],A=!0,D=C.length-1;0<=D;D--){var M=C[D]|0;A&&M==S||(P[D]=M,A=!1)}this.g=P}var a={};function l(C){return-128<=C&&128>C?i(C,function(S){return new o([S|0],0>S?-1:0)}):new o([C|0],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return f;if(0>C)return T(c(-C));for(var S=[],P=1,A=0;C>=P;A++)S[A]=C/P|0,P*=4294967296;return new o(S,0)}function d(C,S){if(C.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(C.charAt(0)=="-")return T(d(C.substring(1),S));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=c(Math.pow(S,8)),A=f,D=0;D<C.length;D+=8){var M=Math.min(8,C.length-D),N=parseInt(C.substring(D,D+M),S);8>M?(M=c(Math.pow(S,M)),A=A.j(M).add(c(N))):(A=A.j(P),A=A.add(c(N)))}return A}var f=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(y(this))return-T(this).m();for(var C=0,S=1,P=0;P<this.g.length;P++){var A=this.i(P);C+=(0<=A?A:4294967296+A)*S,S*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(y(this))return"-"+T(this).toString(C);for(var S=c(Math.pow(C,6)),P=this,A="";;){var D=I(P,S).g;P=E(P,D.j(S));var M=((0<P.g.length?P.g[0]:P.h)>>>0).toString(C);if(P=D,w(P))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(var S=0;S<C.g.length;S++)if(C.g[S]!=0)return!1;return!0}function y(C){return C.h==-1}t.l=function(C){return C=E(this,C),y(C)?-1:w(C)?0:1};function T(C){for(var S=C.g.length,P=[],A=0;A<S;A++)P[A]=~C.g[A];return new o(P,~C.h).add(m)}t.abs=function(){return y(this)?T(this):this},t.add=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],A=0,D=0;D<=S;D++){var M=A+(this.i(D)&65535)+(C.i(D)&65535),N=(M>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);A=N>>>16,M&=65535,N&=65535,P[D]=N<<16|M}return new o(P,P[P.length-1]&-2147483648?-1:0)};function E(C,S){return C.add(T(S))}t.j=function(C){if(w(this)||w(C))return f;if(y(this))return y(C)?T(this).j(T(C)):T(T(this).j(C));if(y(C))return T(this.j(T(C)));if(0>this.l(g)&&0>C.l(g))return c(this.m()*C.m());for(var S=this.g.length+C.g.length,P=[],A=0;A<2*S;A++)P[A]=0;for(A=0;A<this.g.length;A++)for(var D=0;D<C.g.length;D++){var M=this.i(A)>>>16,N=this.i(A)&65535,F=C.i(D)>>>16,X=C.i(D)&65535;P[2*A+2*D]+=N*X,_(P,2*A+2*D),P[2*A+2*D+1]+=M*X,_(P,2*A+2*D+1),P[2*A+2*D+1]+=N*F,_(P,2*A+2*D+1),P[2*A+2*D+2]+=M*F,_(P,2*A+2*D+2)}for(A=0;A<S;A++)P[A]=P[2*A+1]<<16|P[2*A];for(A=S;A<2*S;A++)P[A]=0;return new o(P,0)};function _(C,S){for(;(C[S]&65535)!=C[S];)C[S+1]+=C[S]>>>16,C[S]&=65535,S++}function x(C,S){this.g=C,this.h=S}function I(C,S){if(w(S))throw Error("division by zero");if(w(C))return new x(f,f);if(y(C))return S=I(T(C),S),new x(T(S.g),T(S.h));if(y(S))return S=I(C,T(S)),new x(T(S.g),S.h);if(30<C.g.length){if(y(C)||y(S))throw Error("slowDivide_ only works with positive integers.");for(var P=m,A=S;0>=A.l(C);)P=k(P),A=k(A);var D=O(P,1),M=O(A,1);for(A=O(A,2),P=O(P,2);!w(A);){var N=M.add(A);0>=N.l(C)&&(D=D.add(P),M=N),A=O(A,1),P=O(P,1)}return S=E(C,D.j(S)),new x(D,S)}for(D=f;0<=C.l(S);){for(P=Math.max(1,Math.floor(C.m()/S.m())),A=Math.ceil(Math.log(P)/Math.LN2),A=48>=A?1:Math.pow(2,A-48),M=c(P),N=M.j(S);y(N)||0<N.l(C);)P-=A,M=c(P),N=M.j(S);w(M)&&(M=m),D=D.add(M),C=E(C,N)}return new x(D,C)}t.A=function(C){return I(this,C).h},t.and=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],A=0;A<S;A++)P[A]=this.i(A)&C.i(A);return new o(P,this.h&C.h)},t.or=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],A=0;A<S;A++)P[A]=this.i(A)|C.i(A);return new o(P,this.h|C.h)},t.xor=function(C){for(var S=Math.max(this.g.length,C.g.length),P=[],A=0;A<S;A++)P[A]=this.i(A)^C.i(A);return new o(P,this.h^C.h)};function k(C){for(var S=C.g.length+1,P=[],A=0;A<S;A++)P[A]=C.i(A)<<1|C.i(A-1)>>>31;return new o(P,C.h)}function O(C,S){var P=S>>5;S%=32;for(var A=C.g.length-P,D=[],M=0;M<A;M++)D[M]=0<S?C.i(M+P)>>>S|C.i(M+P+1)<<32-S:C.i(M+P);return new o(D,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,OP=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,Ni=o}).apply(typeof xT<"u"?xT:typeof self<"u"?self:typeof window<"u"?window:{});var id=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var LP,bl,jP,Bd,Ev,VP,$P,FP;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,v,b){return u==Array.prototype||u==Object.prototype||(u[v]=b.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof id=="object"&&id];for(var v=0;v<u.length;++v){var b=u[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function s(u,v){if(v)e:{var b=r;u=u.split(".");for(var R=0;R<u.length-1;R++){var j=u[R];if(!(j in b))break e;b=b[j]}u=u[u.length-1],R=b[u],v=v(R),v!=R&&v!=null&&e(b,u,{configurable:!0,writable:!0,value:v})}}function i(u,v){u instanceof String&&(u+="");var b=0,R=!1,j={next:function(){if(!R&&b<u.length){var $=b++;return{value:v($,u[$]),done:!1}}return R=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}s("Array.prototype.values",function(u){return u||function(){return i(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var v=typeof u;return v=v!="object"?v:u?Array.isArray(u)?"array":v:"null",v=="array"||v=="object"&&typeof u.length=="number"}function c(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function d(u,v,b){return u.call.apply(u.bind,arguments)}function f(u,v,b){if(!u)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,R),u.apply(v,j)}}return function(){return u.apply(v,arguments)}}function m(u,v,b){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,m.apply(null,arguments)}function g(u,v){var b=Array.prototype.slice.call(arguments,1);return function(){var R=b.slice();return R.push.apply(R,arguments),u.apply(this,R)}}function w(u,v){function b(){}b.prototype=v.prototype,u.aa=v.prototype,u.prototype=new b,u.prototype.constructor=u,u.Qb=function(R,j,$){for(var Y=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)Y[Oe-2]=arguments[Oe];return v.prototype[j].apply(R,Y)}}function y(u){const v=u.length;if(0<v){const b=Array(v);for(let R=0;R<v;R++)b[R]=u[R];return b}return[]}function T(u,v){for(let b=1;b<arguments.length;b++){const R=arguments[b];if(l(R)){const j=u.length||0,$=R.length||0;u.length=j+$;for(let Y=0;Y<$;Y++)u[j+Y]=R[Y]}else u.push(R)}}class E{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function _(u){return/^[\s\xa0]*$/.test(u)}function x(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function I(u){return I[" "](u),u}I[" "]=function(){};var k=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function O(u,v,b){for(const R in u)v.call(b,u[R],R,u)}function C(u,v){for(const b in u)v.call(void 0,u[b],b,u)}function S(u){const v={};for(const b in u)v[b]=u[b];return v}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(u,v){let b,R;for(let j=1;j<arguments.length;j++){R=arguments[j];for(b in R)u[b]=R[b];for(let $=0;$<P.length;$++)b=P[$],Object.prototype.hasOwnProperty.call(R,b)&&(u[b]=R[b])}}function D(u){var v=1;u=u.split(":");const b=[];for(;0<v&&u.length;)b.push(u.shift()),v--;return u.length&&b.push(u.join(":")),b}function M(u){a.setTimeout(()=>{throw u},0)}function N(){var u=L;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class F{constructor(){this.h=this.g=null}add(v,b){const R=X.get();R.set(v,b),this.h?this.h.next=R:this.g=R,this.h=R}}var X=new E(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let J,V=!1,L=new F,z=()=>{const u=a.Promise.resolve(void 0);J=()=>{u.then(B)}};var B=()=>{for(var u;u=N();){try{u.h.call(u.g)}catch(b){M(b)}var v=X;v.j(u),100>v.h&&(v.h++,u.next=v.g,v.g=u)}V=!1};function Z(){this.s=this.s,this.C=this.C}Z.prototype.s=!1,Z.prototype.ma=function(){this.s||(this.s=!0,this.N())},Z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ne(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}ne.prototype.h=function(){this.defaultPrevented=!0};var W=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};a.addEventListener("test",b,v),a.removeEventListener("test",b,v)}catch{}return u}();function te(u,v){if(ne.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var b=this.type=u.type,R=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget){if(k){e:{try{I(v.nodeName);var j=!0;break e}catch{}j=!1}j||(v=null)}}else b=="mouseover"?v=u.fromElement:b=="mouseout"&&(v=u.toElement);this.relatedTarget=v,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ie[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&te.aa.h.call(this)}}w(te,ne);var ie={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var q="closure_listenable_"+(1e6*Math.random()|0),we=0;function xe(u,v,b,R,j){this.listener=u,this.proxy=null,this.src=v,this.type=b,this.capture=!!R,this.ha=j,this.key=++we,this.da=this.fa=!1}function ye(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function me(u){this.src=u,this.g={},this.h=0}me.prototype.add=function(u,v,b,R,j){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var Y=Qe(u,v,R,j);return-1<Y?(v=u[Y],b||(v.fa=!1)):(v=new xe(v,this.src,$,!!R,j),v.fa=b,u.push(v)),v};function be(u,v){var b=v.type;if(b in u.g){var R=u.g[b],j=Array.prototype.indexOf.call(R,v,void 0),$;($=0<=j)&&Array.prototype.splice.call(R,j,1),$&&(ye(v),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Qe(u,v,b,R){for(var j=0;j<u.length;++j){var $=u[j];if(!$.da&&$.listener==v&&$.capture==!!b&&$.ha==R)return j}return-1}var ft="closure_lm_"+(1e6*Math.random()|0),qt={};function Fn(u,v,b,R,j){if(R&&R.once)return Cr(u,v,b,R,j);if(Array.isArray(v)){for(var $=0;$<v.length;$++)Fn(u,v[$],b,R,j);return null}return b=Fp(b),u&&u[q]?u.K(v,b,c(R)?!!R.capture:!!R,j):sr(u,v,b,!1,R,j)}function sr(u,v,b,R,j,$){if(!v)throw Error("Invalid event type");var Y=c(j)?!!j.capture:!!j,Oe=Vp(u);if(Oe||(u[ft]=Oe=new me(u)),b=Oe.add(v,b,R,Y,$),b.proxy)return b;if(R=za(),b.proxy=R,R.src=u,R.listener=b,u.addEventListener)W||(j=Y),j===void 0&&(j=!1),u.addEventListener(v.toString(),R,j);else if(u.attachEvent)u.attachEvent(D_(v.toString()),R);else if(u.addListener&&u.removeListener)u.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return b}function za(){function u(b){return v.call(u.src,u.listener,b)}const v=AO;return u}function Cr(u,v,b,R,j){if(Array.isArray(v)){for(var $=0;$<v.length;$++)Cr(u,v[$],b,R,j);return null}return b=Fp(b),u&&u[q]?u.L(v,b,c(R)?!!R.capture:!!R,j):sr(u,v,b,!0,R,j)}function bu(u,v,b,R,j){if(Array.isArray(v))for(var $=0;$<v.length;$++)bu(u,v[$],b,R,j);else R=c(R)?!!R.capture:!!R,b=Fp(b),u&&u[q]?(u=u.i,v=String(v).toString(),v in u.g&&($=u.g[v],b=Qe($,b,R,j),-1<b&&(ye($[b]),Array.prototype.splice.call($,b,1),$.length==0&&(delete u.g[v],u.h--)))):u&&(u=Vp(u))&&(v=u.g[v.toString()],u=-1,v&&(u=Qe(v,b,R,j)),(b=-1<u?v[u]:null)&&is(b))}function is(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[q])be(v.i,u);else{var b=u.type,R=u.proxy;v.removeEventListener?v.removeEventListener(b,R,u.capture):v.detachEvent?v.detachEvent(D_(b),R):v.addListener&&v.removeListener&&v.removeListener(R),(b=Vp(v))?(be(b,u),b.h==0&&(b.src=null,v[ft]=null)):ye(u)}}}function D_(u){return u in qt?qt[u]:qt[u]="on"+u}function AO(u,v){if(u.da)u=!0;else{v=new te(v,this);var b=u.listener,R=u.ha||u.src;u.fa&&is(u),u=b.call(R,v)}return u}function Vp(u){return u=u[ft],u instanceof me?u:null}var $p="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fp(u){return typeof u=="function"?u:(u[$p]||(u[$p]=function(v){return u.handleEvent(v)}),u[$p])}function Dt(){Z.call(this),this.i=new me(this),this.M=this,this.F=null}w(Dt,Z),Dt.prototype[q]=!0,Dt.prototype.removeEventListener=function(u,v,b,R){bu(this,u,v,b,R)};function Qt(u,v){var b,R=u.F;if(R)for(b=[];R;R=R.F)b.push(R);if(u=u.M,R=v.type||v,typeof v=="string")v=new ne(v,u);else if(v instanceof ne)v.target=v.target||u;else{var j=v;v=new ne(R,u),A(v,j)}if(j=!0,b)for(var $=b.length-1;0<=$;$--){var Y=v.g=b[$];j=Su(Y,R,!0,v)&&j}if(Y=v.g=u,j=Su(Y,R,!0,v)&&j,j=Su(Y,R,!1,v)&&j,b)for($=0;$<b.length;$++)Y=v.g=b[$],j=Su(Y,R,!1,v)&&j}Dt.prototype.N=function(){if(Dt.aa.N.call(this),this.i){var u=this.i,v;for(v in u.g){for(var b=u.g[v],R=0;R<b.length;R++)ye(b[R]);delete u.g[v],u.h--}}this.F=null},Dt.prototype.K=function(u,v,b,R){return this.i.add(String(u),v,!1,b,R)},Dt.prototype.L=function(u,v,b,R){return this.i.add(String(u),v,!0,b,R)};function Su(u,v,b,R){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();for(var j=!0,$=0;$<v.length;++$){var Y=v[$];if(Y&&!Y.da&&Y.capture==b){var Oe=Y.listener,bt=Y.ha||Y.src;Y.fa&&be(u.i,Y),j=Oe.call(bt,R)!==!1&&j}}return j&&!R.defaultPrevented}function M_(u,v,b){if(typeof u=="function")b&&(u=m(u,b));else if(u&&typeof u.handleEvent=="function")u=m(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:a.setTimeout(u,v||0)}function O_(u){u.g=M_(()=>{u.g=null,u.i&&(u.i=!1,O_(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class RO extends Z{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:O_(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wa(u){Z.call(this),this.h=u,this.g={}}w(Wa,Z);var L_=[];function j_(u){O(u.g,function(v,b){this.g.hasOwnProperty(b)&&is(v)},u),u.g={}}Wa.prototype.N=function(){Wa.aa.N.call(this),j_(this)},Wa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Up=a.JSON.stringify,NO=a.JSON.parse,kO=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Bp(){}Bp.prototype.h=null;function V_(u){return u.h||(u.h=u.i())}function $_(){}var Ha={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function zp(){ne.call(this,"d")}w(zp,ne);function Wp(){ne.call(this,"c")}w(Wp,ne);var di={},F_=null;function Cu(){return F_=F_||new Dt}di.La="serverreachability";function U_(u){ne.call(this,di.La,u)}w(U_,ne);function Ka(u){const v=Cu();Qt(v,new U_(v))}di.STAT_EVENT="statevent";function B_(u,v){ne.call(this,di.STAT_EVENT,u),this.stat=v}w(B_,ne);function Yt(u){const v=Cu();Qt(v,new B_(v,u))}di.Ma="timingevent";function z_(u,v){ne.call(this,di.Ma,u),this.size=v}w(z_,ne);function Ga(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},v)}function qa(){this.g=!0}qa.prototype.xa=function(){this.g=!1};function DO(u,v,b,R,j,$){u.info(function(){if(u.g)if($)for(var Y="",Oe=$.split("&"),bt=0;bt<Oe.length;bt++){var Ne=Oe[bt].split("=");if(1<Ne.length){var Mt=Ne[0];Ne=Ne[1];var Ot=Mt.split("_");Y=2<=Ot.length&&Ot[1]=="type"?Y+(Mt+"="+Ne+"&"):Y+(Mt+"=redacted&")}}else Y=null;else Y=$;return"XMLHTTP REQ ("+R+") [attempt "+j+"]: "+v+`
`+b+`
`+Y})}function MO(u,v,b,R,j,$,Y){u.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+j+"]: "+v+`
`+b+`
`+$+" "+Y})}function fo(u,v,b,R){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+LO(u,b)+(R?" "+R:"")})}function OO(u,v){u.info(function(){return"TIMEOUT: "+v})}qa.prototype.info=function(){};function LO(u,v){if(!u.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(u=0;u<b.length;u++)if(Array.isArray(b[u])){var R=b[u];if(!(2>R.length)){var j=R[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var Y=1;Y<j.length;Y++)j[Y]=""}}}}return Up(b)}catch{return v}}var Iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},W_={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hp;function Pu(){}w(Pu,Bp),Pu.prototype.g=function(){return new XMLHttpRequest},Pu.prototype.i=function(){return{}},Hp=new Pu;function os(u,v,b,R){this.j=u,this.i=v,this.l=b,this.R=R||1,this.U=new Wa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new H_}function H_(){this.i=null,this.g="",this.h=!1}var K_={},Kp={};function Gp(u,v,b){u.L=1,u.v=ku(Ir(v)),u.m=b,u.P=!0,G_(u,null)}function G_(u,v){u.F=Date.now(),Au(u),u.A=Ir(u.v);var b=u.A,R=u.R;Array.isArray(R)||(R=[String(R)]),ax(b.i,"t",R),u.C=0,b=u.j.J,u.h=new H_,u.g=Sx(u.j,b?v:null,!u.m),0<u.O&&(u.M=new RO(m(u.Y,u,u.g),u.O)),v=u.U,b=u.g,R=u.ca;var j="readystatechange";Array.isArray(j)||(j&&(L_[0]=j.toString()),j=L_);for(var $=0;$<j.length;$++){var Y=Fn(b,j[$],R||v.handleEvent,!1,v.h||v);if(!Y)break;v.g[Y.key]=Y}v=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,v)):(u.u="GET",u.g.ea(u.A,u.u,null,v)),Ka(),DO(u.i,u.u,u.A,u.l,u.R,u.m)}os.prototype.ca=function(u){u=u.target;const v=this.M;v&&Pr(u)==3?v.j():this.Y(u)},os.prototype.Y=function(u){try{if(u==this.g)e:{const Ot=Pr(this.g);var v=this.g.Ba();const mo=this.g.Z();if(!(3>Ot)&&(Ot!=3||this.g&&(this.h.h||this.g.oa()||px(this.g)))){this.J||Ot!=4||v==7||(v==8||0>=mo?Ka(3):Ka(2)),qp(this);var b=this.g.Z();this.X=b;t:if(q_(this)){var R=px(this.g);u="";var j=R.length,$=Pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fi(this),Qa(this);var Y="";break t}this.h.i=new a.TextDecoder}for(v=0;v<j;v++)this.h.h=!0,u+=this.h.i.decode(R[v],{stream:!($&&v==j-1)});R.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=b==200,MO(this.i,this.u,this.A,this.l,this.R,Ot,b),this.o){if(this.T&&!this.K){t:{if(this.g){var Oe,bt=this.g;if((Oe=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Oe)){var Ne=Oe;break t}}Ne=null}if(b=Ne)fo(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Qp(this,b);else{this.o=!1,this.s=3,Yt(12),fi(this),Qa(this);break e}}if(this.P){b=!0;let Un;for(;!this.J&&this.C<Y.length;)if(Un=jO(this,Y),Un==Kp){Ot==4&&(this.s=4,Yt(14),b=!1),fo(this.i,this.l,null,"[Incomplete Response]");break}else if(Un==K_){this.s=4,Yt(15),fo(this.i,this.l,Y,"[Invalid Chunk]"),b=!1;break}else fo(this.i,this.l,Un,null),Qp(this,Un);if(q_(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ot!=4||Y.length!=0||this.h.h||(this.s=1,Yt(16),b=!1),this.o=this.o&&b,!b)fo(this.i,this.l,Y,"[Invalid Chunked Response]"),fi(this),Qa(this);else if(0<Y.length&&!this.W){this.W=!0;var Mt=this.j;Mt.g==this&&Mt.ba&&!Mt.M&&(Mt.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),tm(Mt),Mt.M=!0,Yt(11))}}else fo(this.i,this.l,Y,null),Qp(this,Y);Ot==4&&fi(this),this.o&&!this.J&&(Ot==4?xx(this.j,this):(this.o=!1,Au(this)))}else eL(this.g),b==400&&0<Y.indexOf("Unknown SID")?(this.s=3,Yt(12)):(this.s=0,Yt(13)),fi(this),Qa(this)}}}catch{}finally{}};function q_(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function jO(u,v){var b=u.C,R=v.indexOf(`
`,b);return R==-1?Kp:(b=Number(v.substring(b,R)),isNaN(b)?K_:(R+=1,R+b>v.length?Kp:(v=v.slice(R,R+b),u.C=R+b,v)))}os.prototype.cancel=function(){this.J=!0,fi(this)};function Au(u){u.S=Date.now()+u.I,Q_(u,u.I)}function Q_(u,v){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ga(m(u.ba,u),v)}function qp(u){u.B&&(a.clearTimeout(u.B),u.B=null)}os.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(OO(this.i,this.A),this.L!=2&&(Ka(),Yt(17)),fi(this),this.s=2,Qa(this)):Q_(this,this.S-u)};function Qa(u){u.j.G==0||u.J||xx(u.j,u)}function fi(u){qp(u);var v=u.M;v&&typeof v.ma=="function"&&v.ma(),u.M=null,j_(u.U),u.g&&(v=u.g,u.g=null,v.abort(),v.ma())}function Qp(u,v){try{var b=u.j;if(b.G!=0&&(b.g==u||Yp(b.h,u))){if(!u.K&&Yp(b.h,u)&&b.G==3){try{var R=b.Da.g.parse(v)}catch{R=null}if(Array.isArray(R)&&R.length==3){var j=R;if(j[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<u.F)Vu(b),Lu(b);else break e;em(b),Yt(18)}}else b.za=j[1],0<b.za-b.T&&37500>j[2]&&b.F&&b.v==0&&!b.C&&(b.C=Ga(m(b.Za,b),6e3));if(1>=J_(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else pi(b,11)}else if((u.K||b.g==u)&&Vu(b),!_(v))for(j=b.Da.g.parse(v),v=0;v<j.length;v++){let Ne=j[v];if(b.T=Ne[0],Ne=Ne[1],b.G==2)if(Ne[0]=="c"){b.K=Ne[1],b.ia=Ne[2];const Mt=Ne[3];Mt!=null&&(b.la=Mt,b.j.info("VER="+b.la));const Ot=Ne[4];Ot!=null&&(b.Aa=Ot,b.j.info("SVER="+b.Aa));const mo=Ne[5];mo!=null&&typeof mo=="number"&&0<mo&&(R=1.5*mo,b.L=R,b.j.info("backChannelRequestTimeoutMs_="+R)),R=b;const Un=u.g;if(Un){const Fu=Un.g?Un.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fu){var $=R.h;$.g||Fu.indexOf("spdy")==-1&&Fu.indexOf("quic")==-1&&Fu.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Xp($,$.h),$.h=null))}if(R.D){const nm=Un.g?Un.g.getResponseHeader("X-HTTP-Session-Id"):null;nm&&(R.ya=nm,Ve(R.I,R.D,nm))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-u.F,b.j.info("Handshake RTT: "+b.R+"ms")),R=b;var Y=u;if(R.qa=bx(R,R.J?R.ia:null,R.W),Y.K){Z_(R.h,Y);var Oe=Y,bt=R.L;bt&&(Oe.I=bt),Oe.B&&(qp(Oe),Au(Oe)),R.g=Y}else wx(R);0<b.i.length&&ju(b)}else Ne[0]!="stop"&&Ne[0]!="close"||pi(b,7);else b.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?pi(b,7):Zp(b):Ne[0]!="noop"&&b.l&&b.l.ta(Ne),b.v=0)}}Ka(4)}catch{}}var VO=class{constructor(u,v){this.g=u,this.map=v}};function Y_(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function X_(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function J_(u){return u.h?1:u.g?u.g.size:0}function Yp(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function Xp(u,v){u.g?u.g.add(v):u.h=v}function Z_(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}Y_.prototype.cancel=function(){if(this.i=ex(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ex(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const b of u.g.values())v=v.concat(b.D);return v}return y(u.i)}function $O(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var v=[],b=u.length,R=0;R<b;R++)v.push(u[R]);return v}v=[],b=0;for(R in u)v[b++]=u[R];return v}function FO(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var v=[];u=u.length;for(var b=0;b<u;b++)v.push(b);return v}v=[],b=0;for(const R in u)v[b++]=R;return v}}}function tx(u,v){if(u.forEach&&typeof u.forEach=="function")u.forEach(v,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,v,void 0);else for(var b=FO(u),R=$O(u),j=R.length,$=0;$<j;$++)v.call(void 0,R[$],b&&b[$],u)}var nx=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UO(u,v){if(u){u=u.split("&");for(var b=0;b<u.length;b++){var R=u[b].indexOf("="),j=null;if(0<=R){var $=u[b].substring(0,R);j=u[b].substring(R+1)}else $=u[b];v($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function hi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof hi){this.h=u.h,Ru(this,u.j),this.o=u.o,this.g=u.g,Nu(this,u.s),this.l=u.l;var v=u.i,b=new Ja;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),rx(this,b),this.m=u.m}else u&&(v=String(u).match(nx))?(this.h=!1,Ru(this,v[1]||"",!0),this.o=Ya(v[2]||""),this.g=Ya(v[3]||"",!0),Nu(this,v[4]),this.l=Ya(v[5]||"",!0),rx(this,v[6]||"",!0),this.m=Ya(v[7]||"")):(this.h=!1,this.i=new Ja(null,this.h))}hi.prototype.toString=function(){var u=[],v=this.j;v&&u.push(Xa(v,sx,!0),":");var b=this.g;return(b||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Xa(v,sx,!0),"@"),u.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&u.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Xa(b,b.charAt(0)=="/"?WO:zO,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Xa(b,KO)),u.join("")};function Ir(u){return new hi(u)}function Ru(u,v,b){u.j=b?Ya(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Nu(u,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);u.s=v}else u.s=null}function rx(u,v,b){v instanceof Ja?(u.i=v,GO(u.i,u.h)):(b||(v=Xa(v,HO)),u.i=new Ja(v,u.h))}function Ve(u,v,b){u.i.set(v,b)}function ku(u){return Ve(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ya(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xa(u,v,b){return typeof u=="string"?(u=encodeURI(u).replace(v,BO),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function BO(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var sx=/[#\/\?@]/g,zO=/[#\?:]/g,WO=/[#\?]/g,HO=/[#\?@]/g,KO=/#/g;function Ja(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function as(u){u.g||(u.g=new Map,u.h=0,u.i&&UO(u.i,function(v,b){u.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}t=Ja.prototype,t.add=function(u,v){as(this),this.i=null,u=ho(this,u);var b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(v),this.h+=1,this};function ix(u,v){as(u),v=ho(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function ox(u,v){return as(u),v=ho(u,v),u.g.has(v)}t.forEach=function(u,v){as(this),this.g.forEach(function(b,R){b.forEach(function(j){u.call(v,j,R,this)},this)},this)},t.na=function(){as(this);const u=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let R=0;R<v.length;R++){const j=u[R];for(let $=0;$<j.length;$++)b.push(v[R])}return b},t.V=function(u){as(this);let v=[];if(typeof u=="string")ox(this,u)&&(v=v.concat(this.g.get(ho(this,u))));else{u=Array.from(this.g.values());for(let b=0;b<u.length;b++)v=v.concat(u[b])}return v},t.set=function(u,v){return as(this),this.i=null,u=ho(this,u),ox(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=this.V(u),0<u.length?String(u[0]):v):v};function ax(u,v,b){ix(u,v),0<b.length&&(u.i=null,u.g.set(ho(u,v),y(b)),u.h+=b.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var R=v[b];const $=encodeURIComponent(String(R)),Y=this.V(R);for(R=0;R<Y.length;R++){var j=$;Y[R]!==""&&(j+="="+encodeURIComponent(String(Y[R]))),u.push(j)}}return this.i=u.join("&")};function ho(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function GO(u,v){v&&!u.j&&(as(u),u.i=null,u.g.forEach(function(b,R){var j=R.toLowerCase();R!=j&&(ix(this,R),ax(this,j,b))},u)),u.j=v}function qO(u,v){const b=new qa;if(a.Image){const R=new Image;R.onload=g(ls,b,"TestLoadImage: loaded",!0,v,R),R.onerror=g(ls,b,"TestLoadImage: error",!1,v,R),R.onabort=g(ls,b,"TestLoadImage: abort",!1,v,R),R.ontimeout=g(ls,b,"TestLoadImage: timeout",!1,v,R),a.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=u}else v(!1)}function QO(u,v){const b=new qa,R=new AbortController,j=setTimeout(()=>{R.abort(),ls(b,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:R.signal}).then($=>{clearTimeout(j),$.ok?ls(b,"TestPingServer: ok",!0,v):ls(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(j),ls(b,"TestPingServer: error",!1,v)})}function ls(u,v,b,R,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),R(b)}catch{}}function YO(){this.g=new kO}function XO(u,v,b){const R=b||"";try{tx(u,function(j,$){let Y=j;c(j)&&(Y=Up(j)),v.push(R+$+"="+encodeURIComponent(Y))})}catch(j){throw v.push(R+"type="+encodeURIComponent("_badmap")),j}}function Du(u){this.l=u.Ub||null,this.j=u.eb||!1}w(Du,Bp),Du.prototype.g=function(){return new Mu(this.l,this.j)},Du.prototype.i=function(u){return function(){return u}}({});function Mu(u,v){Dt.call(this),this.D=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(Mu,Dt),t=Mu.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=v,this.readyState=1,el(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(v.body=u),(this.D||a).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Za(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,el(this)),this.g&&(this.readyState=3,el(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;lx(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function lx(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Za(this):el(this),this.readyState==3&&lx(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Za(this))},t.Qa=function(u){this.g&&(this.response=u,Za(this))},t.ga=function(){this.g&&Za(this)};function Za(u){u.readyState=4,u.l=null,u.j=null,u.v=null,el(u)}t.setRequestHeader=function(u,v){this.u.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=v.next();return u.join(`\r
`)};function el(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function cx(u){let v="";return O(u,function(b,R){v+=R,v+=":",v+=b,v+=`\r
`}),v}function Jp(u,v,b){e:{for(R in b){var R=!1;break e}R=!0}R||(b=cx(b),typeof u=="string"?b!=null&&encodeURIComponent(String(b)):Ve(u,v,b))}function rt(u){Dt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(rt,Dt);var JO=/^https?$/i,ZO=["POST","PUT"];t=rt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,v,b,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hp.g(),this.v=this.o?V_(this.o):V_(Hp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch($){ux(this,$);return}if(u=b||"",b=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var j in R)b.set(j,R[j]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const $ of R.keys())b.set($,R.get($));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(b.keys()).find($=>$.toLowerCase()=="content-type"),j=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(ZO,v,void 0))||R||j||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,Y]of b)this.g.setRequestHeader($,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{hx(this),this.u=!0,this.g.send(u),this.u=!1}catch($){ux(this,$)}};function ux(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.m=5,dx(u),Ou(u)}function dx(u){u.A||(u.A=!0,Qt(u,"complete"),Qt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Qt(this,"complete"),Qt(this,"abort"),Ou(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ou(this,!0)),rt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?fx(this):this.bb())},t.bb=function(){fx(this)};function fx(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Pr(u)!=4||u.Z()!=2)){if(u.u&&Pr(u)==4)M_(u.Ea,0,u);else if(Qt(u,"readystatechange"),Pr(u)==4){u.h=!1;try{const Y=u.Z();e:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var R;if(R=Y===0){var j=String(u.D).match(nx)[1]||null;!j&&a.self&&a.self.location&&(j=a.self.location.protocol.slice(0,-1)),R=!JO.test(j?j.toLowerCase():"")}b=R}if(b)Qt(u,"complete"),Qt(u,"success");else{u.m=6;try{var $=2<Pr(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",dx(u)}}finally{Ou(u)}}}}function Ou(u,v){if(u.g){hx(u);const b=u.g,R=u.v[0]?()=>{}:null;u.g=null,u.v=null,v||Qt(u,"ready");try{b.onreadystatechange=R}catch{}}}function hx(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Pr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Pr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),NO(v)}};function px(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function eL(u){const v={};u=(u.g&&2<=Pr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<u.length;R++){if(_(u[R]))continue;var b=D(u[R]);const j=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const $=v[j]||[];v[j]=$,$.push(b)}C(v,function(R){return R.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function tl(u,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||v}function mx(u){this.Aa=0,this.i=[],this.j=new qa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=tl("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=tl("baseRetryDelayMs",5e3,u),this.cb=tl("retryDelaySeedMs",1e4,u),this.Wa=tl("forwardChannelMaxRetries",2,u),this.wa=tl("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Y_(u&&u.concurrentRequestLimit),this.Da=new YO,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=mx.prototype,t.la=8,t.G=1,t.connect=function(u,v,b,R){Yt(0),this.W=u,this.H=v||{},b&&R!==void 0&&(this.H.OSID=b,this.H.OAID=R),this.F=this.X,this.I=bx(this,null,this.W),ju(this)};function Zp(u){if(gx(u),u.G==3){var v=u.U++,b=Ir(u.I);if(Ve(b,"SID",u.K),Ve(b,"RID",v),Ve(b,"TYPE","terminate"),nl(u,b),v=new os(u,u.j,v),v.L=2,v.v=ku(Ir(b)),b=!1,a.navigator&&a.navigator.sendBeacon)try{b=a.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&a.Image&&(new Image().src=v.v,b=!0),b||(v.g=Sx(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Au(v)}Tx(u)}function Lu(u){u.g&&(tm(u),u.g.cancel(),u.g=null)}function gx(u){Lu(u),u.u&&(a.clearTimeout(u.u),u.u=null),Vu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function ju(u){if(!X_(u.h)&&!u.s){u.s=!0;var v=u.Ga;J||z(),V||(J(),V=!0),L.add(v,u),u.B=0}}function tL(u,v){return J_(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=v.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ga(m(u.Ga,u,v),Ex(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const j=new os(this,this.j,u);let $=this.o;if(this.S&&($?($=S($),A($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var R=this.i[b];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(v+=R,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=yx(this,j,v),b=Ir(this.I),Ve(b,"RID",u),Ve(b,"CVER",22),this.D&&Ve(b,"X-HTTP-Session-Id",this.D),nl(this,b),$&&(this.O?v="headers="+encodeURIComponent(String(cx($)))+"&"+v:this.m&&Jp(b,this.m,$)),Xp(this.h,j),this.Ua&&Ve(b,"TYPE","init"),this.P?(Ve(b,"$req",v),Ve(b,"SID","null"),j.T=!0,Gp(j,b,null)):Gp(j,b,v),this.G=2}}else this.G==3&&(u?vx(this,u):this.i.length==0||X_(this.h)||vx(this))};function vx(u,v){var b;v?b=v.l:b=u.U++;const R=Ir(u.I);Ve(R,"SID",u.K),Ve(R,"RID",b),Ve(R,"AID",u.T),nl(u,R),u.m&&u.o&&Jp(R,u.m,u.o),b=new os(u,u.j,b,u.B+1),u.m===null&&(b.H=u.o),v&&(u.i=v.D.concat(u.i)),v=yx(u,b,1e3),b.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Xp(u.h,b),Gp(b,R,v)}function nl(u,v){u.H&&O(u.H,function(b,R){Ve(v,R,b)}),u.l&&tx({},function(b,R){Ve(v,R,b)})}function yx(u,v,b){b=Math.min(u.i.length,b);var R=u.l?m(u.l.Na,u.l,u):null;e:{var j=u.i;let $=-1;for(;;){const Y=["count="+b];$==-1?0<b?($=j[0].g,Y.push("ofs="+$)):$=0:Y.push("ofs="+$);let Oe=!0;for(let bt=0;bt<b;bt++){let Ne=j[bt].g;const Mt=j[bt].map;if(Ne-=$,0>Ne)$=Math.max(0,j[bt].g-100),Oe=!1;else try{XO(Mt,Y,"req"+Ne+"_")}catch{R&&R(Mt)}}if(Oe){R=Y.join("&");break e}}}return u=u.i.splice(0,b),v.D=u,R}function wx(u){if(!u.g&&!u.u){u.Y=1;var v=u.Fa;J||z(),V||(J(),V=!0),L.add(v,u),u.v=0}}function em(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ga(m(u.Fa,u),Ex(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,_x(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ga(m(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Yt(10),Lu(this),_x(this))};function tm(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function _x(u){u.g=new os(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var v=Ir(u.qa);Ve(v,"RID","rpc"),Ve(v,"SID",u.K),Ve(v,"AID",u.T),Ve(v,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ve(v,"TO",u.ja),Ve(v,"TYPE","xmlhttp"),nl(u,v),u.m&&u.o&&Jp(v,u.m,u.o),u.L&&(u.g.I=u.L);var b=u.g;u=u.ia,b.L=1,b.v=ku(Ir(v)),b.m=null,b.P=!0,G_(b,u)}t.Za=function(){this.C!=null&&(this.C=null,Lu(this),em(this),Yt(19))};function Vu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function xx(u,v){var b=null;if(u.g==v){Vu(u),tm(u),u.g=null;var R=2}else if(Yp(u.h,v))b=v.D,Z_(u.h,v),R=1;else return;if(u.G!=0){if(v.o)if(R==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var j=u.B;R=Cu(),Qt(R,new z_(R,b)),ju(u)}else wx(u);else if(j=v.s,j==3||j==0&&0<v.X||!(R==1&&tL(u,v)||R==2&&em(u)))switch(b&&0<b.length&&(v=u.h,v.i=v.i.concat(b)),j){case 1:pi(u,5);break;case 4:pi(u,10);break;case 3:pi(u,6);break;default:pi(u,2)}}}function Ex(u,v){let b=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(b*=2),b*v}function pi(u,v){if(u.j.info("Error code "+v),v==2){var b=m(u.fb,u),R=u.Xa;const j=!R;R=new hi(R||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Ru(R,"https"),ku(R),j?qO(R.toString(),b):QO(R.toString(),b)}else Yt(2);u.G=0,u.l&&u.l.sa(v),Tx(u),gx(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Yt(2)):(this.j.info("Failed to ping google.com"),Yt(1))};function Tx(u){if(u.G=0,u.ka=[],u.l){const v=ex(u.h);(v.length!=0||u.i.length!=0)&&(T(u.ka,v),T(u.ka,u.i),u.h.i.length=0,y(u.i),u.i.length=0),u.l.ra()}}function bx(u,v,b){var R=b instanceof hi?Ir(b):new hi(b);if(R.g!="")v&&(R.g=v+"."+R.g),Nu(R,R.s);else{var j=a.location;R=j.protocol,v=v?v+"."+j.hostname:j.hostname,j=+j.port;var $=new hi(null);R&&Ru($,R),v&&($.g=v),j&&Nu($,j),b&&($.l=b),R=$}return b=u.D,v=u.ya,b&&v&&Ve(R,b,v),Ve(R,"VER",u.la),nl(u,R),R}function Sx(u,v,b){if(v&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Ca&&!u.pa?new rt(new Du({eb:b})):new rt(u.pa),v.Ha(u.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Cx(){}t=Cx.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function $u(){}$u.prototype.g=function(u,v){return new gn(u,v)};function gn(u,v){Dt.call(this),this.g=new mx(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(u?u["X-WebChannel-Client-Profile"]=v.va:u={"X-WebChannel-Client-Profile":v.va}),this.g.S=u,(u=v&&v.Sb)&&!_(u)&&(this.g.m=u),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!_(v)&&(this.g.D=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new po(this)}w(gn,Dt),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Zp(this.g)},gn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.u&&(b={},b.__data__=Up(u),u=b);v.i.push(new VO(v.Ya++,u)),v.G==3&&ju(v)},gn.prototype.N=function(){this.g.l=null,delete this.j,Zp(this.g),delete this.g,gn.aa.N.call(this)};function Ix(u){zp.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const b in v){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}w(Ix,zp);function Px(){Wp.call(this),this.status=1}w(Px,Wp);function po(u){this.g=u}w(po,Cx),po.prototype.ua=function(){Qt(this.g,"a")},po.prototype.ta=function(u){Qt(this.g,new Ix(u))},po.prototype.sa=function(u){Qt(this.g,new Px)},po.prototype.ra=function(){Qt(this.g,"b")},$u.prototype.createWebChannel=$u.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,FP=function(){return new $u},$P=function(){return Cu()},VP=di,Ev={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Iu.NO_ERROR=0,Iu.TIMEOUT=8,Iu.HTTP_ERROR=6,Bd=Iu,W_.COMPLETE="complete",jP=W_,$_.EventType=Ha,Ha.OPEN="a",Ha.CLOSE="b",Ha.ERROR="c",Ha.MESSAGE="d",Dt.prototype.listen=Dt.prototype.K,bl=$_,rt.prototype.listenOnce=rt.prototype.L,rt.prototype.getLastError=rt.prototype.Ka,rt.prototype.getLastErrorCode=rt.prototype.Ba,rt.prototype.getStatus=rt.prototype.Z,rt.prototype.getResponseJson=rt.prototype.Oa,rt.prototype.getResponseText=rt.prototype.oa,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Ha,LP=rt}).apply(typeof id<"u"?id:typeof self<"u"?self:typeof window<"u"?window:{});const ET="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ft=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ft.UNAUTHENTICATED=new Ft(null),Ft.GOOGLE_CREDENTIALS=new Ft("google-credentials-uid"),Ft.FIRST_PARTY=new Ft("first-party-uid"),Ft.MOCK_USER=new Ft("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Da="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new p0("@firebase/firestore");function fl(){return zi.logLevel}function oe(t,...e){if(zi.logLevel<=Pe.DEBUG){const n=e.map(S0);zi.debug(`Firestore (${Da}): ${t}`,...n)}}function Qr(t,...e){if(zi.logLevel<=Pe.ERROR){const n=e.map(S0);zi.error(`Firestore (${Da}): ${t}`,...n)}}function da(t,...e){if(zi.logLevel<=Pe.WARN){const n=e.map(S0);zi.warn(`Firestore (${Da}): ${t}`,...n)}}function S0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pe(t="Unexpected state"){const e=`FIRESTORE (${Da}) INTERNAL ASSERTION FAILED: `+t;throw Qr(e),new Error(e)}function Me(t,e){t||pe()}function ve(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u3{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ft.UNAUTHENTICATED))}shutdown(){}}class d3{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class f3{constructor(e){this.t=e,this.currentUser=Ft.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new UP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new Ft(e)}}class h3{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ft.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class p3{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new h3(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ft.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g3{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Me(this.o===void 0);const r=i=>{i.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,oe("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new m3(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v3(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=v3(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function ke(t,e){return t<e?-1:t>e?1:0}function fa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ot.fromMillis(Date.now())}static fromDate(e){return ot.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new ot(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new ot(0,0))}static max(){return new ge(new ot(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r){n===void 0?n=0:n>e.length&&pe(),r===void 0?r=e.length-n:r>e.length-n&&pe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ec.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ec?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Be extends Ec{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const y3=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class It extends Ec{construct(e,n,r){return new It(e,n,r)}static isValidIdentifier(e){return y3.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),It.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new It(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ee(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ee(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ee(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ee(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new It(n)}static emptyPath(){return new It([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Be.fromString(e))}static fromName(e){return new ce(Be.fromString(e).popFirst(5))}static empty(){return new ce(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Be(e.slice()))}}function w3(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new ot(n+1,0):new ot(n,r));return new Ks(s,ce.empty(),e)}function _3(t){return new Ks(t.readTime,t.key,-1)}class Ks{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ks(ge.min(),ce.empty(),-1)}static max(){return new Ks(ge.max(),ce.empty(),-1)}}function x3(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ce.comparator(t.documentKey,e.documentKey),n!==0?n:ke(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T3{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==E3)throw t;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&pe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function b3(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}C0.oe=-1;function Dh(t){return t==null}function Nf(t){return t===0&&1/t==-1/0}function S3(t){return typeof t=="number"&&Number.isInteger(t)&&!Nf(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function to(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zP(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=s??Ct.EMPTY,this.right=i??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ct(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ct.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw pe();const e=this.left.check();if(e!==this.right.check())throw pe();return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw pe()}get value(){throw pe()}get color(){throw pe()}get left(){throw pe()}get right(){throw pe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bT(this.data.getIterator())}getIteratorFrom(e){return new bT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof At)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new At(this.comparator);return n.data=e,n}}class bT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(It.comparator)}static empty(){return new xn([])}unionWith(e){let n=new At(It.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new WP("Invalid base64 string: "+i):i}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const C3=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(Me(!!t),typeof t=="string"){let e=0;const n=C3.exec(t);if(Me(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wi(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function P0(t){const e=t.mapValue.fields.__previous_value__;return I0(e)?P0(e):e}function Tc(t){const e=Gs(t.mapValue.fields.__local_write_time__.timestampValue);return new ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class bc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new bc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof bc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Hi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?I0(t)?4:A3(t)?9007199254740991:P3(t)?10:11:pe()}function wr(t,e){if(t===e)return!0;const n=Hi(t);if(n!==Hi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Tc(t).isEqual(Tc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Gs(s.timestampValue),a=Gs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Wi(s.bytesValue).isEqual(Wi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return lt(s.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return lt(s.integerValue)===lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=lt(s.doubleValue),a=lt(i.doubleValue);return o===a?Nf(o)===Nf(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fa(t.arrayValue.values||[],e.arrayValue.values||[],wr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(TT(o)!==TT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!wr(o[l],a[l])))return!1;return!0}(t,e);default:return pe()}}function Sc(t,e){return(t.values||[]).find(n=>wr(n,e))!==void 0}function ha(t,e){if(t===e)return 0;const n=Hi(t),r=Hi(e);if(n!==r)return ke(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=lt(i.integerValue||i.doubleValue),l=lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ST(t.timestampValue,e.timestampValue);case 4:return ST(Tc(t),Tc(e));case 5:return ke(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Wi(i),l=Wi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ke(a[c],l[c]);if(d!==0)return d}return ke(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=ke(lt(i.latitude),lt(o.latitude));return a!==0?a:ke(lt(i.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return CT(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,c,d;const f=i.fields||{},m=o.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(l=m.value)===null||l===void 0?void 0:l.arrayValue,y=ke(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((d=w==null?void 0:w.values)===null||d===void 0?void 0:d.length)||0);return y!==0?y:CT(g,w)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===ad.mapValue&&o===ad.mapValue)return 0;if(i===ad.mapValue)return 1;if(o===ad.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const m=ke(l[f],d[f]);if(m!==0)return m;const g=ha(a[l[f]],c[d[f]]);if(g!==0)return g}return ke(l.length,d.length)}(t.mapValue,e.mapValue);default:throw pe()}}function ST(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ke(t,e);const n=Gs(t),r=Gs(e),s=ke(n.seconds,r.seconds);return s!==0?s:ke(n.nanos,r.nanos)}function CT(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ha(n[s],r[s]);if(i)return i}return ke(n.length,r.length)}function pa(t){return Tv(t)}function Tv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Wi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ce.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Tv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Tv(n.fields[o])}`;return s+"}"}(t.mapValue):pe()}function IT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function bv(t){return!!t&&"integerValue"in t}function A0(t){return!!t&&"arrayValue"in t}function PT(t){return!!t&&"nullValue"in t}function AT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zd(t){return!!t&&"mapValue"in t}function P3(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function zl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return to(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function A3(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=It.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=zl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());zd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];zd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){to(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new ln(zl(this.value))}}function HP(t){const e=[];return to(t.fields,(n,r)=>{const s=new It([n]);if(zd(r)){const i=HP(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Bt(e,0,ge.min(),ge.min(),ge.min(),ln.empty(),0)}static newFoundDocument(e,n,r,s){return new Bt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Bt(e,2,n,ge.min(),ge.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Bt(e,3,n,ge.min(),ge.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kf{constructor(e,n){this.position=e,this.inclusive=n}}function RT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ce.comparator(ce.fromName(o.referenceValue),n.key):r=ha(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function NT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n="asc"){this.field=e,this.dir=n}}function R3(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{}class gt extends KP{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new k3(e,n,r):n==="array-contains"?new O3(e,r):n==="in"?new L3(e,r):n==="not-in"?new j3(e,r):n==="array-contains-any"?new V3(e,r):new gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D3(e,r):new M3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ha(n,this.value)):n!==null&&Hi(this.value)===Hi(n)&&this.matchesComparison(ha(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jn extends KP{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Jn(e,n)}matches(e){return GP(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function GP(t){return t.op==="and"}function qP(t){return N3(t)&&GP(t)}function N3(t){for(const e of t.filters)if(e instanceof Jn)return!1;return!0}function Sv(t){if(t instanceof gt)return t.field.canonicalString()+t.op.toString()+pa(t.value);if(qP(t))return t.filters.map(e=>Sv(e)).join(",");{const e=t.filters.map(n=>Sv(n)).join(",");return`${t.op}(${e})`}}function QP(t,e){return t instanceof gt?function(r,s){return s instanceof gt&&r.op===s.op&&r.field.isEqual(s.field)&&wr(r.value,s.value)}(t,e):t instanceof Jn?function(r,s){return s instanceof Jn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&QP(o,s.filters[a]),!0):!1}(t,e):void pe()}function YP(t){return t instanceof gt?function(n){return`${n.field.canonicalString()} ${n.op} ${pa(n.value)}`}(t):t instanceof Jn?function(n){return n.op.toString()+" {"+n.getFilters().map(YP).join(" ,")+"}"}(t):"Filter"}class k3 extends gt{constructor(e,n,r){super(e,n,r),this.key=ce.fromName(r.referenceValue)}matches(e){const n=ce.comparator(e.key,this.key);return this.matchesComparison(n)}}class D3 extends gt{constructor(e,n){super(e,"in",n),this.keys=XP("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class M3 extends gt{constructor(e,n){super(e,"not-in",n),this.keys=XP("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function XP(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ce.fromName(r.referenceValue))}class O3 extends gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return A0(n)&&Sc(n.arrayValue,this.value)}}class L3 extends gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class j3 extends gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sc(this.value.arrayValue,n)}}class V3 extends gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!A0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function kT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new $3(t,e,n,r,s,i,o)}function R0(t){const e=ve(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Dh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>pa(r)).join(",")),e.ue=n}return e.ue}function N0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!R3(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QP(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!NT(t.startAt,e.startAt)&&NT(t.endAt,e.endAt)}function Cv(t){return ce.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function F3(t,e,n,r,s,i,o,a){return new Ma(t,e,n,r,s,i,o,a)}function Mh(t){return new Ma(t)}function DT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function JP(t){return t.collectionGroup!==null}function Wl(t){const e=ve(t);if(e.ce===null){e.ce=[];const n=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new At(It.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Cc(i,r))}),n.has(It.keyField().canonicalString())||e.ce.push(new Cc(It.keyField(),r))}return e.ce}function mr(t){const e=ve(t);return e.le||(e.le=U3(e,Wl(t))),e.le}function U3(t,e){if(t.limitType==="F")return kT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Cc(s.field,i)});const n=t.endAt?new kf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new kf(t.startAt.position,t.startAt.inclusive):null;return kT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Iv(t,e){const n=t.filters.concat([e]);return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Pv(t,e,n){return new Ma(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Oh(t,e){return N0(mr(t),mr(e))&&t.limitType===e.limitType}function ZP(t){return`${R0(mr(t))}|lt:${t.limitType}`}function Eo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>YP(s)).join(", ")}]`),Dh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>pa(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>pa(s)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function Lh(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ce.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Wl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=RT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Wl(r),s)||r.endAt&&!function(o,a,l){const c=RT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Wl(r),s))}(t,e)}function B3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function eA(t){return(e,n)=>{let r=!1;for(const s of Wl(t)){const i=z3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function z3(t,e,n){const r=t.field.isKeyField()?ce.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ha(l,c):pe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return pe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){to(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return zP(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3=new tt(ce.comparator);function Yr(){return W3}const tA=new tt(ce.comparator);function Sl(...t){let e=tA;for(const n of t)e=e.insert(n.key,n);return e}function nA(t){let e=tA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return Hl()}function rA(){return Hl()}function Hl(){return new Oa(t=>t.toString(),(t,e)=>t.isEqual(e))}const H3=new tt(ce.comparator),K3=new At(ce.comparator);function Ie(...t){let e=K3;for(const n of t)e=e.add(n);return e}const G3=new At(ke);function q3(){return G3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nf(e)?"-0":e}}function sA(t){return{integerValue:""+t}}function Q3(t,e){return S3(e)?sA(e):k0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(){this._=void 0}}function Y3(t,e,n){return t instanceof Ic?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&I0(i)&&(i=P0(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof ma?oA(t,e):t instanceof Pc?aA(t,e):function(s,i){const o=iA(s,i),a=MT(o)+MT(s.Pe);return bv(o)&&bv(s.Pe)?sA(a):k0(s.serializer,a)}(t,e)}function X3(t,e,n){return t instanceof ma?oA(t,e):t instanceof Pc?aA(t,e):n}function iA(t,e){return t instanceof Df?function(r){return bv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ic extends jh{}class ma extends jh{constructor(e){super(),this.elements=e}}function oA(t,e){const n=lA(e);for(const r of t.elements)n.some(s=>wr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Pc extends jh{constructor(e){super(),this.elements=e}}function aA(t,e){let n=lA(e);for(const r of t.elements)n=n.filter(s=>!wr(s,r));return{arrayValue:{values:n}}}class Df extends jh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function MT(t){return lt(t.integerValue||t.doubleValue)}function lA(t){return A0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.field=e,this.transform=n}}function J3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof ma&&s instanceof ma||r instanceof Pc&&s instanceof Pc?fa(r.elements,s.elements,wr):r instanceof Df&&s instanceof Df?wr(r.Pe,s.Pe):r instanceof Ic&&s instanceof Ic}(t.transform,e.transform)}class Z3{constructor(e,n){this.version=e,this.transformResults=n}}class tn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tn}static exists(e){return new tn(void 0,e)}static updateTime(e){return new tn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Vh{}function uA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $h(t.key,tn.none()):new tu(t.key,t.data,tn.none());{const n=t.data,r=ln.empty();let s=new At(It.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new li(t.key,r,new xn(s.toArray()),tn.none())}}function e6(t,e,n){t instanceof tu?function(s,i,o){const a=s.value.clone(),l=LT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof li?function(s,i,o){if(!Wd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=LT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(dA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Kl(t,e,n,r){return t instanceof tu?function(i,o,a,l){if(!Wd(i.precondition,o))return a;const c=i.value.clone(),d=jT(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof li?function(i,o,a,l){if(!Wd(i.precondition,o))return a;const c=jT(i.fieldTransforms,l,o),d=o.data;return d.setAll(dA(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Wd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function t6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=iA(r.transform,s||null);i!=null&&(n===null&&(n=ln.empty()),n.set(r.field,i))}return n||null}function OT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fa(r,s,(i,o)=>J3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tu extends Vh{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class li extends Vh{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function dA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function LT(t,e,n){const r=new Map;Me(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,X3(o,a,n[s]))}return r}function jT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,Y3(i,o,e))}return r}class $h extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class n6 extends Vh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&e6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=uA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&fa(this.mutations,e.mutations,(n,r)=>OT(n,r))&&fa(this.baseMutations,e.baseMutations,(n,r)=>OT(n,r))}}class D0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Me(e.mutations.length===r.length);let s=function(){return H3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new D0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let s6=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht,Ae;function o6(t){switch(t){default:return pe();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function fA(t){if(t===void 0)return Qr("GRPC error has no .code"),U.UNKNOWN;switch(t){case ht.OK:return U.OK;case ht.CANCELLED:return U.CANCELLED;case ht.UNKNOWN:return U.UNKNOWN;case ht.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case ht.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case ht.INTERNAL:return U.INTERNAL;case ht.UNAVAILABLE:return U.UNAVAILABLE;case ht.UNAUTHENTICATED:return U.UNAUTHENTICATED;case ht.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case ht.NOT_FOUND:return U.NOT_FOUND;case ht.ALREADY_EXISTS:return U.ALREADY_EXISTS;case ht.PERMISSION_DENIED:return U.PERMISSION_DENIED;case ht.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case ht.ABORTED:return U.ABORTED;case ht.OUT_OF_RANGE:return U.OUT_OF_RANGE;case ht.UNIMPLEMENTED:return U.UNIMPLEMENTED;case ht.DATA_LOSS:return U.DATA_LOSS;default:return pe()}}(Ae=ht||(ht={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l6=new Ni([4294967295,4294967295],0);function VT(t){const e=a6().encode(t),n=new OP;return n.update(e),new Uint8Array(n.digest())}function $T(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ni([n,r],0),new Ni([s,i],0)]}class M0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Cl(`Invalid padding: ${n}`);if(r<0)throw new Cl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ni.fromNumber(this.Ie)}Ee(e,n,r){let s=e.add(n.multiply(Ni.fromNumber(r)));return s.compare(l6)===1&&(s=new Ni([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=VT(e),[r,s]=$T(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);if(!this.de(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new M0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=VT(e),[r,s]=$T(n);for(let i=0;i<this.hashCount;i++){const o=this.Ee(r,s,i);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Fh(ge.min(),s,new tt(ke),Yr(),Ie())}}class nu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new nu(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,s){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=s}}class hA{constructor(e,n){this.targetId=e,this.me=n}}class pA{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class FT{constructor(){this.fe=0,this.ge=BT(),this.pe=Nt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ie(),n=Ie(),r=Ie();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:pe()}}),new nu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=BT()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class c6{constructor(e){this.Le=e,this.Be=new Map,this.ke=Yr(),this.qe=UT(),this.Qe=new tt(ke)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:pe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,s)=>{this.ze(s)&&n(s)})}He(e){const n=e.targetId,r=e.me.count,s=this.Je(n);if(s){const i=s.target;if(Cv(i))if(r===0){const o=new ce(i.path);this.Ue(n,o,Bt.newNoDocument(o,ge.min()))}else Me(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Wi(r).toUint8Array()}catch(l){if(l instanceof WP)return da("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new M0(o,s,i)}catch(l){return da(l instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,i,null),s++)}),s}rt(e){const n=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&Cv(a.target)){const l=new ce(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Bt.newNoDocument(l,e))}i.be&&(n.set(o,i.ve()),i.Ce())}});let r=Ie();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Fh(e,n,this.Qe,this.ke,r);return this.ke=Yr(),this.qe=UT(),this.Qe=new tt(ke),s}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,n)?s.Fe(n,1):s.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new FT,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new At(ke),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new FT),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function UT(){return new tt(ce.comparator)}function BT(){return new tt(ce.comparator)}const u6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),d6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),f6=(()=>({and:"AND",or:"OR"}))();class h6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Av(t,e){return t.useProto3Json||Dh(e)?e:{value:e}}function Mf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function mA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function p6(t,e){return Mf(t,e.toTimestamp())}function gr(t){return Me(!!t),ge.fromTimestamp(function(n){const r=Gs(n);return new ot(r.seconds,r.nanos)}(t))}function O0(t,e){return Rv(t,e).canonicalString()}function Rv(t,e){const n=function(s){return new Be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function gA(t){const e=Be.fromString(t);return Me(xA(e)),e}function Nv(t,e){return O0(t.databaseId,e.path)}function jm(t,e){const n=gA(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ce(yA(n))}function vA(t,e){return O0(t.databaseId,e)}function m6(t){const e=gA(t);return e.length===4?Be.emptyPath():yA(e)}function kv(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function yA(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zT(t,e,n){return{name:Nv(t,e),fields:n.value.mapValue.fields}}function g6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:pe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Me(d===void 0||typeof d=="string"),Nt.fromBase64String(d||"")):(Me(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Nt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?U.UNKNOWN:fA(c.code);return new ee(d,c.message||"")}(o);n=new pA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jm(t,r.document.name),i=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):ge.min(),a=new ln({mapValue:{fields:r.document.fields}}),l=Bt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Hd(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jm(t,r.document),i=r.readTime?gr(r.readTime):ge.min(),o=Bt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Hd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jm(t,r.document),i=r.removedTargetIds||[];n=new Hd([],i,s,null)}else{if(!("filter"in e))return pe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new i6(s,i),a=r.targetId;n=new hA(a,o)}}return n}function v6(t,e){let n;if(e instanceof tu)n={update:zT(t,e.key,e.value)};else if(e instanceof $h)n={delete:Nv(t,e.key)};else if(e instanceof li)n={update:zT(t,e.key,e.data),updateMask:C6(e.fieldMask)};else{if(!(e instanceof n6))return pe();n={verify:Nv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ic)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ma)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Pc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Df)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw pe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:p6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:pe()}(t,e.precondition)),n}function y6(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?gr(s.updateTime):gr(i);return o.isEqual(ge.min())&&(o=gr(i)),new Z3(o,s.transformResults||[])}(n,e))):[]}function w6(t,e){return{documents:[vA(t,e.path)]}}function _6(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vA(t,s);const i=function(c){if(c.length!==0)return _A(Jn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(d=>function(m){return{field:To(m.field),direction:T6(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Av(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:s}}function x6(t){let e=m6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(f){const m=wA(f);return m instanceof Jn&&qP(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(w){return new Cc(bo(w.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Dh(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,g=f.values||[];return new kf(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,g=f.values||[];return new kf(g,m)}(n.endAt)),F3(e,s,o,i,a,"F",l,c)}function E6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function wA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bo(n.unaryFilter.field);return gt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=bo(n.unaryFilter.field);return gt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=bo(n.unaryFilter.field);return gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bo(n.unaryFilter.field);return gt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return pe()}}(t):t.fieldFilter!==void 0?function(n){return gt.create(bo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return pe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Jn.create(n.compositeFilter.filters.map(r=>wA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return pe()}}(n.compositeFilter.op))}(t):pe()}function T6(t){return u6[t]}function b6(t){return d6[t]}function S6(t){return f6[t]}function To(t){return{fieldPath:t.canonicalString()}}function bo(t){return It.fromServerFormat(t.fieldPath)}function _A(t){return t instanceof gt?function(n){if(n.op==="=="){if(AT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NAN"}};if(PT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(AT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NAN"}};if(PT(n.value))return{unaryFilter:{field:To(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:To(n.field),op:b6(n.op),value:n.value}}}(t):t instanceof Jn?function(n){const r=n.getFilters().map(s=>_A(s));return r.length===1?r[0]:{compositeFilter:{op:S6(n.op),filters:r}}}(t):pe()}function C6(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function xA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=Nt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6{constructor(e){this.ct=e}}function P6(t){const e=x6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Pv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6{constructor(){this.un=new R6}addToCollectionParentIndex(e,n){return this.un.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ks.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ks.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class R6{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new At(Be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new At(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ga{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ga(0)}static kn(){return new ga(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(){this.changes=new Oa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Kl(r.mutation,s,xn.empty(),ot.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Si();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Sl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Yr();const o=Hl(),a=function(){return Hl()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof li)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Kl(d.mutation,c,d.mutation.getFieldMask(),ot.now())):o.set(c.key,xn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new k6(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Hl();let s=new tt((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||xn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=rA();d.forEach(m=>{if(!i.has(m)){const g=uA(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ce.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JP(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(Si());let a=-1,l=i;return o.next(c=>H.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ie())).next(d=>({batchId:a,changes:nA(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ce(n)).next(r=>{let s=Sl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Sl();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,l=>{const c=function(f,m){return new Ma(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(d=>{d.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Bt.newInvalidDocument(d)))});let a=Sl();return o.forEach((l,c)=>{const d=i.get(l);d!==void 0&&Kl(d.mutation,c,xn.empty(),ot.now()),Lh(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return H.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:gr(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(s){return{name:s.name,query:P6(s.bundledQuery),readTime:gr(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(){this.overlays=new tt(ce.comparator),this.Ir=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Si();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.ht(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Ir.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=Si(),i=n.length+1,o=new ce(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new tt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Si(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Si(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return H.resolve(a)}ht(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(r.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new s6(n,r));let i=this.Ir.get(n);i===void 0&&(i=Ie(),this.Ir.set(n,i)),this.Ir.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.Tr=new At(_t.Er),this.dr=new At(_t.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new _t(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ce(new Be([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.dr.forEachInRange([r,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ce(new Be([])),r=new _t(n,e),s=new _t(n,e+1);let i=Ie();return this.dr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new _t(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ce.comparator(e.key,n.key)||ke(e.wr,n.wr)}static Ar(e,n){return ke(e.wr,n.wr)||ce.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new At(_t.Er)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new r6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new _t(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.vr(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,s],o=>{const a=this.Dr(o.wr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new At(ke);return n.forEach(s=>{const i=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ce.isDocumentKey(i)||(i=i.child(""));const o=new _t(new ce(i),0);let a=new At(ke);return this.br.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.wr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const s=this.Dr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return H.forEach(n.mutations,s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new _t(n,0),s=this.br.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.Mr=e,this.docs=function(){return new tt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Bt.newInvalidDocument(n))}getEntries(e,n){let r=Yr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Bt.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Yr();const o=n.path,a=new ce(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||x3(_3(d),r)<=0||(s.has(d.key)||Lh(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){pe()}Or(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new $6(this)}getSize(e){return H.resolve(this.size)}}class $6 extends N6{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.cr.addEntry(e,s)):this.cr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.persistence=e,this.Nr=new Oa(n=>R0(n),N0),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Lr=0,this.Br=new L0,this.targetCount=0,this.kr=ga.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),H.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new ga(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Kn(n),H.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n){this.qr={},this.overlays={},this.Qr=new C0(0),this.Kr=!1,this.Kr=!0,this.$r=new L6,this.referenceDelegate=e(this),this.Ur=new F6(this),this.indexManager=new A6,this.remoteDocumentCache=function(s){return new V6(s)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new I6(n),this.Gr=new M6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new O6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new j6(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){oe("MemoryPersistence","Starting transaction:",e);const s=new B6(this.Qr.next());return this.referenceDelegate.zr(),r(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,n){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class B6 extends T3{constructor(e){super(),this.currentSequenceNumber=e}}class j0{constructor(e){this.persistence=e,this.Jr=new L0,this.Yr=null}static Zr(e){return new j0(e)}get Xr(){if(this.Yr)return this.Yr;throw pe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),H.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(s=>this.Xr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const s=ce.fromPath(r);return this.ei(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return H.or([()=>H.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=s}static Wi(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new V0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return O$()?8:b3(Kt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Yi(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new z6;return this.Xi(e,n,o).next(a=>{if(i.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>i.result)}es(e,n,r,s){return r.documentReadCount<this.ji?(fl()<=Pe.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(fl()<=Pe.DEBUG&&oe("QueryEngine","Query:",Eo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.Hi*s?(fl()<=Pe.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mr(n))):H.resolve())}Yi(e,n){if(DT(n))return H.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Pv(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.ts(n,a);return this.ns(n,c,o,l.readTime)?this.Yi(e,Pv(n,null,"F")):this.rs(e,c,n,l)}))})))}Zi(e,n,r,s){return DT(n)||s.isEqual(ge.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(i=>{const o=this.ts(n,i);return this.ns(n,o,r,s)?H.resolve(null):(fl()<=Pe.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Eo(n)),this.rs(e,o,n,w3(s,-1)).next(a=>a))})}ts(e,n){let r=new At(eA(e));return n.forEach((s,i)=>{Lh(e,i)&&(r=r.add(i))}),r}ns(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,n,r){return fl()<=Pe.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Eo(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ks.min(),r)}rs(e,n,r,s){return this.Ji.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e,n,r,s){this.persistence=e,this.ss=n,this.serializer=s,this.os=new tt(ke),this._s=new Oa(i=>R0(i),N0),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new D6(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function K6(t,e,n,r){return new H6(t,e,n,r)}async function EA(t,e){const n=ve(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({hs:c,removedBatchIds:o,addedBatchIds:a}))})})}function G6(t,e){const n=ve(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,m=f.keys();let g=H.resolve();return m.forEach(w=>{g=g.next(()=>d.getEntry(l,w)).next(y=>{const T=c.docVersions.get(w);Me(T!==null),y.version.compareTo(T)<0&&(f.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),d.addEntry(y)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function TA(t){const e=ve(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function q6(t,e){const n=ve(t),r=e.snapshotVersion;let s=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});s=n.os;const a=[];e.targetChanges.forEach((d,f)=>{const m=s.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(i,d.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(i,d.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(Nt.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),s=s.insert(f,g),function(y,T,E){return y.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(m,g,d)&&a.push(n.Ur.updateTargetData(i,g))});let l=Yr(),c=Ie();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(Q6(i,o,e.documentUpdates).next(d=>{l=d.Ps,c=d.Is})),!r.isEqual(ge.min())){const d=n.Ur.getLastRemoteSnapshotVersion(i).next(f=>n.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.os=s,i))}function Q6(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Yr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):oe("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function Y6(t,e){const n=ve(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function X6(t,e){const n=ve(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ur.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Ur.allocateTargetId(r).next(o=>(s=new Is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.os.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Dv(t,e,n){const r=ve(t),s=r.os.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!eu(o))throw o;oe("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(s.target)}function WT(t,e,n){const r=ve(t);let s=ge.min(),i=Ie();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=ve(l),m=f._s.get(d);return m!==void 0?H.resolve(f.os.get(m)):f.Ur.getTargetData(c,d)}(r,o,mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Ie())).next(a=>(J6(r,B3(e),a),{documents:a,Ts:i})))}function J6(t,e,n){let r=t.us.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.us.set(e,r)}class HT{constructor(){this.activeTargetIds=q3()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Z6{constructor(){this.so=new HT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new HT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eU{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){oe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){oe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld=null;function Vm(){return ld===null?ld=function(){return 268435456+Math.round(2147483648*Math.random())}():ld++,"0x"+ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nU{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="WebChannelConnection";class rU extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(n,r,s,i,o){const a=Vm(),l=this.xo(n,r.toUriEncodedString());oe("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,i,o),this.No(n,l,c,s).then(d=>(oe("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw da("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}Lo(n,r,s,i,o,a){return this.Mo(n,r,s,i,o)}Oo(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Da}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}xo(n,r){const s=tU[n];return`${this.Do}/v1/${r}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,s){const i=Vm();return new Promise((o,a)=>{const l=new LP;l.setWithCredentials(!0),l.listenOnce(jP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Bd.NO_ERROR:const d=l.getResponseJson();oe(Vt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Bd.TIMEOUT:oe(Vt,`RPC '${e}' ${i} timed out`),a(new ee(U.DEADLINE_EXCEEDED,"Request time out"));break;case Bd.HTTP_ERROR:const f=l.getStatus();if(oe(Vt,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const w=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(E)>=0?E:U.UNKNOWN}(g.status);a(new ee(w,g.message))}else a(new ee(U.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ee(U.UNAVAILABLE,"Connection failed."));break;default:pe()}}finally{oe(Vt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);oe(Vt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}Bo(e,n,r){const s=Vm(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=FP(),a=$P(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");oe(Vt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const f=o.createWebChannel(d,l);let m=!1,g=!1;const w=new nU({Io:T=>{g?oe(Vt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(m||(oe(Vt,`Opening RPC '${e}' stream ${s} transport.`),f.open(),m=!0),oe(Vt,`RPC '${e}' stream ${s} sending:`,T),f.send(T))},To:()=>f.close()}),y=(T,E,_)=>{T.listen(E,x=>{try{_(x)}catch(I){setTimeout(()=>{throw I},0)}})};return y(f,bl.EventType.OPEN,()=>{g||(oe(Vt,`RPC '${e}' stream ${s} transport opened.`),w.yo())}),y(f,bl.EventType.CLOSE,()=>{g||(g=!0,oe(Vt,`RPC '${e}' stream ${s} transport closed`),w.So())}),y(f,bl.EventType.ERROR,T=>{g||(g=!0,da(Vt,`RPC '${e}' stream ${s} transport errored:`,T),w.So(new ee(U.UNAVAILABLE,"The operation could not be completed")))}),y(f,bl.EventType.MESSAGE,T=>{var E;if(!g){const _=T.data[0];Me(!!_);const x=_,I=x.error||((E=x[0])===null||E===void 0?void 0:E.error);if(I){oe(Vt,`RPC '${e}' stream ${s} received error:`,I);const k=I.status;let O=function(P){const A=ht[P];if(A!==void 0)return fA(A)}(k),C=I.message;O===void 0&&(O=U.INTERNAL,C="Unknown error status: "+k+" with message "+I.message),g=!0,w.So(new ee(O,C)),f.close()}else oe(Vt,`RPC '${e}' stream ${s} received:`,_),w.bo(_)}}),y(a,VP.STAT_EVENT,T=>{T.stat===Ev.PROXY?oe(Vt,`RPC '${e}' stream ${s} detected buffering proxy`):T.stat===Ev.NOPROXY&&oe(Vt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function $m(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(t){return new h6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&oe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(e,n,r,s,i,o,a,l){this.ui=e,this.Ho=r,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bA(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Yo===n&&this.P_(r,s)},r=>{e(()=>{const s=new ee(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(s)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{r(()=>this.I_(s))}),this.stream.onMessage(s=>{r(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return oe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(oe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sU extends SA{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=g6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?gr(o.readTime):ge.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=kv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Cv(l)?{documents:w6(i,l)}:{query:_6(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=mA(i,o.resumeToken);const c=Av(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Mf(i,o.snapshotVersion.toTimestamp());const c=Av(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=E6(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=kv(this.serializer),n.removeTarget=e,this.a_(n)}}class iU extends SA{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=y6(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=kv(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>v6(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oU extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ee(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,Rv(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ee(U.UNKNOWN,i.toString())})}Lo(e,n,r,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,Rv(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(U.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class aU{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(n),this.D_=!1):oe("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lU{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{r.enqueueAndForget(async()=>{no(this)&&(oe("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ve(l);c.L_.add(4),await ru(c),c.q_.set("Unknown"),c.L_.delete(4),await Bh(c)}(this))})}),this.q_=new aU(r,s)}}async function Bh(t){if(no(t))for(const e of t.B_)await e(!0)}async function ru(t){for(const e of t.B_)await e(!1)}function CA(t,e){const n=ve(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),B0(n)?U0(n):La(n).r_()&&F0(n,e))}function $0(t,e){const n=ve(t),r=La(n);n.N_.delete(e),r.r_()&&IA(n,e),n.N_.size===0&&(r.r_()?r.o_():no(n)&&n.q_.set("Unknown"))}function F0(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}La(t).A_(e)}function IA(t,e){t.Q_.xe(e),La(t).R_(e)}function U0(t){t.Q_=new c6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),La(t).start(),t.q_.v_()}function B0(t){return no(t)&&!La(t).n_()&&t.N_.size>0}function no(t){return ve(t).L_.size===0}function PA(t){t.Q_=void 0}async function cU(t){t.q_.set("Online")}async function uU(t){t.N_.forEach((e,n)=>{F0(t,e)})}async function dU(t,e){PA(t),B0(t)?(t.q_.M_(e),U0(t)):t.q_.set("Unknown")}async function fU(t,e,n){if(t.q_.set("Online"),e instanceof pA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(r){oe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Of(t,r)}else if(e instanceof Hd?t.Q_.Ke(e):e instanceof hA?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ge.min()))try{const r=await TA(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.N_.get(c);d&&i.N_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.N_.get(l);if(!d)return;i.N_.set(l,d.withResumeToken(Nt.EMPTY_BYTE_STRING,d.snapshotVersion)),IA(i,l);const f=new Is(d.target,l,c,d.sequenceNumber);F0(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){oe("RemoteStore","Failed to raise snapshot:",r),await Of(t,r)}}async function Of(t,e,n){if(!eu(e))throw e;t.L_.add(1),await ru(t),t.q_.set("Offline"),n||(n=()=>TA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{oe("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Bh(t)})}function AA(t,e){return e().catch(n=>Of(t,n,e))}async function zh(t){const e=ve(t),n=qs(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hU(e);)try{const s=await Y6(e.localStore,r);if(s===null){e.O_.length===0&&n.o_();break}r=s.batchId,pU(e,s)}catch(s){await Of(e,s)}RA(e)&&NA(e)}function hU(t){return no(t)&&t.O_.length<10}function pU(t,e){t.O_.push(e);const n=qs(t);n.r_()&&n.V_&&n.m_(e.mutations)}function RA(t){return no(t)&&!qs(t).n_()&&t.O_.length>0}function NA(t){qs(t).start()}async function mU(t){qs(t).p_()}async function gU(t){const e=qs(t);for(const n of t.O_)e.m_(n.mutations)}async function vU(t,e,n){const r=t.O_.shift(),s=D0.from(r,e,n);await AA(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await zh(t)}async function yU(t,e){e&&qs(t).V_&&await async function(r,s){if(function(o){return o6(o)&&o!==U.ABORTED}(s.code)){const i=r.O_.shift();qs(r).s_(),await AA(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await zh(r)}}(t,e),RA(t)&&NA(t)}async function GT(t,e){const n=ve(t);n.asyncQueue.verifyOperationInProgress(),oe("RemoteStore","RemoteStore received new credentials");const r=no(n);n.L_.add(3),await ru(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Bh(n)}async function wU(t,e){const n=ve(t);e?(n.L_.delete(2),await Bh(n)):e||(n.L_.add(2),await ru(n),n.q_.set("Unknown"))}function La(t){return t.K_||(t.K_=function(n,r,s){const i=ve(n);return i.w_(),new sU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:cU.bind(null,t),Ro:uU.bind(null,t),mo:dU.bind(null,t),d_:fU.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),B0(t)?U0(t):t.q_.set("Unknown")):(await t.K_.stop(),PA(t))})),t.K_}function qs(t){return t.U_||(t.U_=function(n,r,s){const i=ve(n);return i.w_(),new iU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:mU.bind(null,t),mo:yU.bind(null,t),f_:gU.bind(null,t),g_:vU.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await zh(t)):(await t.U_.stop(),t.O_.length>0&&(oe("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new z0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function W0(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),eu(t))return new ee(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ce.comparator(n.key,r.key):(n,r)=>ce.comparator(n.key,r.key),this.keyedMap=Sl(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Zo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.W_=new tt(ce.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):pe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class va{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new va(e,n,Zo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Oh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class xU{constructor(){this.queries=QT(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const s=ve(n),i=s.queries;s.queries=QT(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(r)})})(this,new ee(U.ABORTED,"Firestore shutting down"))}}function QT(){return new Oa(t=>ZP(t),Oh)}async function H0(t,e){const n=ve(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.H_()&&e.J_()&&(r=2):(i=new _U,r=e.J_()?0:1);try{switch(r){case 0:i.z_=await n.onListen(s,!0);break;case 1:i.z_=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=W0(o,`Initialization of query '${Eo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.j_.push(e),e.Z_(n.onlineState),i.z_&&e.X_(i.z_)&&G0(n)}async function K0(t,e){const n=ve(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function EU(t,e){const n=ve(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(r=!0);o.z_=s}}r&&G0(n)}function TU(t,e,n){const r=ve(t),s=r.queries.get(e);if(s)for(const i of s.j_)i.onError(n);r.queries.delete(e)}function G0(t){t.Y_.forEach(e=>{e.next()})}var Mv,YT;(YT=Mv||(Mv={})).ea="default",YT.Cache="cache";class q0{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new va(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=va.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e){this.key=e}}class DA{constructor(e){this.key=e}}class bU{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ie(),this.mutatedKeys=Ie(),this.Aa=eA(e),this.Ra=new Zo(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new qT,s=n?n.Ra:this.Ra;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,f)=>{const m=s.get(d),g=Lh(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),y=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;m&&g?m.data.isEqual(g.data)?w!==y&&(r.track({type:3,doc:g}),T=!0):this.ga(m,g)||(r.track({type:2,doc:g}),T=!0,(l&&this.Aa(g,l)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),T=!0):m&&!g&&(r.track({type:1,doc:m}),T=!0,(l||c)&&(a=!0)),T&&(g?(o=o.add(g),i=y?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:i}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(g,w){const y=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe()}};return y(g)-y(w)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),s=s!=null&&s;const a=n&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,c=l!==this.Ea;return this.Ea=l,o.length!==0||c?{snapshot:new va(this.query,e.Ra,i,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new qT,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ie(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new DA(r))}),this.da.forEach(r=>{e.has(r)||n.push(new kA(r))}),n}ba(e){this.Ta=e.Ts,this.da=Ie();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return va.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class SU{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class CU{constructor(e){this.key=e,this.va=!1}}class IU{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Oa(a=>ZP(a),Oh),this.Ma=new Map,this.xa=new Set,this.Oa=new tt(ce.comparator),this.Na=new Map,this.La=new L0,this.Ba={},this.ka=new Map,this.qa=ga.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PU(t,e,n=!0){const r=$A(t);let s;const i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await MA(r,e,n,!0),s}async function AU(t,e){const n=$A(t);await MA(n,e,!0,!1)}async function MA(t,e,n,r){const s=await X6(t.localStore,mr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await RU(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&CA(t.remoteStore,s),a}async function RU(t,e,n,r,s){t.Ka=(f,m,g)=>async function(y,T,E,_){let x=T.view.ma(E);x.ns&&(x=await WT(y.localStore,T.query,!1).then(({documents:C})=>T.view.ma(C,x)));const I=_&&_.targetChanges.get(T.targetId),k=_&&_.targetMismatches.get(T.targetId)!=null,O=T.view.applyChanges(x,y.isPrimaryClient,I,k);return JT(y,T.targetId,O.wa),O.snapshot}(t,f,m,g);const i=await WT(t.localStore,e,!0),o=new bU(e,i.Ts),a=o.ma(i.documents),l=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);JT(t,n,c.wa);const d=new SU(e,n,o);return t.Fa.set(e,d),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function NU(t,e,n){const r=ve(t),s=r.Fa.get(e),i=r.Ma.get(s.targetId);if(i.length>1)return r.Ma.set(s.targetId,i.filter(o=>!Oh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Dv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&$0(r.remoteStore,s.targetId),Ov(r,s.targetId)}).catch(Zc)):(Ov(r,s.targetId),await Dv(r.localStore,s.targetId,!0))}async function kU(t,e){const n=ve(t),r=n.Fa.get(e),s=n.Ma.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),$0(n.remoteStore,r.targetId))}async function DU(t,e,n){const r=FU(t);try{const s=await function(o,a){const l=ve(o),c=ot.now(),d=a.reduce((g,w)=>g.add(w.key),Ie());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=Yr(),y=Ie();return l.cs.getEntries(g,d).next(T=>{w=T,w.forEach((E,_)=>{_.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,w)).next(T=>{f=T;const E=[];for(const _ of a){const x=t6(_,f.get(_.key).overlayedDocument);x!=null&&E.push(new li(_.key,x,HP(x.value.mapValue),tn.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,E,a)}).next(T=>{m=T;const E=T.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(g,T.batchId,E)})}).then(()=>({batchId:m.batchId,changes:nA(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.Ba[o.currentUser.toKey()];c||(c=new tt(ke)),c=c.insert(a,l),o.Ba[o.currentUser.toKey()]=c}(r,s.batchId,n),await su(r,s.changes),await zh(r.remoteStore)}catch(s){const i=W0(s,"Failed to persist write");n.reject(i)}}async function OA(t,e){const n=ve(t);try{const r=await q6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Na.get(i);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?Me(o.va):s.removedDocuments.size>0&&(Me(o.va),o.va=!1))}),await su(n,r,e)}catch(r){await Zc(r)}}function XT(t,e,n){const r=ve(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ve(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const m of f.j_)m.Z_(a)&&(c=!0)}),c&&G0(l)}(r.eventManager,e),s.length&&r.Ca.d_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function MU(t,e,n){const r=ve(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Na.get(e),i=s&&s.key;if(i){let o=new tt(ce.comparator);o=o.insert(i,Bt.newNoDocument(i,ge.min()));const a=Ie().add(i),l=new Fh(ge.min(),new Map,new tt(ke),o,a);await OA(r,l),r.Oa=r.Oa.remove(i),r.Na.delete(e),Q0(r)}else await Dv(r.localStore,e,!1).then(()=>Ov(r,e,n)).catch(Zc)}async function OU(t,e){const n=ve(t),r=e.batch.batchId;try{const s=await G6(n.localStore,e);jA(n,r,null),LA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await su(n,s)}catch(s){await Zc(s)}}async function LU(t,e,n){const r=ve(t);try{const s=await function(o,a){const l=ve(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(Me(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);jA(r,e,n),LA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await su(r,s)}catch(s){await Zc(s)}}function LA(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function jA(t,e,n){const r=ve(t);let s=r.Ba[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Ba[r.currentUser.toKey()]=s}}function Ov(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||VA(t,r)})}function VA(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&($0(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Q0(t))}function JT(t,e,n){for(const r of n)r instanceof kA?(t.La.addReference(r.key,e),jU(t,r)):r instanceof DA?(oe("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||VA(t,r.key)):pe()}function jU(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(oe("SyncEngine","New document in limbo: "+n),t.xa.add(r),Q0(t))}function Q0(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ce(Be.fromString(e)),r=t.qa.next();t.Na.set(r,new CU(n)),t.Oa=t.Oa.insert(n,r),CA(t.remoteStore,new Is(mr(Mh(n.path)),r,"TargetPurposeLimboResolution",C0.oe))}}async function su(t,e,n){const r=ve(t),s=[],i=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{o.push(r.Ka(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){s.push(c);const f=V0.Wi(l.targetId,c);i.push(f)}}))}),await Promise.all(o),r.Ca.d_(s),await async function(l,c){const d=ve(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(c,m=>H.forEach(m.$i,g=>d.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>H.forEach(m.Ui,g=>d.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!eu(f))throw f;oe("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const g=d.os.get(m),w=g.snapshotVersion,y=g.withLastLimboFreeSnapshotVersion(w);d.os=d.os.insert(m,y)}}}(r.localStore,i))}async function VU(t,e){const n=ve(t);if(!n.currentUser.isEqual(e)){oe("SyncEngine","User change. New user:",e.toKey());const r=await EA(n.localStore,e);n.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new ee(U.CANCELLED,o))})}),i.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(n,r.hs)}}function $U(t,e){const n=ve(t),r=n.Na.get(e);if(r&&r.va)return Ie().add(r.key);{let s=Ie();const i=n.Ma.get(e);if(!i)return s;for(const o of i){const a=n.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function $A(t){const e=ve(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$U.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=MU.bind(null,e),e.Ca.d_=EU.bind(null,e.eventManager),e.Ca.$a=TU.bind(null,e.eventManager),e}function FU(t){const e=ve(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=OU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=LU.bind(null,e),e}class Lf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Uh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return K6(this.persistence,new W6,e.initialUser,this.serializer)}Ga(e){return new U6(j0.Zr,this.serializer)}Wa(e){return new Z6}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lf.provider={build:()=>new Lf};class Lv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>XT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=VU.bind(null,this.syncEngine),await wU(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new xU}()}createDatastore(e){const n=Uh(e.databaseInfo.databaseId),r=function(i){return new rU(i)}(e.databaseInfo);return function(i,o,a,l){return new oU(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new lU(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>XT(this.syncEngine,n,0),function(){return KT.D()?new KT:new eU}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const f=new IU(s,i,o,a,l,c);return d&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ve(s);oe("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ru(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lv.provider={build:()=>new Lv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UU{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ft.UNAUTHENTICATED,this.clientId=BP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{oe("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(oe("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=W0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fm(t,e){t.asyncQueue.verifyOperationInProgress(),oe("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await EA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ZT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await BU(t);oe("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>GT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>GT(e.remoteStore,s)),t._onlineComponents=e}async function BU(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){oe("FirestoreClient","Using user provided OfflineComponentProvider");try{await Fm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===U.FAILED_PRECONDITION||s.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;da("Error using user provided cache. Falling back to memory cache: "+n),await Fm(t,new Lf)}}else oe("FirestoreClient","Using default OfflineComponentProvider"),await Fm(t,new Lf);return t._offlineComponents}async function FA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(oe("FirestoreClient","Using user provided OnlineComponentProvider"),await ZT(t,t._uninitializedComponentsProvider._online)):(oe("FirestoreClient","Using default OnlineComponentProvider"),await ZT(t,new Lv))),t._onlineComponents}function zU(t){return FA(t).then(e=>e.syncEngine)}async function jf(t){const e=await FA(t),n=e.eventManager;return n.onListen=PU.bind(null,e.syncEngine),n.onUnlisten=NU.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=AU.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=kU.bind(null,e.syncEngine),n}function WU(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new Y0({next:m=>{d.Za(),o.enqueueAndForget(()=>K0(i,f));const g=m.docs.has(a);!g&&m.fromCache?c.reject(new ee(U.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&m.fromCache&&l&&l.source==="server"?c.reject(new ee(U.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new q0(Mh(a.path),d,{includeMetadataChanges:!0,_a:!0});return H0(i,f)}(await jf(t),t.asyncQueue,e,n,r)),r.promise}function HU(t,e,n={}){const r=new Fr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new Y0({next:m=>{d.Za(),o.enqueueAndForget(()=>K0(i,f)),m.fromCache&&l.source==="server"?c.reject(new ee(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new q0(a,d,{includeMetadataChanges:!0,_a:!0});return H0(i,f)}(await jf(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e,n){if(!n)throw new ee(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function KU(t,e,n,r){if(e===!0&&r===!0)throw new ee(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tb(t){if(!ce.isDocumentKey(t))throw new ee(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nb(t){if(ce.isDocumentKey(t))throw new ee(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Wh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":pe()}function nn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Wh(t);throw new ee(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=UA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ee(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ee(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rb(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u3;switch(r.type){case"firstParty":return new p3(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eb.get(n);r&&(oe("ComponentProvider","Removing Datastore"),eb.delete(n),r.terminate())}(this),Promise.resolve()}}function GU(t,e,n,r={}){var s;const i=(t=nn(t,Hh))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&da("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ft.MOCK_USER;else{a=GI(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ee(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ft(c)}t._authCredentials=new d3(new UP(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ci(this.firestore,e,this._query)}}class Wt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class $s extends ci{constructor(e,n,r){super(e,n,Mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new ce(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function wn(t,e,...n){if(t=at(t),BA("collection","path",e),t instanceof Hh){const r=Be.fromString(e,...n);return nb(r),new $s(t,null,r)}{if(!(t instanceof Wt||t instanceof $s))throw new ee(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return nb(r),new $s(t.firestore,null,r)}}function Xe(t,e,...n){if(t=at(t),arguments.length===1&&(e=BP.newId()),BA("doc","path",e),t instanceof Hh){const r=Be.fromString(e,...n);return tb(r),new Wt(t,null,new ce(r))}{if(!(t instanceof Wt||t instanceof $s))throw new ee(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return tb(r),new Wt(t.firestore,t instanceof $s?t.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bA(this,"async_queue_retry"),this.Vu=()=>{const r=$m();r&&oe("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=$m();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=$m();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Fr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!eu(e))throw e;oe("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const s=z0.createAndSchedule(this,e,n,r,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&pe()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function ib(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class _r extends Hh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new sb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sb(e),this._firestoreClient=void 0,await e}}}function qU(t,e){const n=typeof t=="object"?t:g0(),r=typeof t=="string"?t:e||"(default)",s=Ah(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=WI("firestore");i&&GU(s,...i)}return s}function iu(t){if(t._terminated)throw new ee(U.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||QU(t),t._firestoreClient}function QU(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new I3(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,UA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new UU(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ya(Nt.fromBase64String(e))}catch(n){throw new ee(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ya(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new It(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=/^__.*__$/;class XU{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,n,this.fieldTransforms):new tu(e,this.data,n,this.fieldTransforms)}}class zA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new li(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function WA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe()}}class Kh{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.Ou(e),s}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.Fu({path:r,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(WA(this.Cu)&&YU.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class JU{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Uh(e)}Qu(e,n,r,s=!1){return new Kh({Cu:e,methodName:n,qu:r,path:It.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lu(t){const e=t._freezeSettings(),n=Uh(t._databaseId);return new JU(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Z0(t,e,n,r,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,n,s);nw("Data must be an object, but it was:",o,r);const a=GA(r,o);let l,c;if(i.merge)l=new xn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const f of i.mergeFields){const m=jv(e,f,n);if(!o.contains(m))throw new ee(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);QA(d,m)||d.push(m)}l=new xn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new XU(new ln(a),l,c)}class Gh extends au{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gh}}function ZU(t,e,n){return new Kh({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class ew extends au{_toFieldTransform(e){return new cA(e.path,new Ic)}isEqual(e){return e instanceof ew}}class tw extends au{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=ZU(this,e,!0),r=this.Ku.map(i=>ja(i,n)),s=new ma(r);return new cA(e.path,s)}isEqual(e){return e instanceof tw&&yc(this.Ku,e.Ku)}}function HA(t,e,n,r){const s=t.Qu(1,e,n);nw("Data must be an object, but it was:",s,r);const i=[],o=ln.empty();to(r,(l,c)=>{const d=rw(e,l,n);c=at(c);const f=s.Nu(d);if(c instanceof Gh)i.push(d);else{const m=ja(c,f);m!=null&&(i.push(d),o.set(d,m))}});const a=new xn(i);return new zA(o,a,s.fieldTransforms)}function KA(t,e,n,r,s,i){const o=t.Qu(1,e,n),a=[jv(e,r,n)],l=[s];if(i.length%2!=0)throw new ee(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(jv(e,i[m])),l.push(i[m+1]);const c=[],d=ln.empty();for(let m=a.length-1;m>=0;--m)if(!QA(c,a[m])){const g=a[m];let w=l[m];w=at(w);const y=o.Nu(g);if(w instanceof Gh)c.push(g);else{const T=ja(w,y);T!=null&&(c.push(g),d.set(g,T))}}const f=new xn(c);return new zA(d,f,o.fieldTransforms)}function e9(t,e,n,r=!1){return ja(n,t.Qu(r?4:3,e))}function ja(t,e){if(qA(t=at(t)))return nw("Unsupported field value:",e,t),GA(t,e);if(t instanceof au)return function(r,s){if(!WA(s.Cu))throw s.Bu(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=ja(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Q3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ot.fromDate(r);return{timestampValue:Mf(s.serializer,i)}}if(r instanceof ot){const i=new ot(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Mf(s.serializer,i)}}if(r instanceof X0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ya)return{bytesValue:mA(s.serializer,r._byteString)};if(r instanceof Wt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:O0(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof J0)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return k0(a.serializer,l)})}}}}}}(r,s);throw s.Bu(`Unsupported field value: ${Wh(r)}`)}(t,e)}function GA(t,e){const n={};return zP(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):to(t,(r,s)=>{const i=ja(s,e.Mu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function qA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ot||t instanceof X0||t instanceof ya||t instanceof Wt||t instanceof au||t instanceof J0)}function nw(t,e,n){if(!qA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Wh(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function jv(t,e,n){if((e=at(e))instanceof ou)return e._internalPath;if(typeof e=="string")return rw(t,e);throw Vf("Field path arguments must be of type string or ",t,!1,void 0,n)}const t9=new RegExp("[~\\*/\\[\\]]");function rw(t,e,n){if(e.search(t9)>=0)throw Vf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ou(...e.split("."))._internalPath}catch{throw Vf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ee(U.INVALID_ARGUMENT,a+t+l)}function QA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(qh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n9 extends YA{data(){return super.data()}}function qh(t,e){return typeof e=="string"?rw(t,e):e instanceof ou?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sw{}class JA extends sw{}function $f(t,e,...n){let r=[];e instanceof sw&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof iw).length,a=i.filter(l=>l instanceof Qh).length;if(o>1||o>0&&a>0)throw new ee(U.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Qh extends JA{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Qh(e,n,r)}_apply(e){const n=this._parse(e);return ZA(e._query,n),new ci(e.firestore,e.converter,Iv(e._query,n))}_parse(e){const n=lu(e.firestore);return function(i,o,a,l,c,d,f){let m;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ee(U.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){ab(f,d);const g=[];for(const w of f)g.push(ob(l,i,w));m={arrayValue:{values:g}}}else m=ob(l,i,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||ab(f,d),m=e9(a,o,f,d==="in"||d==="not-in");return gt.create(c,d,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ff(t,e,n){const r=e,s=qh("where",t);return Qh._create(s,r,n)}class iw extends sw{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new iw(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Jn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)ZA(o,l),o=Iv(o,l)}(e._query,n),new ci(e.firestore,e.converter,Iv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ow extends JA{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ow(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ee(U.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ee(U.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Cc(i,o)}(e._query,this._field,this._direction);return new ci(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ma(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function aw(t,e="asc"){const n=e,r=qh("orderBy",t);return ow._create(r,n)}function ob(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new ee(U.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JP(e)&&n.indexOf("/")!==-1)throw new ee(U.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!ce.isDocumentKey(r))throw new ee(U.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return IT(t,new ce(r))}if(n instanceof Wt)return IT(t,n._key);throw new ee(U.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Wh(n)}.`)}function ab(t,e){if(!Array.isArray(t)||t.length===0)throw new ee(U.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ZA(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ee(U.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ee(U.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class r9{convertValue(e,n="none"){switch(Hi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw pe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return to(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>lt(o.doubleValue));return new J0(i)}convertGeoPoint(e){return new X0(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=P0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Tc(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new ot(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Me(xA(r));const s=new bc(r.get(1),r.get(3)),i=new ce(r.popFirst(5));return s.isEqual(n)||Qr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class eR extends YA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(qh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Kd extends eR{data(e={}){return super.data(e)}}class tR{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Il(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Kd(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Kd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Kd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:s9(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){t=nn(t,Wt);const e=nn(t.firestore,_r);return WU(iu(e),t._key).then(n=>nR(e,t,n))}class cw extends r9{constructor(e){super(),this.firestore=e}convertBytes(e){return new ya(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function Uf(t){t=nn(t,ci);const e=nn(t.firestore,_r),n=iu(e),r=new cw(e);return XA(t._query),HU(n,t._query).then(s=>new tR(e,r,t,s))}function wa(t,e,n){t=nn(t,Wt);const r=nn(t.firestore,_r),s=lw(t.converter,e,n);return uu(r,[Z0(lu(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,tn.none())])}function cu(t,e,n,...r){t=nn(t,Wt);const s=nn(t.firestore,_r),i=lu(s);let o;return o=typeof(e=at(e))=="string"||e instanceof ou?KA(i,"updateDoc",t._key,e,n,r):HA(i,"updateDoc",t._key,e),uu(s,[o.toMutation(t._key,tn.exists(!0))])}function Vv(t){return uu(nn(t.firestore,_r),[new $h(t._key,tn.none())])}function Ac(t,e){const n=nn(t.firestore,_r),r=Xe(t),s=lw(t.converter,e);return uu(n,[Z0(lu(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,tn.exists(!1))]).then(()=>r)}function ki(t,...e){var n,r,s;t=at(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||ib(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ib(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,c,d;if(t instanceof Wt)c=nn(t.firestore,_r),d=Mh(t._key.path),l={next:f=>{e[o]&&e[o](nR(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=nn(t,ci);c=nn(f.firestore,_r),d=f._query;const m=new cw(c);l={next:g=>{e[o]&&e[o](new tR(c,m,f,g))},error:e[o+1],complete:e[o+2]},XA(t._query)}return function(m,g,w,y){const T=new Y0(y),E=new q0(g,T,w);return m.asyncQueue.enqueueAndForget(async()=>H0(await jf(m),E)),()=>{T.Za(),m.asyncQueue.enqueueAndForget(async()=>K0(await jf(m),E))}}(iu(c),d,a,l)}function uu(t,e){return function(r,s){const i=new Fr;return r.asyncQueue.enqueueAndForget(async()=>DU(await zU(r),s,i)),i.promise}(iu(t),e)}function nR(t,e,n){const r=n.docs.get(e._key),s=new cw(t);return new eR(t,s,e._key,r,new Il(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i9{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lu(e)}set(e,n,r){this._verifyNotCommitted();const s=Um(e,this._firestore),i=lw(s.converter,n,r),o=Z0(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,r);return this._mutations.push(o.toMutation(s._key,tn.none())),this}update(e,n,r,...s){this._verifyNotCommitted();const i=Um(e,this._firestore);let o;return o=typeof(n=at(n))=="string"||n instanceof ou?KA(this._dataReader,"WriteBatch.update",i._key,n,r,s):HA(this._dataReader,"WriteBatch.update",i._key,n),this._mutations.push(o.toMutation(i._key,tn.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Um(e,this._firestore);return this._mutations=this._mutations.concat(new $h(n._key,tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ee(U.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Um(t,e){if((t=at(t)).firestore!==e)throw new ee(U.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Bf(){return new ew("serverTimestamp")}function o9(...t){return new tw("arrayUnion",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){return iu(t=nn(t,_r)),new i9(t,e=>uu(t,e))}(function(e,n=!0){(function(s){Da=s})(Zi),Fi(new Hs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new _r(new f3(r.getProvider("auth-internal")),new g3(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bc(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),fr(ET,"4.7.3",e),fr(ET,"4.7.3","esm2017")})();var l9="firebase",c9="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fr(l9,c9,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="firebasestorage.googleapis.com",u9="storageBucket",d9=2*60*1e3,f9=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Tr{constructor(e,n,r=0){super(Bm(e),`Firebase Storage: ${n} (${Bm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Bm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xr||(xr={}));function Bm(t){return"storage/"+t}function h9(){const t="An unknown error occurred, please check the error payload for server response.";return new br(xr.UNKNOWN,t)}function p9(){return new br(xr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function m9(){return new br(xr.CANCELED,"User canceled the upload/download.")}function g9(t){return new br(xr.INVALID_URL,"Invalid URL '"+t+"'.")}function v9(t){return new br(xr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function lb(t){return new br(xr.INVALID_ARGUMENT,t)}function sR(){return new br(xr.APP_DELETED,"The Firebase app was deleted.")}function y9(t){return new br(xr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Gn.makeFromUrl(e,n)}catch{return new Gn(e,"")}if(r.path==="")return r;throw v9(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(I){I.path.charAt(I.path.length-1)==="/"&&(I.path_=I.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(I){I.path_=decodeURIComponent(I.path)}const d="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",g=new RegExp(`^https?://${f}/${d}/b/${s}/o${m}`,"i"),w={bucket:1,path:3},y=n===rR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,T="([^?#]*)",E=new RegExp(`^https?://${y}/${s}/${T}`,"i"),x=[{regex:a,indices:l,postModify:i},{regex:g,indices:w,postModify:c},{regex:E,indices:{bucket:1,path:2},postModify:c}];for(let I=0;I<x.length;I++){const k=x[I],O=k.regex.exec(e);if(O){const C=O[k.indices.bucket];let S=O[k.indices.path];S||(S=""),r=new Gn(C,S),k.postModify(r);break}}if(r==null)throw g9(e);return r}}class w9{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _9(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...T){c||(c=!0,e.apply(null,T))}function f(T){s=setTimeout(()=>{s=null,t(g,l())},T)}function m(){i&&clearTimeout(i)}function g(T,...E){if(c){m();return}if(T){m(),d.call(null,T,...E);return}if(l()||o){m(),d.call(null,T,...E);return}r<64&&(r*=2);let x;a===1?(a=2,x=0):x=(r+Math.random())*1e3,f(x)}let w=!1;function y(T){w||(w=!0,m(),!c&&(s!==null?(T||(a=2),clearTimeout(s),f(0)):T||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function x9(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E9(t){return t!==void 0}function cb(t,e,n,r){if(r<e)throw lb(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw lb(`Invalid value for '${t}'. Expected ${n} or less.`)}function T9(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var zf;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zf||(zf={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n,r,s,i,o,a,l,c,d,f,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=f,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,w)=>{this.resolve_=g,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new cd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===zf.NO_ERROR,l=i.getStatus();if(!a||b9(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===zf.ABORT;r(!1,new cd(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new cd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());E9(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=h9();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?sR():m9();o(l)}else{const l=p9();o(l)}};this.canceled_?n(!1,new cd(!1,null,!0)):this.backoffId_=_9(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&x9(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class cd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function C9(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function I9(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function P9(t,e){e&&(t["X-Firebase-GMPID"]=e)}function A9(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function R9(t,e,n,r,s,i,o=!0){const a=T9(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return P9(c,e),C9(c,n),I9(c,i),A9(c,r),new S9(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N9(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function k9(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,n){this._service=e,n instanceof Gn?this._location=n:this._location=Gn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wf(e,n)}get root(){const e=new Gn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return k9(this._location.path)}get storage(){return this._service}get parent(){const e=N9(this._location.path);if(e===null)return null;const n=new Gn(this._location.bucket,e);return new Wf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw y9(e)}}function ub(t,e){const n=e==null?void 0:e[u9];return n==null?null:Gn.makeFromBucketSpec(n,t)}function D9(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:GI(s,t.app.options.projectId))}class M9{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=rR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=d9,this._maxUploadRetryTime=f9,this._requests=new Set,s!=null?this._bucket=Gn.makeFromBucketSpec(s,this._host):this._bucket=ub(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Gn.makeFromBucketSpec(this._url,e):this._bucket=ub(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){cb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){cb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wf(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new w9(sR());{const o=R9(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const db="@firebase/storage",fb="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="storage";function O9(t=g0(),e){t=at(t);const r=Ah(t,iR).getImmediate({identifier:e}),s=WI("storage");return s&&L9(r,...s),r}function L9(t,e,n,r={}){D9(t,e,n,r)}function j9(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new M9(n,r,s,e,Zi)}function V9(){Fi(new Hs(iR,j9,"PUBLIC").setMultipleInstances(!0)),fr(db,fb,""),fr(db,fb,"esm2017")}V9();const $9={apiKey:"AIzaSyA6lOKomvn9wHnwTQaoo3EZiR8C2uQMazw",authDomain:"mahmrat-edu.firebaseapp.com",projectId:"mahmrat-edu",storageBucket:"mahmrat-edu.firebasestorage.app",messagingSenderId:"193532135544",appId:"1:193532135544:web:e3a7f9c5baac84bd78858d"},uw=YI($9),Pl=l3(uw),Ce=qU(uw);O9(uw);const F9=1;let zm=0;function U9(){return zm=(zm+1)%Number.MAX_VALUE,zm.toString()}const Xt={state:{toasts:[]},listeners:[],getState:()=>Xt.state,setState:t=>{typeof t=="function"?Xt.state=t(Xt.state):Xt.state={...Xt.state,...t},Xt.listeners.forEach(e=>e(Xt.state))},subscribe:t=>(Xt.listeners.push(t),()=>{Xt.listeners=Xt.listeners.filter(e=>e!==t)})},ae=({...t})=>{const e=U9(),n=s=>Xt.setState(i=>({...i,toasts:i.toasts.map(o=>o.id===e?{...o,...s}:o)})),r=()=>Xt.setState(s=>({...s,toasts:s.toasts.filter(i=>i.id!==e)}));return Xt.setState(s=>({...s,toasts:[{...t,id:e,dismiss:r},...s.toasts].slice(0,F9)})),{id:e,dismiss:r,update:n}};function B9(){const[t,e]=p.useState(Xt.getState());return p.useEffect(()=>Xt.subscribe(r=>{e(r)}),[]),p.useEffect(()=>{const n=[];return t.toasts.forEach(r=>{if(r.duration===1/0)return;const s=setTimeout(()=>{r.dismiss()},r.duration||5e3);n.push(s)}),()=>{n.forEach(r=>clearTimeout(r))}},[t.toasts]),{toast:ae,toasts:t.toasts}}const oR=p.createContext(),Va=()=>{const t=p.useContext(oR);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},z9=({children:t})=>{const[e,n]=p.useState(null),[r,s]=p.useState(null),[i,o]=p.useState(!0),a=async(f,m)=>{try{const g=await G5(Pl,f,m),w=await ea(Xe(Ce,"users",g.user.uid));if(w.exists())return s(w.data().role),ae({title:"تم تسجيل الدخول بنجاح",description:"مرحباً بك في منصة مهارات التعليمية"}),w.data().role}catch(g){throw ae({title:"خطأ في تسجيل الدخول",description:"تأكد من البريد الإلكتروني وكلمة المرور",variant:"destructive"}),g}},l=async(f,m,g,w)=>{try{if(g==="teacher"){const T=await ea(Xe(Ce,"settings","teacher"));if(T.exists()&&T.data().exists)throw ae({title:"خطأ في التسجيل",description:"يوجد معلم مسجل بالفعل في المنصة",variant:"destructive"}),new Error("Teacher already exists")}const y=await bP(Pl,f,m);return await wa(Xe(Ce,"users",y.user.uid),{email:f,role:g,name:w,createdAt:new Date().toISOString()}),g==="teacher"&&await wa(Xe(Ce,"settings","teacher"),{exists:!0,teacherId:y.user.uid}),s(g),ae({title:"تم إنشاء الحساب بنجاح",description:"مرحباً بك في منصة مهارات التعليمية"}),g}catch(y){throw ae({title:"خطأ في إنشاء الحساب",description:y.message==="Teacher already exists"?"يوجد معلم مسجل بالفعل في المنصة":"حدث خطأ أثناء إنشاء الحساب",variant:"destructive"}),y}},c=async()=>{try{await X5(Pl),s(null),ae({title:"تم تسجيل الخروج",description:"نراك قريباً!"})}catch{ae({title:"خطأ في تسجيل الخروج",description:"حدث خطأ أثناء تسجيل الخروج",variant:"destructive"})}};p.useEffect(()=>Y5(Pl,async m=>{if(m){const g=await ea(Xe(Ce,"users",m.uid));g.exists()&&s(g.data().role),n(m)}else n(null),s(null);o(!1)}),[]);const d={currentUser:e,userRole:r,login:a,register:l,logout:c,loading:i};return h.jsx(oR.Provider,{value:d,children:!i&&t})};function aR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=aR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function lR(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=aR(t))&&(r&&(r+=" "),r+=e);return r}function W9(){for(var t=0,e,n,r="";t<arguments.length;)(e=arguments[t++])&&(n=cR(e))&&(r&&(r+=" "),r+=n);return r}function cR(t){if(typeof t=="string")return t;for(var e,n="",r=0;r<t.length;r++)t[r]&&(e=cR(t[r]))&&(n&&(n+=" "),n+=e);return n}var dw="-";function H9(t){var e=G9(t),n=t.conflictingClassGroups,r=t.conflictingClassGroupModifiers,s=r===void 0?{}:r;function i(a){var l=a.split(dw);return l[0]===""&&l.length!==1&&l.shift(),uR(l,e)||K9(a)}function o(a,l){var c=n[a]||[];return l&&s[a]?[].concat(c,s[a]):c}return{getClassGroupId:i,getConflictingClassGroupIds:o}}function uR(t,e){var o;if(t.length===0)return e.classGroupId;var n=t[0],r=e.nextPart.get(n),s=r?uR(t.slice(1),r):void 0;if(s)return s;if(e.validators.length!==0){var i=t.join(dw);return(o=e.validators.find(function(a){var l=a.validator;return l(i)}))==null?void 0:o.classGroupId}}var hb=/^\[(.+)\]$/;function K9(t){if(hb.test(t)){var e=hb.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function G9(t){var e=t.theme,n=t.prefix,r={nextPart:new Map,validators:[]},s=Q9(Object.entries(t.classGroups),n);return s.forEach(function(i){var o=i[0],a=i[1];$v(a,r,o,e)}),r}function $v(t,e,n,r){t.forEach(function(s){if(typeof s=="string"){var i=s===""?e:pb(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(q9(s)){$v(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(function(o){var a=o[0],l=o[1];$v(l,pb(e,a),n,r)})})}function pb(t,e){var n=t;return e.split(dw).forEach(function(r){n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function q9(t){return t.isThemeGetter}function Q9(t,e){return e?t.map(function(n){var r=n[0],s=n[1],i=s.map(function(o){return typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(function(a){var l=a[0],c=a[1];return[e+l,c]})):o});return[r,i]}):t}function Y9(t){if(t<1)return{get:function(){},set:function(){}};var e=0,n=new Map,r=new Map;function s(i,o){n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)}return{get:function(o){var a=n.get(o);if(a!==void 0)return a;if((a=r.get(o))!==void 0)return s(o,a),a},set:function(o,a){n.has(o)?n.set(o,a):s(o,a)}}}var dR="!";function X9(t){var e=t.separator||":",n=e.length===1,r=e[0],s=e.length;return function(o){for(var a=[],l=0,c=0,d,f=0;f<o.length;f++){var m=o[f];if(l===0){if(m===r&&(n||o.slice(f,f+s)===e)){a.push(o.slice(c,f)),c=f+s;continue}if(m==="/"){d=f;continue}}m==="["?l++:m==="]"&&l--}var g=a.length===0?o:o.substring(c),w=g.startsWith(dR),y=w?g.substring(1):g,T=d&&d>c?d-c:void 0;return{modifiers:a,hasImportantModifier:w,baseClassName:y,maybePostfixModifierPosition:T}}}function J9(t){if(t.length<=1)return t;var e=[],n=[];return t.forEach(function(r){var s=r[0]==="[";s?(e.push.apply(e,n.sort().concat([r])),n=[]):n.push(r)}),e.push.apply(e,n.sort()),e}function Z9(t){return{cache:Y9(t.cacheSize),splitModifiers:X9(t),...H9(t)}}var eB=/\s+/;function tB(t,e){var n=e.splitModifiers,r=e.getClassGroupId,s=e.getConflictingClassGroupIds,i=new Set;return t.trim().split(eB).map(function(o){var a=n(o),l=a.modifiers,c=a.hasImportantModifier,d=a.baseClassName,f=a.maybePostfixModifierPosition,m=r(f?d.substring(0,f):d),g=!!f;if(!m){if(!f)return{isTailwindClass:!1,originalClassName:o};if(m=r(d),!m)return{isTailwindClass:!1,originalClassName:o};g=!1}var w=J9(l).join(":"),y=c?w+dR:w;return{isTailwindClass:!0,modifierId:y,classGroupId:m,originalClassName:o,hasPostfixModifier:g}}).reverse().filter(function(o){if(!o.isTailwindClass)return!0;var a=o.modifierId,l=o.classGroupId,c=o.hasPostfixModifier,d=a+l;return i.has(d)?!1:(i.add(d),s(l,c).forEach(function(f){return i.add(a+f)}),!0)}).reverse().map(function(o){return o.originalClassName}).join(" ")}function nB(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r,s,i,o=a;function a(c){var d=e[0],f=e.slice(1),m=f.reduce(function(g,w){return w(g)},d());return r=Z9(m),s=r.cache.get,i=r.cache.set,o=l,l(c)}function l(c){var d=s(c);if(d)return d;var f=tB(c,r);return i(c,f),f}return function(){return o(W9.apply(null,arguments))}}function $e(t){var e=function(r){return r[t]||[]};return e.isThemeGetter=!0,e}var fR=/^\[(?:([a-z-]+):)?(.+)\]$/i,rB=/^\d+\/\d+$/,sB=new Set(["px","full","screen"]),iB=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oB=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aB=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function zn(t){return Ci(t)||sB.has(t)||rB.test(t)||Fv(t)}function Fv(t){return ro(t,"length",hB)}function lB(t){return ro(t,"size",hR)}function cB(t){return ro(t,"position",hR)}function uB(t){return ro(t,"url",pB)}function ud(t){return ro(t,"number",Ci)}function Ci(t){return!Number.isNaN(Number(t))}function dB(t){return t.endsWith("%")&&Ci(t.slice(0,-1))}function hl(t){return mb(t)||ro(t,"number",mb)}function Se(t){return fR.test(t)}function pl(){return!0}function ds(t){return iB.test(t)}function fB(t){return ro(t,"",mB)}function ro(t,e,n){var r=fR.exec(t);return r?r[1]?r[1]===e:n(r[2]):!1}function hB(t){return oB.test(t)}function hR(){return!1}function pB(t){return t.startsWith("url(")}function mb(t){return Number.isInteger(Number(t))}function mB(t){return aB.test(t)}function gB(){var t=$e("colors"),e=$e("spacing"),n=$e("blur"),r=$e("brightness"),s=$e("borderColor"),i=$e("borderRadius"),o=$e("borderSpacing"),a=$e("borderWidth"),l=$e("contrast"),c=$e("grayscale"),d=$e("hueRotate"),f=$e("invert"),m=$e("gap"),g=$e("gradientColorStops"),w=$e("gradientColorStopPositions"),y=$e("inset"),T=$e("margin"),E=$e("opacity"),_=$e("padding"),x=$e("saturate"),I=$e("scale"),k=$e("sepia"),O=$e("skew"),C=$e("space"),S=$e("translate"),P=function(){return["auto","contain","none"]},A=function(){return["auto","hidden","clip","visible","scroll"]},D=function(){return["auto",Se,e]},M=function(){return[Se,e]},N=function(){return["",zn]},F=function(){return["auto",Ci,Se]},X=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},G=function(){return["solid","dashed","dotted","double","none"]},J=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},V=function(){return["start","end","center","between","around","evenly","stretch"]},L=function(){return["","0",Se]},z=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},B=function(){return[Ci,ud]},Z=function(){return[Ci,Se]};return{cacheSize:500,theme:{colors:[pl],spacing:[zn],blur:["none","",ds,Se],brightness:B(),borderColor:[t],borderRadius:["none","","full",ds,Se],borderSpacing:M(),borderWidth:N(),contrast:B(),grayscale:L(),hueRotate:Z(),invert:L(),gap:M(),gradientColorStops:[t],gradientColorStopPositions:[dB,Fv],inset:D(),margin:D(),opacity:B(),padding:M(),saturate:B(),scale:B(),sepia:L(),skew:Z(),space:M(),translate:M()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[ds]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(X(),[Se])}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",hl]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",hl]}],"grid-cols":[{"grid-cols":[pl]}],"col-start-end":[{col:["auto",{span:["full",hl]},Se]}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":[pl]}],"row-start-end":[{row:["auto",{span:[hl]},Se]}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal"].concat(V())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(V(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(V(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[_]}],px:[{px:[_]}],py:[{py:[_]}],ps:[{ps:[_]}],pe:[{pe:[_]}],pt:[{pt:[_]}],pr:[{pr:[_]}],pb:[{pb:[_]}],pl:[{pl:[_]}],m:[{m:[T]}],mx:[{mx:[T]}],my:[{my:[T]}],ms:[{ms:[T]}],me:[{me:[T]}],mt:[{mt:[T]}],mr:[{mr:[T]}],mb:[{mb:[T]}],ml:[{ml:[T]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",Se,e]}],"min-w":[{"min-w":["min","max","fit",Se,zn]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[ds]},ds,Se]}],h:[{h:[Se,e,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",Se,zn]}],"max-h":[{"max-h":[Se,e,"min","max","fit"]}],"font-size":[{text:["base",ds,Fv]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ud]}],"font-family":[{font:[pl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",Ci,ud]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Se,zn]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(G(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",zn]}],"underline-offset":[{"underline-offset":["auto",Se,zn]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:M()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(X(),[cB])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lB]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uB]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[w]}],"gradient-via-pos":[{via:[w]}],"gradient-to-pos":[{to:[w]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[].concat(G(),["hidden"])}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:G()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:[""].concat(G())}],"outline-offset":[{"outline-offset":[Se,zn]}],"outline-w":[{outline:[zn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[zn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ds,fB]}],"shadow-color":[{shadow:[pl]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":J()}],"bg-blend":[{"bg-blend":J()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ds,Se]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[hl,Se]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":M()}],"scroll-mx":[{"scroll-mx":M()}],"scroll-my":[{"scroll-my":M()}],"scroll-ms":[{"scroll-ms":M()}],"scroll-me":[{"scroll-me":M()}],"scroll-mt":[{"scroll-mt":M()}],"scroll-mr":[{"scroll-mr":M()}],"scroll-mb":[{"scroll-mb":M()}],"scroll-ml":[{"scroll-ml":M()}],"scroll-p":[{"scroll-p":M()}],"scroll-px":[{"scroll-px":M()}],"scroll-py":[{"scroll-py":M()}],"scroll-ps":[{"scroll-ps":M()}],"scroll-pe":[{"scroll-pe":M()}],"scroll-pt":[{"scroll-pt":M()}],"scroll-pr":[{"scroll-pr":M()}],"scroll-pb":[{"scroll-pb":M()}],"scroll-pl":[{"scroll-pl":M()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[zn,ud]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var vB=nB(gB);function se(...t){return vB(lR(t))}function le(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function gb(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Yh(...t){return e=>{let n=!1;const r=t.map(s=>{const i=gb(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():gb(t[s],null)}}}}function nt(...t){return p.useCallback(Yh(...t),t)}function yB(t,e){const n=p.createContext(e),r=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return h.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function tr(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];const c=f=>{var E;const{scope:m,children:g,...w}=f,y=((E=m==null?void 0:m[t])==null?void 0:E[l])||a,T=p.useMemo(()=>w,Object.values(w));return h.jsx(y.Provider,{value:T,children:g})};c.displayName=i+"Provider";function d(f,m){var y;const g=((y=m==null?void 0:m[t])==null?void 0:y[l])||a,w=p.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[c,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,wB(s,...e)]}function wB(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function _a(t){const e=xB(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),l=a.find(TB);if(l){const c=l.props.children,d=a.map(f=>f===l?p.Children.count(c)>1?p.Children.only(null):p.isValidElement(c)?c.props.children:null:f);return h.jsx(e,{...o,ref:s,children:p.isValidElement(c)?p.cloneElement(c,void 0,d):null})}return h.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var _B=_a("Slot");function xB(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=SB(s),a=bB(i,s.props);return s.type!==p.Fragment&&(a.ref=r?Yh(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pR=Symbol("radix.slottable");function EB(t){const e=({children:n})=>h.jsx(h.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=pR,e}function TB(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pR}function bB(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function SB(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function fw(t){const e=t+"CollectionProvider",[n,r]=tr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:T,children:E}=y,_=Q.useRef(null),x=Q.useRef(new Map).current;return h.jsx(s,{scope:T,itemMap:x,collectionRef:_,children:E})};o.displayName=e;const a=t+"CollectionSlot",l=_a(a),c=Q.forwardRef((y,T)=>{const{scope:E,children:_}=y,x=i(a,E),I=nt(T,x.collectionRef);return h.jsx(l,{ref:I,children:_})});c.displayName=a;const d=t+"CollectionItemSlot",f="data-radix-collection-item",m=_a(d),g=Q.forwardRef((y,T)=>{const{scope:E,children:_,...x}=y,I=Q.useRef(null),k=nt(T,I),O=i(d,E);return Q.useEffect(()=>(O.itemMap.set(I,{ref:I,...x}),()=>void O.itemMap.delete(I))),h.jsx(m,{[f]:"",ref:k,children:_})});g.displayName=d;function w(y){const T=i(t+"CollectionConsumer",y);return Q.useCallback(()=>{const _=T.collectionRef.current;if(!_)return[];const x=Array.from(_.querySelectorAll(`[${f}]`));return Array.from(T.itemMap.values()).sort((O,C)=>x.indexOf(O.ref.current)-x.indexOf(C.ref.current))},[T.collectionRef,T.itemMap])}return[{Provider:o,Slot:c,ItemSlot:g},w,r]}var CB=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_e=CB.reduce((t,e)=>{const n=_a(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),h.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function hw(t,e){t&&ns.flushSync(()=>t.dispatchEvent(e))}function hn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function IB(t,e=globalThis==null?void 0:globalThis.document){const n=hn(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var PB="DismissableLayer",Uv="dismissableLayer.update",AB="dismissableLayer.pointerDownOutside",RB="dismissableLayer.focusOutside",vb,mR=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xh=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,c=p.useContext(mR),[d,f]=p.useState(null),m=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),w=nt(e,C=>f(C)),y=Array.from(c.layers),[T]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=y.indexOf(T),_=d?y.indexOf(d):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,I=_>=E,k=kB(C=>{const S=C.target,P=[...c.branches].some(A=>A.contains(S));!I||P||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},m),O=DB(C=>{const S=C.target;[...c.branches].some(A=>A.contains(S))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},m);return IB(C=>{_===c.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},m),p.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(vb=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),yb(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=vb)}},[d,m,n,c]),p.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),yb())},[d,c]),p.useEffect(()=>{const C=()=>g({});return document.addEventListener(Uv,C),()=>document.removeEventListener(Uv,C)},[]),h.jsx(_e.div,{...l,ref:w,style:{pointerEvents:x?I?"auto":"none":void 0,...t.style},onFocusCapture:le(t.onFocusCapture,O.onFocusCapture),onBlurCapture:le(t.onBlurCapture,O.onBlurCapture),onPointerDownCapture:le(t.onPointerDownCapture,k.onPointerDownCapture)})});Xh.displayName=PB;var NB="DismissableLayerBranch",gR=p.forwardRef((t,e)=>{const n=p.useContext(mR),r=p.useRef(null),s=nt(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),h.jsx(_e.div,{...t,ref:s})});gR.displayName=NB;function kB(t,e=globalThis==null?void 0:globalThis.document){const n=hn(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){vR(AB,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function DB(t,e=globalThis==null?void 0:globalThis.document){const n=hn(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&vR(RB,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function yb(){const t=new CustomEvent(Uv);document.dispatchEvent(t)}function vR(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?hw(s,i):s.dispatchEvent(i)}var MB=Xh,OB=gR,jn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},LB="Portal",Jh=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=p.useState(!1);jn(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?II.createPortal(h.jsx(_e.div,{...r,ref:e}),o):null});Jh.displayName=LB;function jB(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var nr=t=>{const{present:e,children:n}=t,r=VB(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=nt(r.ref,$B(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};nr.displayName="Presence";function VB(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=jB(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=dd(r.current);i.current=a==="mounted"?c:"none"},[a]),jn(()=>{const c=r.current,d=s.current;if(d!==t){const m=i.current,g=dd(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),jn(()=>{if(e){let c;const d=e.ownerDocument.defaultView??window,f=g=>{const y=dd(r.current).includes(g.animationName);if(g.target===e&&y&&(l("ANIMATION_END"),!s.current)){const T=e.style.animationFillMode;e.style.animationFillMode="forwards",c=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=T)})}},m=g=>{g.target===e&&(i.current=dd(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function dd(t){return(t==null?void 0:t.animationName)||"none"}function $B(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var FB=dh[" useInsertionEffect ".trim().toString()]||jn;function $a({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=UB({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const d=p.useRef(t!==void 0);p.useEffect(()=>{const f=d.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=p.useCallback(d=>{var f;if(a){const m=BB(d)?d(t):d;m!==t&&((f=o.current)==null||f.call(o,m))}else i(d)},[a,t,i,o]);return[l,c]}function UB({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return FB(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function BB(t){return typeof t=="function"}var zB=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WB="VisuallyHidden",pw=p.forwardRef((t,e)=>h.jsx(_e.span,{...t,ref:e,style:{...zB,...t.style}}));pw.displayName=WB;var mw="ToastProvider",[gw,HB,KB]=fw("Toast"),[yR,QJ]=tr("Toast",[KB]),[GB,Zh]=yR(mw),wR=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=p.useState(null),[c,d]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${mw}\`. Expected non-empty \`string\`.`),h.jsx(gw.Provider,{scope:e,children:h.jsx(GB,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>d(g=>g+1),[]),onToastRemove:p.useCallback(()=>d(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};wR.displayName=mw;var _R="ToastViewport",qB=["F8"],Bv="toast.viewportPause",zv="toast.viewportResume",xR=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=qB,label:s="Notifications ({hotkey})",...i}=t,o=Zh(_R,n),a=HB(n),l=p.useRef(null),c=p.useRef(null),d=p.useRef(null),f=p.useRef(null),m=nt(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),w=o.toastCount>0;p.useEffect(()=>{const T=E=>{var x;r.length!==0&&r.every(I=>E[I]||E.code===I)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",T),()=>document.removeEventListener("keydown",T)},[r]),p.useEffect(()=>{const T=l.current,E=f.current;if(w&&T&&E){const _=()=>{if(!o.isClosePausedRef.current){const O=new CustomEvent(Bv);E.dispatchEvent(O),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const O=new CustomEvent(zv);E.dispatchEvent(O),o.isClosePausedRef.current=!1}},I=O=>{!T.contains(O.relatedTarget)&&x()},k=()=>{T.contains(document.activeElement)||x()};return T.addEventListener("focusin",_),T.addEventListener("focusout",I),T.addEventListener("pointermove",_),T.addEventListener("pointerleave",k),window.addEventListener("blur",_),window.addEventListener("focus",x),()=>{T.removeEventListener("focusin",_),T.removeEventListener("focusout",I),T.removeEventListener("pointermove",_),T.removeEventListener("pointerleave",k),window.removeEventListener("blur",_),window.removeEventListener("focus",x)}}},[w,o.isClosePausedRef]);const y=p.useCallback(({tabbingDirection:T})=>{const _=a().map(x=>{const I=x.ref.current,k=[I,...a7(I)];return T==="forwards"?k:k.reverse()});return(T==="forwards"?_.reverse():_).flat()},[a]);return p.useEffect(()=>{const T=f.current;if(T){const E=_=>{var k,O,C;const x=_.altKey||_.ctrlKey||_.metaKey;if(_.key==="Tab"&&!x){const S=document.activeElement,P=_.shiftKey;if(_.target===T&&P){(k=c.current)==null||k.focus();return}const M=y({tabbingDirection:P?"backwards":"forwards"}),N=M.findIndex(F=>F===S);Wm(M.slice(N+1))?_.preventDefault():P?(O=c.current)==null||O.focus():(C=d.current)==null||C.focus()}};return T.addEventListener("keydown",E),()=>T.removeEventListener("keydown",E)}},[a,y]),h.jsxs(OB,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:w?void 0:"none"},children:[w&&h.jsx(Wv,{ref:c,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"forwards"});Wm(T)}}),h.jsx(gw.Slot,{scope:n,children:h.jsx(_e.ol,{tabIndex:-1,...i,ref:m})}),w&&h.jsx(Wv,{ref:d,onFocusFromOutsideViewport:()=>{const T=y({tabbingDirection:"backwards"});Wm(T)}})]})});xR.displayName=_R;var ER="ToastFocusProxy",Wv=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Zh(ER,n);return h.jsx(pw,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=i.viewport)!=null&&c.contains(a))&&r()}})});Wv.displayName=ER;var du="Toast",QB="toast.swipeStart",YB="toast.swipeMove",XB="toast.swipeCancel",JB="toast.swipeEnd",TR=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=$a({prop:r,defaultProp:s??!0,onChange:i,caller:du});return h.jsx(nr,{present:n||a,children:h.jsx(t7,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:hn(t.onPause),onResume:hn(t.onResume),onSwipeStart:le(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:le(t.onSwipeMove,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:le(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:le(t.onSwipeEnd,c=>{const{x:d,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});TR.displayName=du;var[ZB,e7]=yR(du,{onClose(){}}),t7=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...w}=t,y=Zh(du,n),[T,E]=p.useState(null),_=nt(e,F=>E(F)),x=p.useRef(null),I=p.useRef(null),k=s||y.duration,O=p.useRef(0),C=p.useRef(k),S=p.useRef(0),{onToastAdd:P,onToastRemove:A}=y,D=hn(()=>{var X;(T==null?void 0:T.contains(document.activeElement))&&((X=y.viewport)==null||X.focus()),o()}),M=p.useCallback(F=>{!F||F===1/0||(window.clearTimeout(S.current),O.current=new Date().getTime(),S.current=window.setTimeout(D,F))},[D]);p.useEffect(()=>{const F=y.viewport;if(F){const X=()=>{M(C.current),c==null||c()},G=()=>{const J=new Date().getTime()-O.current;C.current=C.current-J,window.clearTimeout(S.current),l==null||l()};return F.addEventListener(Bv,G),F.addEventListener(zv,X),()=>{F.removeEventListener(Bv,G),F.removeEventListener(zv,X)}}},[y.viewport,k,l,c,M]),p.useEffect(()=>{i&&!y.isClosePausedRef.current&&M(k)},[i,k,y.isClosePausedRef,M]),p.useEffect(()=>(P(),()=>A()),[P,A]);const N=p.useMemo(()=>T?RR(T):null,[T]);return y.viewport?h.jsxs(h.Fragment,{children:[N&&h.jsx(n7,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),h.jsx(ZB,{scope:n,onClose:D,children:ns.createPortal(h.jsx(gw.ItemSlot,{scope:n,children:h.jsx(MB,{asChild:!0,onEscapeKeyDown:le(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:h.jsx(_e.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":y.swipeDirection,...w,ref:_,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:le(t.onKeyDown,F=>{F.key==="Escape"&&(a==null||a(F.nativeEvent),F.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:le(t.onPointerDown,F=>{F.button===0&&(x.current={x:F.clientX,y:F.clientY})}),onPointerMove:le(t.onPointerMove,F=>{if(!x.current)return;const X=F.clientX-x.current.x,G=F.clientY-x.current.y,J=!!I.current,V=["left","right"].includes(y.swipeDirection),L=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,z=V?L(0,X):0,B=V?0:L(0,G),Z=F.pointerType==="touch"?10:2,ne={x:z,y:B},W={originalEvent:F,delta:ne};J?(I.current=ne,fd(YB,f,W,{discrete:!1})):wb(ne,y.swipeDirection,Z)?(I.current=ne,fd(QB,d,W,{discrete:!1}),F.target.setPointerCapture(F.pointerId)):(Math.abs(X)>Z||Math.abs(G)>Z)&&(x.current=null)}),onPointerUp:le(t.onPointerUp,F=>{const X=I.current,G=F.target;if(G.hasPointerCapture(F.pointerId)&&G.releasePointerCapture(F.pointerId),I.current=null,x.current=null,X){const J=F.currentTarget,V={originalEvent:F,delta:X};wb(X,y.swipeDirection,y.swipeThreshold)?fd(JB,g,V,{discrete:!0}):fd(XB,m,V,{discrete:!0}),J.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),n7=t=>{const{__scopeToast:e,children:n,...r}=t,s=Zh(du,e),[i,o]=p.useState(!1),[a,l]=p.useState(!1);return i7(()=>o(!0)),p.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:h.jsx(Jh,{asChild:!0,children:h.jsx(pw,{...r,children:i&&h.jsxs(h.Fragment,{children:[s.label," ",n]})})})},r7="ToastTitle",bR=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(_e.div,{...r,ref:e})});bR.displayName=r7;var s7="ToastDescription",SR=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return h.jsx(_e.div,{...r,ref:e})});SR.displayName=s7;var CR="ToastAction",IR=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?h.jsx(AR,{altText:n,asChild:!0,children:h.jsx(vw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${CR}\`. Expected non-empty \`string\`.`),null)});IR.displayName=CR;var PR="ToastClose",vw=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=e7(PR,n);return h.jsx(AR,{asChild:!0,children:h.jsx(_e.button,{type:"button",...r,ref:e,onClick:le(t.onClick,s.onClose)})})});vw.displayName=PR;var AR=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return h.jsx(_e.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function RR(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),o7(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...RR(r))}}),e}function fd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?hw(s,i):s.dispatchEvent(i)}var wb=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function i7(t=()=>{}){const e=hn(t);jn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function o7(t){return t.nodeType===t.ELEMENT_NODE}function a7(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Wm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var l7=wR,NR=xR,kR=TR,DR=bR,MR=SR,OR=IR,LR=vw;const _b=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,xb=lR,ep=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return xb(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],f=i==null?void 0:i[c];if(d===null)return null;const m=_b(d)||_b(f);return s[c][m]}),a=n&&Object.entries(n).reduce((c,d)=>{let[f,m]=d;return m===void 0||(c[f]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:f,className:m,...g}=d;return Object.entries(g).every(w=>{let[y,T]=w;return Array.isArray(T)?T.includes({...i,...a}[y]):{...i,...a}[y]===T})?[...c,f,m]:c},[]);return xb(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};var c7={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const u7=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Te=(t,e)=>{const n=p.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},c)=>p.createElement("svg",{ref:c,...c7,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${u7(t)}`,...l},[...e.map(([d,f])=>p.createElement(d,f)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n},tp=Te("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),jR=Te("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]),np=Te("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),d7=Te("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),Hf=Te("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),f7=Te("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),yw=Te("CheckSquare",[["polyline",{points:"9 11 12 14 22 4",key:"19ybtz"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]),ww=Te("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]]),VR=Te("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),h7=Te("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),p7=Te("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),m7=Te("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),Qs=Te("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),g7=Te("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),v7=Te("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]),y7=Te("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),$R=Te("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),w7=Te("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),_7=Te("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),rp=Te("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),x7=Te("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),sp=Te("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),E7=Te("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]),T7=Te("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]),FR=Te("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),b7=Te("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),_w=Te("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),UR=Te("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),BR=Te("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Eb=Te("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),fu=Te("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Tb=Te("UserCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]),S7=Te("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),xw=Te("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),Rc=Te("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Ew=Te("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),zR=Te("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),C7=l7,WR=Q.forwardRef(({className:t,...e},n)=>h.jsx(NR,{ref:n,className:se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));WR.displayName=NR.displayName;const I7=ep("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),HR=Q.forwardRef(({className:t,variant:e,...n},r)=>h.jsx(kR,{ref:r,className:se(I7({variant:e}),t),...n}));HR.displayName=kR.displayName;const P7=Q.forwardRef(({className:t,...e},n)=>h.jsx(OR,{ref:n,className:se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));P7.displayName=OR.displayName;const KR=Q.forwardRef(({className:t,...e},n)=>h.jsx(LR,{ref:n,className:se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:h.jsx(zR,{className:"h-4 w-4"})}));KR.displayName=LR.displayName;const GR=Q.forwardRef(({className:t,...e},n)=>h.jsx(DR,{ref:n,className:se("text-sm font-semibold",t),...e}));GR.displayName=DR.displayName;const qR=Q.forwardRef(({className:t,...e},n)=>h.jsx(MR,{ref:n,className:se("text-sm opacity-90",t),...e}));qR.displayName=MR.displayName;function A7(){const{toasts:t}=B9();return h.jsxs(C7,{children:[t.map(({id:e,title:n,description:r,action:s,...i})=>h.jsxs(HR,{...i,children:[h.jsxs("div",{className:"grid gap-1",children:[n&&h.jsx(GR,{children:n}),r&&h.jsx(qR,{children:r})]}),s,h.jsx(KR,{})]},e)),h.jsx(WR,{})]})}const QR=p.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),ip=p.createContext({}),Tw=p.createContext(null),op=typeof document<"u",R7=op?p.useLayoutEffect:p.useEffect,YR=p.createContext({strict:!1}),bw=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),N7="framerAppearId",XR="data-"+bw(N7);function k7(t,e,n,r){const{visualElement:s}=p.useContext(ip),i=p.useContext(YR),o=p.useContext(Tw),a=p.useContext(QR).reducedMotion,l=p.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;p.useInsertionEffect(()=>{c&&c.update(n,o)});const d=p.useRef(!!(n[XR]&&!window.HandoffComplete));return R7(()=>{c&&(c.render(),d.current&&c.animationState&&c.animationState.animateChanges())}),p.useEffect(()=>{c&&(c.updateFeatures(),!d.current&&c.animationState&&c.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),c}function Fo(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function D7(t,e,n){return p.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Fo(n)&&(n.current=r))},[e])}function Nc(t){return typeof t=="string"||Array.isArray(t)}function ap(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const Sw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Cw=["initial",...Sw];function lp(t){return ap(t.animate)||Cw.some(e=>Nc(t[e]))}function JR(t){return!!(lp(t)||t.variants)}function M7(t,e){if(lp(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Nc(n)?n:void 0,animate:Nc(r)?r:void 0}}return t.inherit!==!1?e:{}}function O7(t){const{initial:e,animate:n}=M7(t,p.useContext(ip));return p.useMemo(()=>({initial:e,animate:n}),[bb(e),bb(n)])}function bb(t){return Array.isArray(t)?t.join(" "):t}const Sb={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},kc={};for(const t in Sb)kc[t]={isEnabled:e=>Sb[t].some(n=>!!e[n])};function L7(t){for(const e in t)kc[e]={...kc[e],...t[e]}}const ZR=p.createContext({}),eN=p.createContext({}),j7=Symbol.for("motionComponentSymbol");function V7({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&L7(t);function i(a,l){let c;const d={...p.useContext(QR),...a,layoutId:$7(a)},{isStatic:f}=d,m=O7(a),g=r(a,f);if(!f&&op){m.visualElement=k7(s,g,d,e);const w=p.useContext(eN),y=p.useContext(YR).strict;m.visualElement&&(c=m.visualElement.loadFeatures(d,y,t,w))}return p.createElement(ip.Provider,{value:m},c&&m.visualElement?p.createElement(c,{visualElement:m.visualElement,...d}):null,n(s,a,D7(g,m.visualElement,l),g,f,m.visualElement))}const o=p.forwardRef(i);return o[j7]=s,o}function $7({layoutId:t}){const e=p.useContext(ZR).id;return e&&t!==void 0?e+"-"+t:t}function F7(t){function e(r,s={}){return V7(t(r,s))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,s)=>(n.has(s)||n.set(s,e(s)),n.get(s))})}const U7=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Iw(t){return typeof t!="string"||t.includes("-")?!1:!!(U7.indexOf(t)>-1||/[A-Z]/.test(t))}const Kf={};function B7(t){Object.assign(Kf,t)}const hu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],so=new Set(hu);function tN(t,{layout:e,layoutId:n}){return so.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Kf[t]||t==="opacity")}const pn=t=>!!(t&&t.getVelocity),z7={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},W7=hu.length;function H7(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,s){let i="";for(let o=0;o<W7;o++){const a=hu[o];if(t[a]!==void 0){const l=z7[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),s?i=s(t,r?"":i):n&&r&&(i="none"),i}const nN=t=>e=>typeof e=="string"&&e.startsWith(t),rN=nN("--"),Hv=nN("var(--"),K7=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,G7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ys=(t,e,n)=>Math.min(Math.max(n,t),e),io={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gl={...io,transform:t=>Ys(0,1,t)},hd={...io,default:1},ql=t=>Math.round(t*1e5)/1e5,cp=/(-)?([\d]*\.?[\d])+/g,sN=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,q7=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function pu(t){return typeof t=="string"}const mu=t=>({test:e=>pu(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fs=mu("deg"),vr=mu("%"),de=mu("px"),Q7=mu("vh"),Y7=mu("vw"),Cb={...vr,parse:t=>vr.parse(t)/100,transform:t=>vr.transform(t*100)},Ib={...io,transform:Math.round},iN={borderWidth:de,borderTopWidth:de,borderRightWidth:de,borderBottomWidth:de,borderLeftWidth:de,borderRadius:de,radius:de,borderTopLeftRadius:de,borderTopRightRadius:de,borderBottomRightRadius:de,borderBottomLeftRadius:de,width:de,maxWidth:de,height:de,maxHeight:de,size:de,top:de,right:de,bottom:de,left:de,padding:de,paddingTop:de,paddingRight:de,paddingBottom:de,paddingLeft:de,margin:de,marginTop:de,marginRight:de,marginBottom:de,marginLeft:de,rotate:fs,rotateX:fs,rotateY:fs,rotateZ:fs,scale:hd,scaleX:hd,scaleY:hd,scaleZ:hd,skew:fs,skewX:fs,skewY:fs,distance:de,translateX:de,translateY:de,translateZ:de,x:de,y:de,z:de,perspective:de,transformPerspective:de,opacity:Gl,originX:Cb,originY:Cb,originZ:de,zIndex:Ib,fillOpacity:Gl,strokeOpacity:Gl,numOctaves:Ib};function Pw(t,e,n,r){const{style:s,vars:i,transform:o,transformOrigin:a}=t;let l=!1,c=!1,d=!0;for(const f in e){const m=e[f];if(rN(f)){i[f]=m;continue}const g=iN[f],w=G7(m,g);if(so.has(f)){if(l=!0,o[f]=w,!d)continue;m!==(g.default||0)&&(d=!1)}else f.startsWith("origin")?(c=!0,a[f]=w):s[f]=w}if(e.transform||(l||r?s.transform=H7(t.transform,n,d,r):s.transform&&(s.transform="none")),c){const{originX:f="50%",originY:m="50%",originZ:g=0}=a;s.transformOrigin=`${f} ${m} ${g}`}}const Aw=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function oN(t,e,n){for(const r in e)!pn(e[r])&&!tN(r,n)&&(t[r]=e[r])}function X7({transformTemplate:t},e,n){return p.useMemo(()=>{const r=Aw();return Pw(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function J7(t,e,n){const r=t.style||{},s={};return oN(s,r,t),Object.assign(s,X7(t,e,n)),t.transformValues?t.transformValues(s):s}function Z7(t,e,n){const r={},s=J7(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,s.userSelect=s.WebkitUserSelect=s.WebkitTouchCallout="none",s.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=s,r}const e8=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Gf(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||e8.has(t)}let aN=t=>!Gf(t);function t8(t){t&&(aN=e=>e.startsWith("on")?!Gf(e):t(e))}try{t8(require("@emotion/is-prop-valid").default)}catch{}function n8(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(aN(s)||n===!0&&Gf(s)||!e&&!Gf(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Pb(t,e,n){return typeof t=="string"?t:de.transform(e+n*t)}function r8(t,e,n){const r=Pb(e,t.x,t.width),s=Pb(n,t.y,t.height);return`${r} ${s}`}const s8={offset:"stroke-dashoffset",array:"stroke-dasharray"},i8={offset:"strokeDashoffset",array:"strokeDasharray"};function o8(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?s8:i8;t[i.offset]=de.transform(-r);const o=de.transform(e),a=de.transform(n);t[i.array]=`${o} ${a}`}function Rw(t,{attrX:e,attrY:n,attrScale:r,originX:s,originY:i,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},d,f,m){if(Pw(t,c,d,m),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:w,dimensions:y}=t;g.transform&&(y&&(w.transform=g.transform),delete g.transform),y&&(s!==void 0||i!==void 0||w.transform)&&(w.transformOrigin=r8(y,s!==void 0?s:.5,i!==void 0?i:.5)),e!==void 0&&(g.x=e),n!==void 0&&(g.y=n),r!==void 0&&(g.scale=r),o!==void 0&&o8(g,o,a,l,!1)}const lN=()=>({...Aw(),attrs:{}}),Nw=t=>typeof t=="string"&&t.toLowerCase()==="svg";function a8(t,e,n,r){const s=p.useMemo(()=>{const i=lN();return Rw(i,e,{enableHardwareAcceleration:!1},Nw(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};oN(i,t.style,t),s.style={...i,...s.style}}return s}function l8(t=!1){return(n,r,s,{latestValues:i},o)=>{const l=(Iw(n)?a8:Z7)(r,i,o,n),d={...n8(r,typeof n=="string",t),...l,ref:s},{children:f}=r,m=p.useMemo(()=>pn(f)?f.get():f,[f]);return p.createElement(n,{...d,children:m})}}function cN(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const uN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function dN(t,e,n,r){cN(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(uN.has(s)?s:bw(s),e.attrs[s])}function kw(t,e){const{style:n}=t,r={};for(const s in n)(pn(n[s])||e.style&&pn(e.style[s])||tN(s,t))&&(r[s]=n[s]);return r}function fN(t,e){const n=kw(t,e);for(const r in t)if(pn(t[r])||pn(e[r])){const s=hu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[s]=t[r]}return n}function Dw(t,e,n,r={},s={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,s)),e}function c8(t){const e=p.useRef(null);return e.current===null&&(e.current=t()),e.current}const qf=t=>Array.isArray(t),u8=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),d8=t=>qf(t)?t[t.length-1]||0:t;function Gd(t){const e=pn(t)?t.get():t;return u8(e)?e.toValue():e}function f8({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,s,i){const o={latestValues:h8(r,s,i,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const hN=t=>(e,n)=>{const r=p.useContext(ip),s=p.useContext(Tw),i=()=>f8(t,e,r,s);return n?i():c8(i)};function h8(t,e,n,r){const s={},i=r(t,{});for(const m in i)s[m]=Gd(i[m]);let{initial:o,animate:a}=t;const l=lp(t),c=JR(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=n?n.initial===!1:!1;d=d||o===!1;const f=d?a:o;return f&&typeof f!="boolean"&&!ap(f)&&(Array.isArray(f)?f:[f]).forEach(g=>{const w=Dw(t,g);if(!w)return;const{transitionEnd:y,transition:T,...E}=w;for(const _ in E){let x=E[_];if(Array.isArray(x)){const I=d?x.length-1:0;x=x[I]}x!==null&&(s[_]=x)}for(const _ in y)s[_]=y[_]}),s}const it=t=>t;class Ab{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function p8(t){let e=new Ab,n=new Ab,r=0,s=!1,i=!1;const o=new WeakSet,a={schedule:(l,c=!1,d=!1)=>{const f=d&&s,m=f?e:n;return c&&o.add(l),m.add(l)&&f&&s&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(s){i=!0;return}if(s=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const d=e.order[c];d(l),o.has(d)&&(a.schedule(d),t())}s=!1,i&&(i=!1,a.process(l))}};return a}const pd=["prepare","read","update","preRender","render","postRender"],m8=40;function g8(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=pd.reduce((f,m)=>(f[m]=p8(()=>n=!0),f),{}),o=f=>i[f].process(s),a=()=>{const f=performance.now();n=!1,s.delta=r?1e3/60:Math.max(Math.min(f-s.timestamp,m8),1),s.timestamp=f,s.isProcessing=!0,pd.forEach(o),s.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,s.isProcessing||t(a)};return{schedule:pd.reduce((f,m)=>{const g=i[m];return f[m]=(w,y=!1,T=!1)=>(n||l(),g.schedule(w,y,T)),f},{}),cancel:f=>pd.forEach(m=>i[m].cancel(f)),state:s,steps:i}}const{schedule:He,cancel:Xr,state:$t,steps:Hm}=g8(typeof requestAnimationFrame<"u"?requestAnimationFrame:it,!0),v8={useVisualState:hN({scrapeMotionValuesFromProps:fN,createRenderState:lN,onMount:(t,e,{renderState:n,latestValues:r})=>{He.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),He.render(()=>{Rw(n,r,{enableHardwareAcceleration:!1},Nw(e.tagName),t.transformTemplate),dN(e,n)})}})},y8={useVisualState:hN({scrapeMotionValuesFromProps:kw,createRenderState:Aw})};function w8(t,{forwardMotionProps:e=!1},n,r){return{...Iw(t)?v8:y8,preloadedFeatures:n,useRender:l8(e),createVisualElement:r,Component:t}}function jr(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const pN=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function up(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const _8=t=>e=>pN(e)&&t(e,up(e));function Ur(t,e,n,r){return jr(t,e,_8(n),r)}const x8=(t,e)=>n=>e(t(n)),Fs=(...t)=>t.reduce(x8);function mN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Rb=mN("dragHorizontal"),Nb=mN("dragVertical");function gN(t){let e=!1;if(t==="y")e=Nb();else if(t==="x")e=Rb();else{const n=Rb(),r=Nb();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function vN(){const t=gN(!0);return t?(t(),!1):!0}class ui{constructor(e){this.isMounted=!1,this.node=e}update(){}}function kb(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),s=(i,o)=>{if(i.pointerType==="touch"||vN())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&He.update(()=>a[r](i,o))};return Ur(t.current,n,s,{passive:!t.getProps()[r]})}class E8 extends ui{mount(){this.unmount=Fs(kb(this.node,!0),kb(this.node,!1))}unmount(){}}class T8 extends ui{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fs(jr(this.node.current,"focus",()=>this.onFocus()),jr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const yN=(t,e)=>e?t===e?!0:yN(t,e.parentElement):!1;function Km(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,up(n))}class b8 extends ui{constructor(){super(...arguments),this.removeStartListeners=it,this.removeEndListeners=it,this.removeAccessibleListeners=it,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),i=Ur(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:d,globalTapTarget:f}=this.node.getProps();He.update(()=>{!f&&!yN(this.node.current,a.target)?d&&d(a,l):c&&c(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=Ur(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Fs(i,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||Km("up",(l,c)=>{const{onTap:d}=this.node.getProps();d&&He.update(()=>d(l,c))})};this.removeEndListeners(),this.removeEndListeners=jr(this.node.current,"keyup",o),Km("down",(a,l)=>{this.startPress(a,l)})},n=jr(this.node.current,"keydown",e),r=()=>{this.isPressing&&Km("cancel",(i,o)=>this.cancelPress(i,o))},s=jr(this.node.current,"blur",r);this.removeAccessibleListeners=Fs(n,s)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:s}=this.node.getProps();s&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&He.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!vN()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&He.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ur(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=jr(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Fs(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Kv=new WeakMap,Gm=new WeakMap,S8=t=>{const e=Kv.get(t.target);e&&e(t)},C8=t=>{t.forEach(S8)};function I8({root:t,...e}){const n=t||document;Gm.has(n)||Gm.set(n,{});const r=Gm.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(C8,{root:t,...e})),r[s]}function P8(t,e,n){const r=I8(e);return Kv.set(t,n),r.observe(t),()=>{Kv.delete(t),r.unobserve(t)}}const A8={some:0,all:1};class R8 extends ui{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:A8[s]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),m=c?d:f;m&&m(l)};return P8(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(N8(e,n))&&this.startObserver()}unmount(){}}function N8({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const k8={inView:{Feature:R8},tap:{Feature:b8},focus:{Feature:T8},hover:{Feature:E8}};function wN(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function D8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function M8(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function dp(t,e,n){const r=t.getProps();return Dw(r,e,n!==void 0?n:r.custom,D8(t),M8(t))}let O8=it,Mw=it;const Us=t=>t*1e3,Br=t=>t/1e3,L8={current:!1},_N=t=>Array.isArray(t)&&typeof t[0]=="number";function xN(t){return!!(!t||typeof t=="string"&&EN[t]||_N(t)||Array.isArray(t)&&t.every(xN))}const Al=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,EN={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Al([0,.65,.55,1]),circOut:Al([.55,0,1,.45]),backIn:Al([.31,.01,.66,-.59]),backOut:Al([.33,1.53,.69,.99])};function TN(t){if(t)return _N(t)?Al(t):Array.isArray(t)?t.map(TN):EN[t]}function j8(t,e,n,{delay:r=0,duration:s,repeat:i=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const d=TN(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"})}function V8(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const bN=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,$8=1e-7,F8=12;function U8(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=bN(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>$8&&++a<F8);return o}function gu(t,e,n,r){if(t===e&&n===r)return it;const s=i=>U8(i,0,1,t,n);return i=>i===0||i===1?i:bN(s(i),e,r)}const B8=gu(.42,0,1,1),z8=gu(0,0,.58,1),SN=gu(.42,0,.58,1),W8=t=>Array.isArray(t)&&typeof t[0]!="number",CN=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,IN=t=>e=>1-t(1-e),Ow=t=>1-Math.sin(Math.acos(t)),PN=IN(Ow),H8=CN(Ow),AN=gu(.33,1.53,.69,.99),Lw=IN(AN),K8=CN(Lw),G8=t=>(t*=2)<1?.5*Lw(t):.5*(2-Math.pow(2,-10*(t-1))),q8={linear:it,easeIn:B8,easeInOut:SN,easeOut:z8,circIn:Ow,circInOut:H8,circOut:PN,backIn:Lw,backInOut:K8,backOut:AN,anticipate:G8},Db=t=>{if(Array.isArray(t)){Mw(t.length===4);const[e,n,r,s]=t;return gu(e,n,r,s)}else if(typeof t=="string")return q8[t];return t},jw=(t,e)=>n=>!!(pu(n)&&q7.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),RN=(t,e,n)=>r=>{if(!pu(r))return r;const[s,i,o,a]=r.match(cp);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},Q8=t=>Ys(0,255,t),qm={...io,transform:t=>Math.round(Q8(t))},Ii={test:jw("rgb","red"),parse:RN("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+qm.transform(t)+", "+qm.transform(e)+", "+qm.transform(n)+", "+ql(Gl.transform(r))+")"};function Y8(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Gv={test:jw("#"),parse:Y8,transform:Ii.transform},Uo={test:jw("hsl","hue"),parse:RN("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+vr.transform(ql(e))+", "+vr.transform(ql(n))+", "+ql(Gl.transform(r))+")"},Jt={test:t=>Ii.test(t)||Gv.test(t)||Uo.test(t),parse:t=>Ii.test(t)?Ii.parse(t):Uo.test(t)?Uo.parse(t):Gv.parse(t),transform:t=>pu(t)?t:t.hasOwnProperty("red")?Ii.transform(t):Uo.transform(t)},Je=(t,e,n)=>-n*t+n*e+t;function Qm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function X8({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;s=Qm(l,a,t+1/3),i=Qm(l,a,t),o=Qm(l,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}const Ym=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},J8=[Gv,Ii,Uo],Z8=t=>J8.find(e=>e.test(t));function Mb(t){const e=Z8(t);let n=e.parse(t);return e===Uo&&(n=X8(n)),n}const NN=(t,e)=>{const n=Mb(t),r=Mb(e),s={...n};return i=>(s.red=Ym(n.red,r.red,i),s.green=Ym(n.green,r.green,i),s.blue=Ym(n.blue,r.blue,i),s.alpha=Je(n.alpha,r.alpha,i),Ii.transform(s))};function ez(t){var e,n;return isNaN(t)&&pu(t)&&(((e=t.match(cp))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(sN))===null||n===void 0?void 0:n.length)||0)>0}const kN={regex:K7,countKey:"Vars",token:"${v}",parse:it},DN={regex:sN,countKey:"Colors",token:"${c}",parse:Jt.parse},MN={regex:cp,countKey:"Numbers",token:"${n}",parse:io.parse};function Xm(t,{regex:e,countKey:n,token:r,parse:s}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(s)))}function Qf(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Xm(n,kN),Xm(n,DN),Xm(n,MN),n}function ON(t){return Qf(t).values}function LN(t){const{values:e,numColors:n,numVars:r,tokenised:s}=Qf(t),i=e.length;return o=>{let a=s;for(let l=0;l<i;l++)l<r?a=a.replace(kN.token,o[l]):l<r+n?a=a.replace(DN.token,Jt.transform(o[l])):a=a.replace(MN.token,ql(o[l]));return a}}const tz=t=>typeof t=="number"?0:t;function nz(t){const e=ON(t);return LN(t)(e.map(tz))}const Xs={test:ez,parse:ON,createTransformer:LN,getAnimatableNone:nz},jN=(t,e)=>n=>`${n>0?e:t}`;function VN(t,e){return typeof t=="number"?n=>Je(t,e,n):Jt.test(t)?NN(t,e):t.startsWith("var(")?jN(t,e):FN(t,e)}const $N=(t,e)=>{const n=[...t],r=n.length,s=t.map((i,o)=>VN(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}},rz=(t,e)=>{const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=VN(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}},FN=(t,e)=>{const n=Xs.createTransformer(e),r=Qf(t),s=Qf(e);return r.numVars===s.numVars&&r.numColors===s.numColors&&r.numNumbers>=s.numNumbers?Fs($N(r.values,s.values),n):jN(t,e)},Dc=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Ob=(t,e)=>n=>Je(t,e,n);function sz(t){return typeof t=="number"?Ob:typeof t=="string"?Jt.test(t)?NN:FN:Array.isArray(t)?$N:typeof t=="object"?rz:Ob}function iz(t,e,n){const r=[],s=n||sz(t[0]),i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||it:e;a=Fs(l,a)}r.push(a)}return r}function UN(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Mw(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=iz(e,r,s),a=o.length,l=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const f=Dc(t[d],t[d+1],c);return o[d](f)};return n?c=>l(Ys(t[0],t[i-1],c)):l}function oz(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Dc(0,e,r);t.push(Je(n,1,s))}}function az(t){const e=[0];return oz(e,t.length-1),e}function lz(t,e){return t.map(n=>n*e)}function cz(t,e){return t.map(()=>e||SN).splice(0,t.length-1)}function Yf({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=W8(r)?r.map(Db):Db(r),i={done:!1,value:e[0]},o=lz(n&&n.length===e.length?n:az(e),t),a=UN(o,e,{ease:Array.isArray(s)?s:cz(e,s)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function BN(t,e){return e?t*(1e3/e):0}const uz=5;function zN(t,e,n){const r=Math.max(e-uz,0);return BN(n-t(r),e-r)}const Jm=.001,dz=.01,Lb=10,fz=.05,hz=1;function pz({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let s,i;O8(t<=Us(Lb));let o=1-e;o=Ys(fz,hz,o),t=Ys(dz,Lb,Br(t)),o<1?(s=c=>{const d=c*o,f=d*t,m=d-n,g=qv(c,o),w=Math.exp(-f);return Jm-m/g*w},i=c=>{const f=c*o*t,m=f*n+n,g=Math.pow(o,2)*Math.pow(c,2)*t,w=Math.exp(-f),y=qv(Math.pow(c,2),o);return(-s(c)+Jm>0?-1:1)*((m-g)*w)/y}):(s=c=>{const d=Math.exp(-c*t),f=(c-n)*t+1;return-Jm+d*f},i=c=>{const d=Math.exp(-c*t),f=(n-c)*(t*t);return d*f});const a=5/t,l=gz(s,i,a);if(t=Us(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const mz=12;function gz(t,e,n){let r=n;for(let s=1;s<mz;s++)r=r-t(r)/e(r);return r}function qv(t,e){return t*Math.sqrt(1-e*e)}const vz=["duration","bounce"],yz=["stiffness","damping","mass"];function jb(t,e){return e.some(n=>t[n]!==void 0)}function wz(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!jb(t,yz)&&jb(t,vz)){const n=pz(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function WN({keyframes:t,restDelta:e,restSpeed:n,...r}){const s=t[0],i=t[t.length-1],o={done:!1,value:s},{stiffness:a,damping:l,mass:c,duration:d,velocity:f,isResolvedFromDuration:m}=wz({...r,velocity:-Br(r.velocity||0)}),g=f||0,w=l/(2*Math.sqrt(a*c)),y=i-s,T=Br(Math.sqrt(a/c)),E=Math.abs(y)<5;n||(n=E?.01:2),e||(e=E?.005:.5);let _;if(w<1){const x=qv(T,w);_=I=>{const k=Math.exp(-w*T*I);return i-k*((g+w*T*y)/x*Math.sin(x*I)+y*Math.cos(x*I))}}else if(w===1)_=x=>i-Math.exp(-T*x)*(y+(g+T*y)*x);else{const x=T*Math.sqrt(w*w-1);_=I=>{const k=Math.exp(-w*T*I),O=Math.min(x*I,300);return i-k*((g+w*T*y)*Math.sinh(O)+x*y*Math.cosh(O))/x}}return{calculatedDuration:m&&d||null,next:x=>{const I=_(x);if(m)o.done=x>=d;else{let k=g;x!==0&&(w<1?k=zN(_,x,I):k=0);const O=Math.abs(k)<=n,C=Math.abs(i-I)<=e;o.done=O&&C}return o.value=o.done?i:I,o}}}function Vb({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:d}){const f=t[0],m={done:!1,value:f},g=S=>a!==void 0&&S<a||l!==void 0&&S>l,w=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let y=n*e;const T=f+y,E=o===void 0?T:o(T);E!==T&&(y=E-f);const _=S=>-y*Math.exp(-S/r),x=S=>E+_(S),I=S=>{const P=_(S),A=x(S);m.done=Math.abs(P)<=c,m.value=m.done?E:A};let k,O;const C=S=>{g(m.value)&&(k=S,O=WN({keyframes:[m.value,w(m.value)],velocity:zN(x,S,m.value),damping:s,stiffness:i,restDelta:c,restSpeed:d}))};return C(0),{calculatedDuration:null,next:S=>{let P=!1;return!O&&k===void 0&&(P=!0,I(S),C(S)),k!==void 0&&S>k?O.next(S-k):(!P&&I(S),m)}}}const _z=t=>{const e=({timestamp:n})=>t(n);return{start:()=>He.update(e,!0),stop:()=>Xr(e),now:()=>$t.isProcessing?$t.timestamp:performance.now()}},$b=2e4;function Fb(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<$b;)e+=n,r=t.next(e);return e>=$b?1/0:e}const xz={decay:Vb,inertia:Vb,tween:Yf,keyframes:Yf,spring:WN};function Xf({autoplay:t=!0,delay:e=0,driver:n=_z,keyframes:r,type:s="keyframes",repeat:i=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:d,onUpdate:f,...m}){let g=1,w=!1,y,T;const E=()=>{T=new Promise(B=>{y=B})};E();let _;const x=xz[s]||Yf;let I;x!==Yf&&typeof r[0]!="number"&&(I=UN([0,100],r,{clamp:!1}),r=[0,100]);const k=x({...m,keyframes:r});let O;a==="mirror"&&(O=x({...m,keyframes:[...r].reverse(),velocity:-(m.velocity||0)}));let C="idle",S=null,P=null,A=null;k.calculatedDuration===null&&i&&(k.calculatedDuration=Fb(k));const{calculatedDuration:D}=k;let M=1/0,N=1/0;D!==null&&(M=D+o,N=M*(i+1)-o);let F=0;const X=B=>{if(P===null)return;g>0&&(P=Math.min(P,B)),g<0&&(P=Math.min(B-N/g,P)),S!==null?F=S:F=Math.round(B-P)*g;const Z=F-e*(g>=0?1:-1),ne=g>=0?Z<0:Z>N;F=Math.max(Z,0),C==="finished"&&S===null&&(F=N);let W=F,te=k;if(i){const xe=Math.min(F,N)/M;let ye=Math.floor(xe),me=xe%1;!me&&xe>=1&&(me=1),me===1&&ye--,ye=Math.min(ye,i+1),!!(ye%2)&&(a==="reverse"?(me=1-me,o&&(me-=o/M)):a==="mirror"&&(te=O)),W=Ys(0,1,me)*M}const ie=ne?{done:!1,value:r[0]}:te.next(W);I&&(ie.value=I(ie.value));let{done:q}=ie;!ne&&D!==null&&(q=g>=0?F>=N:F<=0);const we=S===null&&(C==="finished"||C==="running"&&q);return f&&f(ie.value),we&&V(),ie},G=()=>{_&&_.stop(),_=void 0},J=()=>{C="idle",G(),y(),E(),P=A=null},V=()=>{C="finished",d&&d(),G(),y()},L=()=>{if(w)return;_||(_=n(X));const B=_.now();l&&l(),S!==null?P=B-S:(!P||C==="finished")&&(P=B),C==="finished"&&E(),A=P,S=null,C="running",_.start()};t&&L();const z={then(B,Z){return T.then(B,Z)},get time(){return Br(F)},set time(B){B=Us(B),F=B,S!==null||!_||g===0?S=B:P=_.now()-B/g},get duration(){const B=k.calculatedDuration===null?Fb(k):k.calculatedDuration;return Br(B)},get speed(){return g},set speed(B){B===g||!_||(g=B,z.time=Br(F))},get state(){return C},play:L,pause:()=>{C="paused",S=F},stop:()=>{w=!0,C!=="idle"&&(C="idle",c&&c(),J())},cancel:()=>{A!==null&&X(A),J()},complete:()=>{C="finished"},sample:B=>(P=0,X(B))};return z}function Ez(t){let e;return()=>(e===void 0&&(e=t()),e)}const Tz=Ez(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),bz=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),md=10,Sz=2e4,Cz=(t,e)=>e.type==="spring"||t==="backgroundColor"||!xN(e.ease);function Iz(t,e,{onUpdate:n,onComplete:r,...s}){if(!(Tz()&&bz.has(e)&&!s.repeatDelay&&s.repeatType!=="mirror"&&s.damping!==0&&s.type!=="inertia"))return!1;let o=!1,a,l,c=!1;const d=()=>{l=new Promise(x=>{a=x})};d();let{keyframes:f,duration:m=300,ease:g,times:w}=s;if(Cz(e,s)){const x=Xf({...s,repeat:0,delay:0});let I={done:!1,value:f[0]};const k=[];let O=0;for(;!I.done&&O<Sz;)I=x.sample(O),k.push(I.value),O+=md;w=void 0,f=k,m=O-md,g="linear"}const y=j8(t.owner.current,e,f,{...s,duration:m,ease:g,times:w}),T=()=>{c=!1,y.cancel()},E=()=>{c=!0,He.update(T),a(),d()};return y.onfinish=()=>{c||(t.set(V8(f,s)),r&&r(),E())},{then(x,I){return l.then(x,I)},attachTimeline(x){return y.timeline=x,y.onfinish=null,it},get time(){return Br(y.currentTime||0)},set time(x){y.currentTime=Us(x)},get speed(){return y.playbackRate},set speed(x){y.playbackRate=x},get duration(){return Br(m)},play:()=>{o||(y.play(),Xr(T))},pause:()=>y.pause(),stop:()=>{if(o=!0,y.playState==="idle")return;const{currentTime:x}=y;if(x){const I=Xf({...s,autoplay:!1});t.setWithVelocity(I.sample(x-md).value,I.sample(x).value,md)}E()},complete:()=>{c||y.finish()},cancel:E}}function Pz({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const s=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:it,pause:it,stop:it,then:i=>(i(),Promise.resolve()),cancel:it,complete:it});return e?Xf({keyframes:[0,1],duration:0,delay:e,onComplete:s}):s()}const Az={type:"spring",stiffness:500,damping:25,restSpeed:10},Rz=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Nz={type:"keyframes",duration:.8},kz={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Dz=(t,{keyframes:e})=>e.length>2?Nz:so.has(t)?t.startsWith("scale")?Rz(e[1]):Az:kz,Qv=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Xs.test(e)||e==="0")&&!e.startsWith("url(")),Mz=new Set(["brightness","contrast","saturate","opacity"]);function Oz(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(cp)||[];if(!r)return t;const s=n.replace(r,"");let i=Mz.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const Lz=/([a-z-]*)\(.*?\)/g,Yv={...Xs,getAnimatableNone:t=>{const e=t.match(Lz);return e?e.map(Oz).join(" "):t}},jz={...iN,color:Jt,backgroundColor:Jt,outlineColor:Jt,fill:Jt,stroke:Jt,borderColor:Jt,borderTopColor:Jt,borderRightColor:Jt,borderBottomColor:Jt,borderLeftColor:Jt,filter:Yv,WebkitFilter:Yv},Vw=t=>jz[t];function HN(t,e){let n=Vw(t);return n!==Yv&&(n=Xs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KN=t=>/^0[^.\s]+$/.test(t);function Vz(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||KN(t)}function $z(t,e,n,r){const s=Qv(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?o:i[c-1]),Vz(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(s&&l.length&&a)for(let c=0;c<l.length;c++){const d=l[c];i[d]=HN(e,a)}return i}function Fz({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:l,elapsed:c,...d}){return!!Object.keys(d).length}function $w(t,e){return t[e]||t.default||t}const Uz={skipAnimations:!1},Fw=(t,e,n,r={})=>s=>{const i=$w(r,t)||{},o=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Us(o);const l=$z(e,t,n,i),c=l[0],d=l[l.length-1],f=Qv(t,c),m=Qv(t,d);let g={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:w=>{e.set(w),i.onUpdate&&i.onUpdate(w)},onComplete:()=>{s(),i.onComplete&&i.onComplete()}};if(Fz(i)||(g={...g,...Dz(t,g)}),g.duration&&(g.duration=Us(g.duration)),g.repeatDelay&&(g.repeatDelay=Us(g.repeatDelay)),!f||!m||L8.current||i.type===!1||Uz.skipAnimations)return Pz(g);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const w=Iz(e,t,g);if(w)return w}return Xf(g)};function Jf(t){return!!(pn(t)&&t.add)}const GN=t=>/^\-?\d*\.?\d+$/.test(t);function Uw(t,e){t.indexOf(e)===-1&&t.push(e)}function Bw(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class zw{constructor(){this.subscriptions=[]}add(e){return Uw(this.subscriptions,e),()=>Bw(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Bz=t=>!isNaN(parseFloat(t));class zz{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,s=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:o}=$t;this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,He.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>He.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=Bz(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new zw);const r=this.events[e].add(n);return e==="change"?()=>{r(),He.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?BN(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function xa(t,e){return new zz(t,e)}const qN=t=>e=>e.test(t),Wz={test:t=>t==="auto",parse:t=>t},QN=[io,de,vr,fs,Y7,Q7,Wz],ml=t=>QN.find(qN(t)),Hz=[...QN,Jt,Xs],Kz=t=>Hz.find(qN(t));function Gz(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,xa(n))}function qz(t,e){const n=dp(t,e);let{transitionEnd:r={},transition:s={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const o in i){const a=d8(i[o]);Gz(t,o,a)}}function Qz(t,e,n){var r,s;const i=Object.keys(e).filter(a=>!t.hasValue(a)),o=i.length;if(o)for(let a=0;a<o;a++){const l=i[a],c=e[l];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(s=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&s!==void 0?s:e[l]),d!=null&&(typeof d=="string"&&(GN(d)||KN(d))?d=parseFloat(d):!Kz(d)&&Xs.test(c)&&(d=HN(l,c)),t.addValue(l,xa(d,{owner:t})),n[l]===void 0&&(n[l]=d),d!==null&&t.setBaseTarget(l,d))}}function Yz(t,e){return e?(e[t]||e.default||e).from:void 0}function Xz(t,e,n){const r={};for(const s in t){const i=Yz(s,e);if(i!==void 0)r[s]=i;else{const o=n.getValue(s);o&&(r[s]=o.get())}}return r}function Jz({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Zz(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function YN(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in a){const m=t.getValue(f),g=a[f];if(!m||g===void 0||d&&Jz(d,f))continue;const w={delay:n,elapsed:0,...$w(i||{},f)};if(window.HandoffAppearAnimations){const E=t.getProps()[XR];if(E){const _=window.HandoffAppearAnimations(E,f,m,He);_!==null&&(w.elapsed=_,w.isHandoff=!0)}}let y=!w.isHandoff&&!Zz(m,g);if(w.type==="spring"&&(m.getVelocity()||w.velocity)&&(y=!1),m.animation&&(y=!1),y)continue;m.start(Fw(f,m,g,t.shouldReduceMotion&&so.has(f)?{type:!1}:w));const T=m.animation;Jf(l)&&(l.add(f),T.then(()=>l.remove(f))),c.push(T)}return o&&Promise.all(c).then(()=>{o&&qz(t,o)}),c}function Xv(t,e,n={}){const r=dp(t,e,n.custom);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(YN(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:f}=s;return eW(t,e,c+l,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[l,c]=a==="beforeChildren"?[i,o]:[o,i];return l().then(()=>c())}else return Promise.all([i(),o(n.delay)])}function eW(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,l=s===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(tW).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Xv(c,e,{...i,delay:n+l(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function tW(t,e){return t.sortNodePosition(e)}function nW(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>Xv(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=Xv(t,e,n);else{const s=typeof e=="function"?dp(t,e,n.custom):e;r=Promise.all(YN(t,s,n))}return r.then(()=>t.notify("AnimationComplete",e))}const rW=[...Sw].reverse(),sW=Sw.length;function iW(t){return e=>Promise.all(e.map(({animation:n,options:r})=>nW(t,n,r)))}function oW(t){let e=iW(t);const n=lW();let r=!0;const s=(l,c)=>{const d=dp(t,c);if(d){const{transition:f,transitionEnd:m,...g}=d;l={...l,...g,...m}}return l};function i(l){e=l(t)}function o(l,c){const d=t.getProps(),f=t.getVariantContext(!0)||{},m=[],g=new Set;let w={},y=1/0;for(let E=0;E<sW;E++){const _=rW[E],x=n[_],I=d[_]!==void 0?d[_]:f[_],k=Nc(I),O=_===c?x.isActive:null;O===!1&&(y=E);let C=I===f[_]&&I!==d[_]&&k;if(C&&r&&t.manuallyAnimateOnMount&&(C=!1),x.protectedKeys={...w},!x.isActive&&O===null||!I&&!x.prevProp||ap(I)||typeof I=="boolean")continue;let P=aW(x.prevProp,I)||_===c&&x.isActive&&!C&&k||E>y&&k,A=!1;const D=Array.isArray(I)?I:[I];let M=D.reduce(s,{});O===!1&&(M={});const{prevResolvedValues:N={}}=x,F={...N,...M},X=G=>{P=!0,g.has(G)&&(A=!0,g.delete(G)),x.needsAnimating[G]=!0};for(const G in F){const J=M[G],V=N[G];if(w.hasOwnProperty(G))continue;let L=!1;qf(J)&&qf(V)?L=!wN(J,V):L=J!==V,L?J!==void 0?X(G):g.add(G):J!==void 0&&g.has(G)?X(G):x.protectedKeys[G]=!0}x.prevProp=I,x.prevResolvedValues=M,x.isActive&&(w={...w,...M}),r&&t.blockInitialAnimation&&(P=!1),P&&(!C||A)&&m.push(...D.map(G=>({animation:G,options:{type:_,...l}})))}if(g.size){const E={};g.forEach(_=>{const x=t.getBaseTarget(_);x!==void 0&&(E[_]=x)}),m.push({animation:E})}let T=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(T=!1),r=!1,T?e(m):Promise.resolve()}function a(l,c,d){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(g=>{var w;return(w=g.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const m=o(d,l);for(const g in n)n[g].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n}}function aW(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wN(e,t):!1}function mi(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function lW(){return{animate:mi(!0),whileInView:mi(),whileHover:mi(),whileTap:mi(),whileDrag:mi(),whileFocus:mi(),exit:mi()}}class cW extends ui{constructor(e){super(e),e.animationState||(e.animationState=oW(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),ap(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let uW=0;class dW extends ui{constructor(){super(...arguments),this.id=uW++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:s}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===s)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const fW={animation:{Feature:cW},exit:{Feature:dW}},Ub=(t,e)=>Math.abs(t-e);function hW(t,e){const n=Ub(t.x,e.x),r=Ub(t.y,e.y);return Math.sqrt(n**2+r**2)}class XN{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=eg(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,g=hW(f.offset,{x:0,y:0})>=3;if(!m&&!g)return;const{point:w}=f,{timestamp:y}=$t;this.history.push({...w,timestamp:y});const{onStart:T,onMove:E}=this.handlers;m||(T&&T(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),E&&E(this.lastMoveEvent,f)},this.handlePointerMove=(f,m)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Zm(m,this.transformPagePoint),He.update(this.updatePoint,!0)},this.handlePointerUp=(f,m)=>{this.end();const{onEnd:g,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const T=eg(f.type==="pointercancel"?this.lastMoveEventInfo:Zm(m,this.transformPagePoint),this.history);this.startEvent&&g&&g(f,T),w&&w(f,T)},!pN(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=up(e),a=Zm(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=$t;this.history=[{...l,timestamp:c}];const{onSessionStart:d}=n;d&&d(e,eg(a,this.history)),this.removeListeners=Fs(Ur(this.contextWindow,"pointermove",this.handlePointerMove),Ur(this.contextWindow,"pointerup",this.handlePointerUp),Ur(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Xr(this.updatePoint)}}function Zm(t,e){return e?{point:e(t.point)}:t}function Bb(t,e){return{x:t.x-e.x,y:t.y-e.y}}function eg({point:t},e){return{point:t,delta:Bb(t,JN(e)),offset:Bb(t,pW(e)),velocity:mW(e,.1)}}function pW(t){return t[0]}function JN(t){return t[t.length-1]}function mW(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=JN(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Us(e)));)n--;if(!r)return{x:0,y:0};const i=Br(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Sn(t){return t.max-t.min}function Jv(t,e=0,n=.01){return Math.abs(t-e)<=n}function zb(t,e,n,r=.5){t.origin=r,t.originPoint=Je(e.min,e.max,t.origin),t.scale=Sn(n)/Sn(e),(Jv(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Je(n.min,n.max,t.origin)-t.originPoint,(Jv(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Ql(t,e,n,r){zb(t.x,e.x,n.x,r?r.originX:void 0),zb(t.y,e.y,n.y,r?r.originY:void 0)}function Wb(t,e,n){t.min=n.min+e.min,t.max=t.min+Sn(e)}function gW(t,e,n){Wb(t.x,e.x,n.x),Wb(t.y,e.y,n.y)}function Hb(t,e,n){t.min=e.min-n.min,t.max=t.min+Sn(e)}function Yl(t,e,n){Hb(t.x,e.x,n.x),Hb(t.y,e.y,n.y)}function vW(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Je(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Je(n,t,r.max):Math.min(t,n)),t}function Kb(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function yW(t,{top:e,left:n,bottom:r,right:s}){return{x:Kb(t.x,n,s),y:Kb(t.y,e,r)}}function Gb(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function wW(t,e){return{x:Gb(t.x,e.x),y:Gb(t.y,e.y)}}function _W(t,e){let n=.5;const r=Sn(t),s=Sn(e);return s>r?n=Dc(e.min,e.max-r,t.min):r>s&&(n=Dc(t.min,t.max-s,e.min)),Ys(0,1,n)}function xW(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Zv=.35;function EW(t=Zv){return t===!1?t=0:t===!0&&(t=Zv),{x:qb(t,"left","right"),y:qb(t,"top","bottom")}}function qb(t,e,n){return{min:Qb(t,e),max:Qb(t,n)}}function Qb(t,e){return typeof t=="number"?t:t[e]||0}const Yb=()=>({translate:0,scale:1,origin:0,originPoint:0}),Bo=()=>({x:Yb(),y:Yb()}),Xb=()=>({min:0,max:0}),pt=()=>({x:Xb(),y:Xb()});function An(t){return[t("x"),t("y")]}function ZN({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function TW({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function bW(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function tg(t){return t===void 0||t===1}function ey({scale:t,scaleX:e,scaleY:n}){return!tg(t)||!tg(e)||!tg(n)}function wi(t){return ey(t)||ek(t)||t.z||t.rotate||t.rotateX||t.rotateY}function ek(t){return Jb(t.x)||Jb(t.y)}function Jb(t){return t&&t!=="0%"}function Zf(t,e,n){const r=t-n,s=e*r;return n+s}function Zb(t,e,n,r,s){return s!==void 0&&(t=Zf(t,s,r)),Zf(t,n,r)+e}function ty(t,e=0,n=1,r,s){t.min=Zb(t.min,e,n,r,s),t.max=Zb(t.max,e,n,r,s)}function tk(t,{x:e,y:n}){ty(t.x,e.translate,e.scale,e.originPoint),ty(t.y,n.translate,n.scale,n.originPoint)}function SW(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&zo(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,tk(t,o)),r&&wi(i.latestValues)&&zo(t,i.latestValues))}e.x=e1(e.x),e.y=e1(e.y)}function e1(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function vs(t,e){t.min=t.min+e,t.max=t.max+e}function t1(t,e,[n,r,s]){const i=e[s]!==void 0?e[s]:.5,o=Je(t.min,t.max,i);ty(t,e[n],e[r],o,e.scale)}const CW=["x","scaleX","originX"],IW=["y","scaleY","originY"];function zo(t,e){t1(t.x,e,CW),t1(t.y,e,IW)}function nk(t,e){return ZN(bW(t.getBoundingClientRect(),e))}function PW(t,e,n){const r=nk(t,n),{scroll:s}=e;return s&&(vs(r.x,s.offset.x),vs(r.y,s.offset.y)),r}const rk=({current:t})=>t?t.ownerDocument.defaultView:null,AW=new WeakMap;class RW{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(up(d,"page").point)},i=(d,f)=>{const{drag:m,dragPropagation:g,onDragStart:w}=this.getProps();if(m&&!g&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=gN(m),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),An(T=>{let E=this.getAxisMotionValue(T).get()||0;if(vr.test(E)){const{projection:_}=this.visualElement;if(_&&_.layout){const x=_.layout.layoutBox[T];x&&(E=Sn(x)*(parseFloat(E)/100))}}this.originPoint[T]=E}),w&&He.update(()=>w(d,f),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:m,dragDirectionLock:g,onDirectionLock:w,onDrag:y}=this.getProps();if(!m&&!this.openGlobalLock)return;const{offset:T}=f;if(g&&this.currentDirection===null){this.currentDirection=NW(T),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",f.point,T),this.updateAxis("y",f.point,T),this.visualElement.render(),y&&y(d,f)},a=(d,f)=>this.stop(d,f),l=()=>An(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new XN(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:rk(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&He.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!gd(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=vW(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,i=this.constraints;n&&Fo(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&s?this.constraints=yW(s.layoutBox,n):this.constraints=!1,this.elastic=EW(r),i!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&An(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=xW(s.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Fo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=PW(r,s.root,this.visualElement.getTransformPagePoint());let o=wW(s.layout.layoutBox,i);if(n){const a=n(TW(o));this.hasMutatedConstraints=!!a,a&&(o=ZN(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=An(d=>{if(!gd(d,n,this.currentDirection))return;let f=l&&l[d]||{};o&&(f={min:0,max:0});const m=s?200:1e6,g=s?40:1e7,w={type:"inertia",velocity:r?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(d,w)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Fw(e,r,0,n))}stopAnimation(){An(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){An(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){An(n=>{const{drag:r}=this.getProps();if(!gd(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-Je(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Fo(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};An(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();s[o]=_W({min:l,max:l},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),An(o=>{if(!gd(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Je(l,c,s[o]))})}addListeners(){if(!this.visualElement.current)return;AW.set(this.visualElement,this);const e=this.visualElement.current,n=Ur(e,"pointerdown",l=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Fo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),r();const o=jr(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(An(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Zv,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function gd(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function NW(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class kW extends ui{constructor(e){super(e),this.removeGroupControls=it,this.removeListeners=it,this.controls=new RW(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||it}unmount(){this.removeGroupControls(),this.removeListeners()}}const n1=t=>(e,n)=>{t&&He.update(()=>t(e,n))};class DW extends ui{constructor(){super(...arguments),this.removePointerDownListener=it}onPointerDown(e){this.session=new XN(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:rk(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:n1(e),onStart:n1(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&He.update(()=>s(i,o))}}}mount(){this.removePointerDownListener=Ur(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MW(){const t=p.useContext(Tw);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,s=p.useId();return p.useEffect(()=>r(s),[]),!e&&n?[!1,()=>n&&n(s)]:[!0]}const qd={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function r1(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const gl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(de.test(t))t=parseFloat(t);else return t;const n=r1(t,e.target.x),r=r1(t,e.target.y);return`${n}% ${r}%`}},OW={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Xs.parse(t);if(s.length>5)return r;const i=Xs.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=l;const c=Je(a,l,.5);return typeof s[2+o]=="number"&&(s[2+o]/=c),typeof s[3+o]=="number"&&(s[3+o]/=c),i(s)}};class LW extends Q.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;B7(jW),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qd.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,o=r.projection;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||He.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sk(t){const[e,n]=MW(),r=p.useContext(ZR);return Q.createElement(LW,{...t,layoutGroup:r,switchLayoutGroup:p.useContext(eN),isPresent:e,safeToRemove:n})}const jW={borderRadius:{...gl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:gl,borderTopRightRadius:gl,borderBottomLeftRadius:gl,borderBottomRightRadius:gl,boxShadow:OW},ik=["TopLeft","TopRight","BottomLeft","BottomRight"],VW=ik.length,s1=t=>typeof t=="string"?parseFloat(t):t,i1=t=>typeof t=="number"||de.test(t);function $W(t,e,n,r,s,i){s?(t.opacity=Je(0,n.opacity!==void 0?n.opacity:1,FW(r)),t.opacityExit=Je(e.opacity!==void 0?e.opacity:1,0,UW(r))):i&&(t.opacity=Je(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<VW;o++){const a=`border${ik[o]}Radius`;let l=o1(e,a),c=o1(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||i1(l)===i1(c)?(t[a]=Math.max(Je(s1(l),s1(c),r),0),(vr.test(c)||vr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Je(e.rotate||0,n.rotate||0,r))}function o1(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const FW=ok(0,.5,PN),UW=ok(.5,.95,it);function ok(t,e,n){return r=>r<t?0:r>e?1:n(Dc(t,e,r))}function a1(t,e){t.min=e.min,t.max=e.max}function Pn(t,e){a1(t.x,e.x),a1(t.y,e.y)}function l1(t,e,n,r,s){return t-=e,t=Zf(t,1/n,r),s!==void 0&&(t=Zf(t,1/s,r)),t}function BW(t,e=0,n=1,r=.5,s,i=t,o=t){if(vr.test(e)&&(e=parseFloat(e),e=Je(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Je(i.min,i.max,r);t===i&&(a-=e),t.min=l1(t.min,e,n,a,s),t.max=l1(t.max,e,n,a,s)}function c1(t,e,[n,r,s],i,o){BW(t,e[n],e[r],e[s],e.scale,i,o)}const zW=["x","scaleX","originX"],WW=["y","scaleY","originY"];function u1(t,e,n,r){c1(t.x,e,zW,n?n.x:void 0,r?r.x:void 0),c1(t.y,e,WW,n?n.y:void 0,r?r.y:void 0)}function d1(t){return t.translate===0&&t.scale===1}function ak(t){return d1(t.x)&&d1(t.y)}function HW(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function lk(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function f1(t){return Sn(t.x)/Sn(t.y)}class KW{constructor(){this.members=[]}add(e){Uw(this.members,e),e.scheduleRender()}remove(e){if(Bw(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function h1(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y;if((s||i)&&(r=`translate3d(${s}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:d}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),d&&(r+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const GW=(t,e)=>t.depth-e.depth;class qW{constructor(){this.children=[],this.isDirty=!1}add(e){Uw(this.children,e),this.isDirty=!0}remove(e){Bw(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(GW),this.isDirty=!1,this.children.forEach(e)}}function QW(t,e){const n=performance.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(Xr(r),t(i-e))};return He.read(r,!0),()=>Xr(r)}function YW(t){window.MotionDebug&&window.MotionDebug.record(t)}function XW(t){return t instanceof SVGElement&&t.tagName!=="svg"}function JW(t,e,n){const r=pn(t)?t:xa(t);return r.start(Fw("",r,e,n)),r.animation}const p1=["","X","Y","Z"],ZW={visibility:"hidden"},m1=1e3;let eH=0;const _i={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function ck({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=eH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,_i.totalNodes=_i.resolvedTargetDeltas=_i.recalculatedProjection=0,this.nodes.forEach(rH),this.nodes.forEach(lH),this.nodes.forEach(cH),this.nodes.forEach(sH),YW(_i)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new qW)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new zw),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=XW(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=QW(m,250),qd.hasAnimatedSinceResize&&(qd.hasAnimatedSinceResize=!1,this.nodes.forEach(v1))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeTargetChanged:g,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||d.getDefaultTransition()||pH,{onLayoutAnimationStart:T,onLayoutAnimationComplete:E}=d.getProps(),_=!this.targetLayout||!lk(this.targetLayout,w)||g,x=!m&&g;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const I={...$w(y,"layout"),onPlay:T,onComplete:E};(d.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else m||v1(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Xr(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uH),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(g1);return}this.isUpdating||this.nodes.forEach(oH),this.isUpdating=!1,this.nodes.forEach(aH),this.nodes.forEach(tH),this.nodes.forEach(nH),this.clearAllSnapshots();const a=performance.now();$t.delta=Ys(0,1e3/60,a-$t.timestamp),$t.timestamp=a,$t.isProcessing=!0,Hm.update.process($t),Hm.preRender.process($t),Hm.render.process($t),$t.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(iH),this.sharedNodes.forEach(dH)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,He.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){He.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!ak(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,d=c!==this.prevTransformTemplateValue;o&&(a||wi(this.latestValues)||d)&&(s(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),mH(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return pt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(vs(a.x,l.offset.x),vs(a.y,l.offset.y)),a}removeElementScroll(o){const a=pt();Pn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:d,options:f}=c;if(c!==this.root&&d&&f.layoutScroll){if(d.isRoot){Pn(a,o);const{scroll:m}=this.root;m&&(vs(a.x,-m.offset.x),vs(a.y,-m.offset.y))}vs(a.x,d.offset.x),vs(a.y,d.offset.y)}}return a}applyTransform(o,a=!1){const l=pt();Pn(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];!a&&d.options.layoutScroll&&d.scroll&&d!==d.root&&zo(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),wi(d.latestValues)&&zo(l,d.latestValues)}return wi(this.latestValues)&&zo(l,this.latestValues),l}removeTransform(o){const a=pt();Pn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!wi(c.latestValues))continue;ey(c.latestValues)&&c.updateSnapshot();const d=pt(),f=c.measurePageBox();Pn(d,f),u1(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,d)}return wi(this.latestValues)&&u1(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$t.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=$t.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Yl(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pt(),this.targetWithTransforms=pt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gW(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Pn(this.target,this.layout.layoutBox),tk(this.target,this.targetDelta)):Pn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pt(),this.relativeTargetOrigin=pt(),Yl(this.relativeTargetOrigin,this.target,g.target),Pn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}_i.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||ey(this.parent.latestValues)||ek(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===$t.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Pn(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;SW(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:w}=a;if(!w){this.projectionTransform&&(this.projectionDelta=Bo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Bo(),this.projectionDeltaWithTransform=Bo());const y=this.projectionTransform;Ql(this.projectionDelta,this.layoutCorrected,w,this.latestValues),this.projectionTransform=h1(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==m||this.treeScale.y!==g)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),_i.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},d={...this.latestValues},f=Bo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=pt(),g=l?l.source:void 0,w=this.layout?this.layout.source:void 0,y=g!==w,T=this.getStack(),E=!T||T.members.length<=1,_=!!(y&&!E&&this.options.crossfade===!0&&!this.path.some(hH));this.animationProgress=0;let x;this.mixTargetDelta=I=>{const k=I/1e3;y1(f.x,o.x,k),y1(f.y,o.y,k),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Yl(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fH(this.relativeTarget,this.relativeTargetOrigin,m,k),x&&HW(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=pt()),Pn(x,this.relativeTarget)),y&&(this.animationValues=d,$W(d,c,this.latestValues,k,_,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Xr(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=He.update(()=>{qd.hasAnimatedSinceResize=!0,this.currentAnimation=JW(0,m1,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(m1),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:d}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&uk(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||pt();const f=Sn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const m=Sn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}Pn(a,l),zo(a,d),Ql(this.projectionDeltaWithTransform,this.layoutCorrected,a,d)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new KW),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let d=0;d<p1.length;d++){const f="rotate"+p1[d];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const d in c)o.setStaticValue(d,c[d]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ZW;const c={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Gd(o==null?void 0:o.pointerEvents)||"",c.transform=d?d(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=Gd(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!wi(this.latestValues)&&(y.transform=d?d({},""):"none",this.hasProjected=!1),y}const m=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=h1(this.projectionDeltaWithTransform,this.treeScale,m),d&&(c.transform=d(m,c.transform));const{x:g,y:w}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${w.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=f===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const y in Kf){if(m[y]===void 0)continue;const{correct:T,applyTo:E}=Kf[y],_=c.transform==="none"?m[y]:T(m[y],f);if(E){const x=E.length;for(let I=0;I<x;I++)c[E[I]]=_}else c[y]=_}return this.options.layoutId&&(c.pointerEvents=f===this?Gd(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(g1),this.root.sharedNodes.clear()}}}function tH(t){t.updateLayout()}function nH(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=n.source!==t.layout.source;i==="size"?An(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],g=Sn(m);m.min=r[f].min,m.max=m.min+g}):uk(i,n.layoutBox,r)&&An(f=>{const m=o?n.measuredBox[f]:n.layoutBox[f],g=Sn(r[f]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+g)});const a=Bo();Ql(a,r,n.layoutBox);const l=Bo();o?Ql(l,t.applyTransform(s,!0),n.measuredBox):Ql(l,r,n.layoutBox);const c=!ak(a);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:m,layout:g}=f;if(m&&g){const w=pt();Yl(w,n.layoutBox,m.layoutBox);const y=pt();Yl(y,r,g.layoutBox),lk(w,y)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=w,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function rH(t){_i.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function sH(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iH(t){t.clearSnapshot()}function g1(t){t.clearMeasurements()}function oH(t){t.isLayoutDirty=!1}function aH(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function v1(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lH(t){t.resolveTargetDelta()}function cH(t){t.calcProjection()}function uH(t){t.resetRotation()}function dH(t){t.removeLeadSnapshot()}function y1(t,e,n){t.translate=Je(e.translate,0,n),t.scale=Je(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function w1(t,e,n,r){t.min=Je(e.min,n.min,r),t.max=Je(e.max,n.max,r)}function fH(t,e,n,r){w1(t.x,e.x,n.x,r),w1(t.y,e.y,n.y,r)}function hH(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pH={duration:.45,ease:[.4,0,.1,1]},_1=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),x1=_1("applewebkit/")&&!_1("chrome/")?Math.round:it;function E1(t){t.min=x1(t.min),t.max=x1(t.max)}function mH(t){E1(t.x),E1(t.y)}function uk(t,e,n){return t==="position"||t==="preserve-aspect"&&!Jv(f1(e),f1(n),.2)}const gH=ck({attachResizeListener:(t,e)=>jr(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ng={current:void 0},dk=ck({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ng.current){const t=new gH({});t.mount(window),t.setOptions({layoutScroll:!0}),ng.current=t}return ng.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),vH={pan:{Feature:DW},drag:{Feature:kW,ProjectionNode:dk,MeasureLayout:sk}},yH=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function wH(t){const e=yH.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function ny(t,e,n=1){const[r,s]=wH(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return GN(o)?parseFloat(o):o}else return Hv(s)?ny(s,e,n+1):s}function _H(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(s=>{const i=s.get();if(!Hv(i))return;const o=ny(i,r);o&&s.set(o)});for(const s in e){const i=e[s];if(!Hv(i))continue;const o=ny(i,r);o&&(e[s]=o,n||(n={}),n[s]===void 0&&(n[s]=i))}return{target:e,transitionEnd:n}}const xH=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),fk=t=>xH.has(t),EH=t=>Object.keys(t).some(fk),T1=t=>t===io||t===de,b1=(t,e)=>parseFloat(t.split(", ")[e]),S1=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/);if(s)return b1(s[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?b1(i[1],t):0}},TH=new Set(["x","y","z"]),bH=hu.filter(t=>!TH.has(t));function SH(t){const e=[];return bH.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ea={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:S1(4,13),y:S1(5,14)};Ea.translateX=Ea.x;Ea.translateY=Ea.y;const CH=(t,e,n)=>{const r=e.measureViewportBox(),s=e.current,i=getComputedStyle(s),{display:o}=i,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Ea[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=Ea[c](l,i)}),t},IH=(t,e,n={},r={})=>{e={...e},r={...r};const s=Object.keys(e).filter(fk);let i=[],o=!1;const a=[];if(s.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let d=n[l],f=ml(d);const m=e[l];let g;if(qf(m)){const w=m.length,y=m[0]===null?1:0;d=m[y],f=ml(d);for(let T=y;T<w&&m[T]!==null;T++)g?Mw(ml(m[T])===g):g=ml(m[T])}else g=ml(m);if(f!==g)if(T1(f)&&T1(g)){const w=c.get();typeof w=="string"&&c.set(parseFloat(w)),typeof m=="string"?e[l]=parseFloat(m):Array.isArray(m)&&g===de&&(e[l]=m.map(parseFloat))}else f!=null&&f.transform&&(g!=null&&g.transform)&&(d===0||m===0)?d===0?c.set(g.transform(d)):e[l]=f.transform(m):(o||(i=SH(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(m))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=CH(e,t,a);return i.length&&i.forEach(([d,f])=>{t.getValue(d).set(f)}),t.render(),op&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function PH(t,e,n,r){return EH(e)?IH(t,e,n,r):{target:e,transitionEnd:r}}const AH=(t,e,n,r)=>{const s=_H(t,e,r);return e=s.target,r=s.transitionEnd,PH(t,e,n,r)},ry={current:null},hk={current:!1};function RH(){if(hk.current=!0,!!op)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>ry.current=t.matches;t.addListener(e),e()}else ry.current=!1}function NH(t,e,n){const{willChange:r}=e;for(const s in e){const i=e[s],o=n[s];if(pn(i))t.addValue(s,i),Jf(r)&&r.add(s);else if(pn(o))t.addValue(s,xa(i,{owner:t})),Jf(r)&&r.remove(s);else if(o!==i)if(t.hasValue(s)){const a=t.getValue(s);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(s);t.addValue(s,xa(a!==void 0?a:i,{owner:t}))}}for(const s in n)e[s]===void 0&&t.removeValue(s);return e}const C1=new WeakMap,pk=Object.keys(kc),kH=pk.length,I1=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],DH=Cw.length;class MH{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,visualState:i},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>He.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=o,this.isControllingVariants=lp(n),this.isVariantNode=JR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const m=d[f];a[f]!==void 0&&pn(m)&&(m.set(a[f],!1),Jf(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,C1.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),hk.current||RH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:ry.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){C1.delete(this.current),this.projection&&this.projection.unmount(),Xr(this.notifyUpdate),Xr(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=so.has(e),s=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&He.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{s(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,s,i){let o,a;for(let l=0;l<kH;l++){const c=pk[l],{isEnabled:d,Feature:f,ProjectionNode:m,MeasureLayout:g}=kc[c];m&&(o=m),d(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),g&&(a=g))}if((this.type==="html"||this.type==="svg")&&!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:d,dragConstraints:f,layoutScroll:m,layoutRoot:g}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||f&&Fo(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:m,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<I1.length;r++){const s=I1[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i=e["on"+s];i&&(this.propEventSubscriptions[s]=this.on(s,i))}this.prevMotionValues=NH(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<DH;r++){const s=Cw[r],i=this.props[s];(Nc(i)||i===!1)&&(n[s]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=xa(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,s=typeof r=="string"||typeof r=="object"?(n=Dw(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&s!==void 0)return s;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!pn(i)?i:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new zw),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class mk extends MH{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:s},i){let o=Xz(r,e||{},this);if(s&&(n&&(n=s(n)),r&&(r=s(r)),o&&(o=s(o))),i){Qz(this,r,o);const a=AH(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function OH(t){return window.getComputedStyle(t)}class LH extends mk{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(so.has(n)){const r=Vw(n);return r&&r.default||0}else{const r=OH(e),s=(rN(n)?r.getPropertyValue(n):r[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return nk(e,n)}build(e,n,r,s){Pw(e,n,r,s.transformTemplate)}scrapeMotionValuesFromProps(e,n){return kw(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;pn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,s){cN(e,n,r,s)}}class jH extends mk{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(so.has(n)){const r=Vw(n);return r&&r.default||0}return n=uN.has(n)?n:bw(n),e.getAttribute(n)}measureInstanceViewportBox(){return pt()}scrapeMotionValuesFromProps(e,n){return fN(e,n)}build(e,n,r,s){Rw(e,n,r,this.isSVGTag,s.transformTemplate)}renderInstance(e,n,r,s){dN(e,n,r,s)}mount(e){this.isSVGTag=Nw(e.tagName),super.mount(e)}}const VH=(t,e)=>Iw(t)?new jH(e,{enableHardwareAcceleration:!1}):new LH(e,{enableHardwareAcceleration:!0}),$H={layout:{ProjectionNode:dk,MeasureLayout:sk}},FH={...fW,...k8,...vH,...$H},Ue=F7((t,e)=>w8(t,e,FH,VH)),Ww=ep("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),he=Q.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?_B:"button";return h.jsx(o,{className:se(Ww({variant:e,size:n,className:t})),ref:i,...s})});he.displayName="Button";const Ge=Q.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:se("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ge.displayName="Card";const ut=Q.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:se("flex flex-col space-y-1.5 p-6",t),...e}));ut.displayName="CardHeader";const dt=Q.forwardRef(({className:t,...e},n)=>h.jsx("h3",{ref:n,className:se("text-2xl font-semibold leading-none tracking-tight",t),...e}));dt.displayName="CardTitle";const mn=Q.forwardRef(({className:t,...e},n)=>h.jsx("p",{ref:n,className:se("text-sm text-muted-foreground",t),...e}));mn.displayName="CardDescription";const qe=Q.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:se("p-6 pt-0",t),...e}));qe.displayName="CardContent";const Hw=Q.forwardRef(({className:t,...e},n)=>h.jsx("div",{ref:n,className:se("flex items-center p-6 pt-0",t),...e}));Hw.displayName="CardFooter";const ze=Q.forwardRef(({className:t,type:e,...n},r)=>h.jsx("input",{type:e,className:se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));ze.displayName="Input";var UH="Label",gk=p.forwardRef((t,e)=>h.jsx(_e.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));gk.displayName=UH;var vk=gk;const BH=ep("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Le=Q.forwardRef(({className:t,...e},n)=>h.jsx(vk,{ref:n,className:se(BH(),t),...e}));Le.displayName=vk.displayName;var zH=dh[" useId ".trim().toString()]||(()=>{}),WH=0;function Di(t){const[e,n]=p.useState(zH());return jn(()=>{t||n(r=>r??String(WH++))},[t]),t||(e?`radix-${e}`:"")}var rg="focusScope.autoFocusOnMount",sg="focusScope.autoFocusOnUnmount",P1={bubbles:!1,cancelable:!0},HH="FocusScope",Kw=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),c=hn(s),d=hn(i),f=p.useRef(null),m=nt(e,y=>l(y)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let y=function(x){if(g.paused||!a)return;const I=x.target;a.contains(I)?f.current=I:hs(f.current,{select:!0})},T=function(x){if(g.paused||!a)return;const I=x.relatedTarget;I!==null&&(a.contains(I)||hs(f.current,{select:!0}))},E=function(x){if(document.activeElement===document.body)for(const k of x)k.removedNodes.length>0&&hs(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",T);const _=new MutationObserver(E);return a&&_.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",T),_.disconnect()}}},[r,a,g.paused]),p.useEffect(()=>{if(a){R1.add(g);const y=document.activeElement;if(!a.contains(y)){const E=new CustomEvent(rg,P1);a.addEventListener(rg,c),a.dispatchEvent(E),E.defaultPrevented||(KH(XH(yk(a)),{select:!0}),document.activeElement===y&&hs(a))}return()=>{a.removeEventListener(rg,c),setTimeout(()=>{const E=new CustomEvent(sg,P1);a.addEventListener(sg,d),a.dispatchEvent(E),E.defaultPrevented||hs(y??document.body,{select:!0}),a.removeEventListener(sg,d),R1.remove(g)},0)}}},[a,c,d,g]);const w=p.useCallback(y=>{if(!n&&!r||g.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(T&&E){const _=y.currentTarget,[x,I]=GH(_);x&&I?!y.shiftKey&&E===I?(y.preventDefault(),n&&hs(x,{select:!0})):y.shiftKey&&E===x&&(y.preventDefault(),n&&hs(I,{select:!0})):E===_&&y.preventDefault()}},[n,r,g.paused]);return h.jsx(_e.div,{tabIndex:-1,...o,ref:m,onKeyDown:w})});Kw.displayName=HH;function KH(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(hs(r,{select:e}),document.activeElement!==n)return}function GH(t){const e=yk(t),n=A1(e,t),r=A1(e.reverse(),t);return[n,r]}function yk(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function A1(t,e){for(const n of t)if(!qH(n,{upTo:e}))return n}function qH(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function QH(t){return t instanceof HTMLInputElement&&"select"in t}function hs(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&QH(t)&&e&&t.select()}}var R1=YH();function YH(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=N1(t,e),t.unshift(e)},remove(e){var n;t=N1(t,e),(n=t[0])==null||n.resume()}}}function N1(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function XH(t){return t.filter(e=>e.tagName!=="A")}var ig=0;function wk(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??k1()),document.body.insertAdjacentElement("beforeend",t[1]??k1()),ig++,()=>{ig===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ig--}},[])}function k1(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Xl="right-scroll-bar-position",Jl="width-before-scroll-bar",JH="with-scroll-bars-hidden",ZH="--removed-body-scroll-bar-size";function og(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function eK(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var tK=typeof window<"u"?p.useLayoutEffect:p.useEffect,D1=new WeakMap;function _k(t,e){var n=eK(e||null,function(r){return t.forEach(function(s){return og(s,r)})});return tK(function(){var r=D1.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||og(a,null)}),i.forEach(function(a){s.has(a)||og(a,o)})}D1.set(n,t)},[t]),n}function nK(t){return t}function rK(t,e){e===void 0&&(e=nK);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var d=o;o=[],d.forEach(i)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){o.push(d),c()},filter:function(d){return o=o.filter(d),n}}}};return s}function xk(t){t===void 0&&(t={});var e=rK(null);return e.options=zt({async:!0,ssr:!1},t),e}var Ek=function(t){var e=t.sideCar,n=Na(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,zt({},n))};Ek.isSideCarExport=!0;function Tk(t,e){return t.useMedium(e),Ek}var bk=xk(),ag=function(){},fp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:ag,onWheelCapture:ag,onTouchMoveCapture:ag}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,g=t.noRelative,w=t.noIsolation,y=t.inert,T=t.allowPinchZoom,E=t.as,_=E===void 0?"div":E,x=t.gapMode,I=Na(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=m,O=_k([n,e]),C=zt(zt({},I),s);return p.createElement(p.Fragment,null,d&&p.createElement(k,{sideCar:bk,removeScrollBar:c,shards:f,noRelative:g,noIsolation:w,inert:y,setCallbacks:i,allowPinchZoom:!!T,lockRef:n,gapMode:x}),o?p.cloneElement(p.Children.only(a),zt(zt({},C),{ref:O})):p.createElement(_,zt({},C,{className:l,ref:O}),a))});fp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fp.classNames={fullWidth:Jl,zeroRight:Xl};var M1,sK=function(){if(M1)return M1;if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function iK(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=sK();return e&&t.setAttribute("nonce",e),t}function oK(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function aK(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var lK=function(){var t=0,e=null;return{add:function(n){t==0&&(e=iK())&&(oK(e,n),aK(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},cK=function(){var t=lK();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},Gw=function(){var t=cK(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},uK={left:0,top:0,right:0,gap:0},lg=function(t){return parseInt(t||"",10)||0},dK=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[lg(n),lg(r),lg(s)]},fK=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return uK;var e=dK(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hK=Gw(),ta="data-scroll-locked",pK=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(JH,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(ta,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Jl,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Xl," .").concat(Xl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Jl," .").concat(Jl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ta,`] {
    `).concat(ZH,": ").concat(a,`px;
  }
`)},O1=function(){var t=parseInt(document.body.getAttribute(ta)||"0",10);return isFinite(t)?t:0},mK=function(){p.useEffect(function(){return document.body.setAttribute(ta,(O1()+1).toString()),function(){var t=O1()-1;t<=0?document.body.removeAttribute(ta):document.body.setAttribute(ta,t.toString())}},[])},Sk=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;mK();var i=p.useMemo(function(){return fK(s)},[s]);return p.createElement(hK,{styles:pK(i,!e,s,n?"":"!important")})},sy=!1;if(typeof window<"u")try{var vd=Object.defineProperty({},"passive",{get:function(){return sy=!0,!0}});window.addEventListener("test",vd,vd),window.removeEventListener("test",vd,vd)}catch{sy=!1}var vo=sy?{passive:!1}:!1,gK=function(t){return t.tagName==="TEXTAREA"},Ck=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!gK(t)&&n[e]==="visible")},vK=function(t){return Ck(t,"overflowY")},yK=function(t){return Ck(t,"overflowX")},L1=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=Ik(t,r);if(s){var i=Pk(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wK=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},_K=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},Ik=function(t,e){return t==="v"?vK(e):yK(e)},Pk=function(t,e){return t==="v"?wK(e):_K(e)},xK=function(t,e){return t==="h"&&e==="rtl"?-1:1},EK=function(t,e,n,r,s){var i=xK(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,m=0;do{if(!a)break;var g=Pk(t,a),w=g[0],y=g[1],T=g[2],E=y-T-i*w;(w||E)&&Ik(t,a)&&(f+=E,m+=w);var _=a.parentNode;a=_&&_.nodeType===Node.DOCUMENT_FRAGMENT_NODE?_.host:_}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(s&&Math.abs(f)<1||!s&&o>f)||!d&&(s&&Math.abs(m)<1||!s&&-o>m))&&(c=!0),c},yd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},j1=function(t){return[t.deltaX,t.deltaY]},V1=function(t){return t&&"current"in t?t.current:t},TK=function(t,e){return t[0]===e[0]&&t[1]===e[1]},bK=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SK=0,yo=[];function CK(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(SK++)[0],i=p.useState(Gw)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=ZI([t.lockRef.current],(t.shards||[]).map(V1),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(y,T){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var E=yd(y),_=n.current,x="deltaX"in y?y.deltaX:_[0]-E[0],I="deltaY"in y?y.deltaY:_[1]-E[1],k,O=y.target,C=Math.abs(x)>Math.abs(I)?"h":"v";if("touches"in y&&C==="h"&&O.type==="range")return!1;var S=L1(C,O);if(!S)return!0;if(S?k=C:(k=C==="v"?"h":"v",S=L1(C,O)),!S)return!1;if(!r.current&&"changedTouches"in y&&(x||I)&&(r.current=k),!k)return!0;var P=r.current||k;return EK(P,T,y,P==="h"?x:I,!0)},[]),l=p.useCallback(function(y){var T=y;if(!(!yo.length||yo[yo.length-1]!==i)){var E="deltaY"in T?j1(T):yd(T),_=e.current.filter(function(k){return k.name===T.type&&(k.target===T.target||T.target===k.shadowParent)&&TK(k.delta,E)})[0];if(_&&_.should){T.cancelable&&T.preventDefault();return}if(!_){var x=(o.current.shards||[]).map(V1).filter(Boolean).filter(function(k){return k.contains(T.target)}),I=x.length>0?a(T,x[0]):!o.current.noIsolation;I&&T.cancelable&&T.preventDefault()}}},[]),c=p.useCallback(function(y,T,E,_){var x={name:y,delta:T,target:E,should:_,shadowParent:IK(E)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(I){return I!==x})},1)},[]),d=p.useCallback(function(y){n.current=yd(y),r.current=void 0},[]),f=p.useCallback(function(y){c(y.type,j1(y),y.target,a(y,t.lockRef.current))},[]),m=p.useCallback(function(y){c(y.type,yd(y),y.target,a(y,t.lockRef.current))},[]);p.useEffect(function(){return yo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,vo),document.addEventListener("touchmove",l,vo),document.addEventListener("touchstart",d,vo),function(){yo=yo.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,vo),document.removeEventListener("touchmove",l,vo),document.removeEventListener("touchstart",d,vo)}},[]);var g=t.removeScrollBar,w=t.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:bK(s)}):null,g?p.createElement(Sk,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function IK(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const PK=Tk(bk,CK);var Ak=p.forwardRef(function(t,e){return p.createElement(fp,zt({},t,{ref:e,sideCar:PK}))});Ak.classNames=fp.classNames;const Rk=Ak;var AK=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},wo=new WeakMap,wd=new WeakMap,_d={},cg=0,Nk=function(t){return t&&(t.host||Nk(t.parentNode))},RK=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=Nk(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},NK=function(t,e,n,r){var s=RK(e,Array.isArray(t)?t:[t]);_d[n]||(_d[n]=new WeakMap);var i=_d[n],o=[],a=new Set,l=new Set(s),c=function(f){!f||a.has(f)||(a.add(f),c(f.parentNode))};s.forEach(c);var d=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))d(m);else try{var g=m.getAttribute(r),w=g!==null&&g!=="false",y=(wo.get(m)||0)+1,T=(i.get(m)||0)+1;wo.set(m,y),i.set(m,T),o.push(m),y===1&&w&&wd.set(m,!0),T===1&&m.setAttribute(n,"true"),w||m.setAttribute(r,"true")}catch(E){console.error("aria-hidden: cannot operate on ",m,E)}})};return d(e),a.clear(),cg++,function(){o.forEach(function(f){var m=wo.get(f)-1,g=i.get(f)-1;wo.set(f,m),i.set(f,g),m||(wd.has(f)||f.removeAttribute(r),wd.delete(f)),g||f.removeAttribute(n)}),cg--,cg||(wo=new WeakMap,wo=new WeakMap,wd=new WeakMap,_d={})}},qw=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=e||AK(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),NK(r,s,n,"aria-hidden")):function(){return null}},hp="Dialog",[kk,Dk]=tr(hp),[kK,rr]=kk(hp),Mk=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[c,d]=$a({prop:r,defaultProp:s??!1,onChange:i,caller:hp});return h.jsx(kK,{scope:e,triggerRef:a,contentRef:l,contentId:Di(),titleId:Di(),descriptionId:Di(),open:c,onOpenChange:d,onOpenToggle:p.useCallback(()=>d(f=>!f),[d]),modal:o,children:n})};Mk.displayName=hp;var Ok="DialogTrigger",Lk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Ok,n),i=nt(e,s.triggerRef);return h.jsx(_e.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Xw(s.open),...r,ref:i,onClick:le(t.onClick,s.onOpenToggle)})});Lk.displayName=Ok;var Qw="DialogPortal",[DK,jk]=kk(Qw,{forceMount:void 0}),Vk=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=rr(Qw,e);return h.jsx(DK,{scope:e,forceMount:n,children:p.Children.map(r,o=>h.jsx(nr,{present:n||i.open,children:h.jsx(Jh,{asChild:!0,container:s,children:o})}))})};Vk.displayName=Qw;var eh="DialogOverlay",$k=p.forwardRef((t,e)=>{const n=jk(eh,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rr(eh,t.__scopeDialog);return i.modal?h.jsx(nr,{present:r||i.open,children:h.jsx(OK,{...s,ref:e})}):null});$k.displayName=eh;var MK=_a("DialogOverlay.RemoveScroll"),OK=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(eh,n);return h.jsx(Rk,{as:MK,allowPinchZoom:!0,shards:[s.contentRef],children:h.jsx(_e.div,{"data-state":Xw(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ki="DialogContent",Fk=p.forwardRef((t,e)=>{const n=jk(Ki,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=rr(Ki,t.__scopeDialog);return h.jsx(nr,{present:r||i.open,children:i.modal?h.jsx(LK,{...s,ref:e}):h.jsx(jK,{...s,ref:e})})});Fk.displayName=Ki;var LK=p.forwardRef((t,e)=>{const n=rr(Ki,t.__scopeDialog),r=p.useRef(null),s=nt(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return qw(i)},[]),h.jsx(Uk,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:le(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:le(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:le(t.onFocusOutside,i=>i.preventDefault())})}),jK=p.forwardRef((t,e)=>{const n=rr(Ki,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return h.jsx(Uk,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),Uk=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=rr(Ki,n),l=p.useRef(null),c=nt(e,l);return wk(),h.jsxs(h.Fragment,{children:[h.jsx(Kw,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:h.jsx(Xh,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Xw(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),h.jsxs(h.Fragment,{children:[h.jsx($K,{titleId:a.titleId}),h.jsx(UK,{contentRef:l,descriptionId:a.descriptionId})]})]})}),Yw="DialogTitle",Bk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Yw,n);return h.jsx(_e.h2,{id:s.titleId,...r,ref:e})});Bk.displayName=Yw;var zk="DialogDescription",Wk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(zk,n);return h.jsx(_e.p,{id:s.descriptionId,...r,ref:e})});Wk.displayName=zk;var Hk="DialogClose",Kk=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=rr(Hk,n);return h.jsx(_e.button,{type:"button",...r,ref:e,onClick:le(t.onClick,()=>s.onOpenChange(!1))})});Kk.displayName=Hk;function Xw(t){return t?"open":"closed"}var Gk="DialogTitleWarning",[VK,qk]=yB(Gk,{contentName:Ki,titleName:Yw,docsSlug:"dialog"}),$K=({titleId:t})=>{const e=qk(Gk),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},FK="DialogDescriptionWarning",UK=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qk(FK).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Qk=Mk,Yk=Lk,Xk=Vk,Jw=$k,Zw=Fk,e_=Bk,t_=Wk,pp=Kk;const Gi=Qk,th=Yk,BK=Xk,zK=pp,Jk=Q.forwardRef(({className:t,...e},n)=>h.jsx(Jw,{ref:n,className:se("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Jk.displayName=Jw.displayName;const Js=Q.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(BK,{children:[h.jsx(Jk,{}),h.jsxs(Zw,{ref:r,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","max-h-[90vh] flex flex-col",t),...n,children:[e,h.jsxs(pp,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[h.jsx(zR,{className:"h-4 w-4"}),h.jsx("span",{className:"sr-only",children:"إغلاق"})]})]})]}));Js.displayName=Zw.displayName;const Zs=({className:t,...e})=>h.jsx("div",{className:se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Zs.displayName="DialogHeader";const mp=({className:t,...e})=>h.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 mt-auto pt-4",t),...e});mp.displayName="DialogFooter";const ei=Q.forwardRef(({className:t,...e},n)=>h.jsx(e_,{ref:n,className:se("text-lg font-semibold leading-none tracking-tight",t),...e}));ei.displayName=e_.displayName;const qi=Q.forwardRef(({className:t,...e},n)=>h.jsx(t_,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));qi.displayName=t_.displayName;const $1="https://storage.googleapis.com/hostinger-horizons-assets-prod/3760d6a6-ab96-447b-8deb-dbeb7cec4327/ddb9811d5f3df3eb28c2f555087dd5ba.jpg",F1=()=>{const[t,e]=p.useState(!1),[n,r]=p.useState(!1),[s,i]=p.useState({email:"",password:""}),[o,a]=p.useState({email:"",password:"",name:"",role:"student"}),{login:l,register:c}=Va(),d=async m=>{m.preventDefault();try{await l(s.email,s.password),e(!1)}catch(g){console.error("Login error:",g)}},f=async m=>{m.preventDefault();try{await c(o.email,o.password,o.role,o.name),r(!1)}catch(g){console.error("Register error:",g)}};return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 pattern-bg",children:[h.jsx("header",{className:"py-4 bg-white/80 backdrop-blur-sm shadow-sm sticky top-0 z-50",children:h.jsx("div",{className:"container mx-auto px-4 flex justify-between items-center",children:h.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[h.jsx("img",{src:$1,alt:"شعار منصة مهارات التعليمية",className:"h-12 w-auto"}),h.jsx("span",{className:"text-2xl font-bold gradient-text",children:"منصة مهارات التعليمية"})]})})}),h.jsxs("div",{className:"relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-blue-600/20"}),h.jsx("div",{className:"relative container mx-auto px-4 py-20",children:h.jsxs(Ue.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center",children:[h.jsx(Ue.div,{className:"inline-block mb-6",animate:{rotate:[0,5,-5,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},children:h.jsx("img",{src:$1,alt:"شعار منصة مهارات التعليمية يتأرجح",className:"w-32 h-32 mx-auto rounded-full shadow-lg"})}),h.jsx("h1",{className:"text-5xl md:text-6xl font-bold mb-6 gradient-text",children:"مرحباً بك في منصة مهارات التعليمية"}),h.jsx("p",{className:"text-xl md:text-2xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"ابدأ رحلتك التعليمية باسلوب تفاعلي مع احدث تطبيقات الذكاء الاصطناعي"}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[h.jsxs(Gi,{open:t,onOpenChange:e,children:[h.jsx(th,{asChild:!0,children:h.jsxs(he,{size:"lg",className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 text-white px-8 py-4 text-lg rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:[h.jsx(xw,{className:"w-5 h-5 ml-2"}),"تسجيل الدخول"]})}),h.jsxs(Js,{className:"sm:max-w-md",children:[h.jsxs(Zs,{children:[h.jsx(ei,{className:"text-center text-2xl gradient-text",children:"تسجيل الدخول"}),h.jsx(qi,{className:"text-center",children:"ادخل بياناتك للوصول إلى المنصة"})]}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"login-email",children:"البريد الإلكتروني"}),h.jsx(ze,{id:"login-email",type:"email",value:s.email,onChange:m=>i({...s,email:m.target.value}),required:!0,className:"mt-1"})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"login-password",children:"كلمة المرور"}),h.jsx(ze,{id:"login-password",type:"password",value:s.password,onChange:m=>i({...s,password:m.target.value}),required:!0,className:"mt-1"})]}),h.jsx(he,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600",children:"دخول"})]})]})]}),h.jsxs(Gi,{open:n,onOpenChange:r,children:[h.jsx(th,{asChild:!0,children:h.jsxs(he,{variant:"outline",size:"lg",className:"border-2 border-purple-600 text-purple-600 hover:bg-purple-600 hover:text-white px-8 py-4 text-lg rounded-full transition-all duration-300",children:[h.jsx(Eb,{className:"w-5 h-5 ml-2"}),"إنشاء حساب جديد"]})}),h.jsxs(Js,{className:"sm:max-w-md",children:[h.jsxs(Zs,{children:[h.jsx(ei,{className:"text-center text-2xl gradient-text",children:"إنشاء حساب جديد"}),h.jsx(qi,{className:"text-center",children:"انضم إلى منصة مهارات التعليمية"})]}),h.jsxs("form",{onSubmit:f,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"register-name",children:"الاسم الكامل"}),h.jsx(ze,{id:"register-name",type:"text",value:o.name,onChange:m=>a({...o,name:m.target.value}),required:!0,className:"mt-1"})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"register-email",children:"البريد الإلكتروني"}),h.jsx(ze,{id:"register-email",type:"email",value:o.email,onChange:m=>a({...o,email:m.target.value}),required:!0,className:"mt-1"})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"register-password",children:"كلمة المرور"}),h.jsx(ze,{id:"register-password",type:"password",value:o.password,onChange:m=>a({...o,password:m.target.value}),required:!0,className:"mt-1"})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"register-role",children:"نوع الحساب"}),h.jsxs("select",{id:"register-role",value:o.role,onChange:m=>a({...o,role:m.target.value}),className:"w-full mt-1 p-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-purple-500 focus:border-transparent",children:[h.jsx("option",{value:"student",children:"طالب"}),h.jsx("option",{value:"teacher",children:"معلم"})]})]}),h.jsx(he,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600",children:"إنشاء الحساب"})]})]})]})]})]})})]}),h.jsx("div",{className:"py-20 bg-white/50 backdrop-blur-sm",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs(Ue.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 gradient-text",children:"لماذا منصة مهارات؟"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"نقدم تجربة تعليمية متكاملة تجمع بين التعليم التقليدي والذكاء الاصطناعي"})]}),h.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:np,title:"دروس تفاعلية",description:"دروس فيديو عالية الجودة مع ملفات PDF تفاعلية",color:"from-blue-500 to-cyan-500"},{icon:Rc,title:"تعلم جماعي",description:"بيئة تعليمية تفاعلية بين المعلم والطلاب",color:"from-purple-500 to-pink-500"},{icon:tp,title:"اختبارات ذكية",description:"اختبارات ذاتية التصحيح مع تتبع التقدم",color:"from-green-500 to-emerald-500"}].map((m,g)=>h.jsx(Ue.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8,delay:g*.2},viewport:{once:!0},children:h.jsxs(Ge,{className:"card-hover glass-effect border-0 shadow-xl h-full",children:[h.jsxs(ut,{className:"text-center",children:[h.jsx("div",{className:`w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r ${m.color} flex items-center justify-center`,children:h.jsx(m.icon,{className:"w-8 h-8 text-white"})}),h.jsx(dt,{className:"text-xl font-bold",children:m.title})]}),h.jsx(qe,{children:h.jsx(mn,{className:"text-center text-gray-600",children:m.description})})]})},g))})]})}),h.jsx("div",{className:"py-20 bg-gradient-to-r from-purple-600/10 to-blue-600/10",children:h.jsx("div",{className:"container mx-auto px-4",children:h.jsxs(Ue.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},transition:{duration:.8},viewport:{once:!0},className:"text-center",children:[h.jsx("div",{className:"inline-block p-4 bg-gradient-to-r from-purple-600 to-blue-600 rounded-full mb-6",children:h.jsx(Eb,{className:"w-12 h-12 text-white animate-pulse-slow"})}),h.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 gradient-text",children:"مدعوم بالذكاء الاصطناعي"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto mb-8",children:"استفيد من احدث تطبيقات الذكاء الاصطناعي فى التعليم مع تطبيقات magic school المدمجة في المنصة"}),h.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl p-8 max-w-4xl mx-auto shadow-2xl",children:[h.jsx("img",{class:"w-full h-64 object-cover rounded-xl mb-6",alt:"AI-powered learning interface",src:"https://images.unsplash.com/photo-1678995635432-d9e89c7a8fc5"}),h.jsx("p",{className:"text-gray-700 text-lg",children:"تجربة تعليمية ذكية تتكيف مع احتياجاتك وتساعدك على تحقيق أهدافك التعليمية بكفاءة عالية"})]})]})})}),h.jsx("div",{className:"py-20 bg-white/50 backdrop-blur-sm",children:h.jsxs("div",{className:"container mx-auto px-4",children:[h.jsxs(Ue.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},transition:{duration:.8},viewport:{once:!0},className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl md:text-5xl font-bold mb-6 gradient-text",children:"تواصل معنا"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"نحن هنا لمساعدتك! لا تتردد في التواصل معنا لأي استفسارات."})]}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[h.jsx(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.1},viewport:{once:!0},children:h.jsxs(Ge,{className:"card-hover glass-effect border-0 shadow-xl text-center h-full",children:[h.jsxs(ut,{children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-blue-500 to-sky-500 flex items-center justify-center",children:h.jsx(v7,{className:"w-8 h-8 text-white"})}),h.jsx(dt,{className:"text-xl font-bold",children:"فيسبوك"})]}),h.jsx(qe,{children:h.jsx(he,{asChild:!0,variant:"link",className:"text-lg text-blue-600 hover:text-blue-700 p-0",children:h.jsx("a",{href:"https://web.facebook.com/maharet.edu",target:"_blank",rel:"noopener noreferrer",children:"maharet.edu"})})})]})}),h.jsx(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.2},viewport:{once:!0},children:h.jsxs(Ge,{className:"card-hover glass-effect border-0 shadow-xl text-center h-full",children:[h.jsxs(ut,{children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-green-500 to-emerald-500 flex items-center justify-center",children:h.jsx(E7,{className:"w-8 h-8 text-white"})}),h.jsx(dt,{className:"text-xl font-bold",children:"الهاتف"})]}),h.jsx(qe,{children:h.jsx("a",{href:"tel:01060607654",className:"text-lg text-gray-700 hover:text-green-600",children:"01060607654"})})]})}),h.jsx(Ue.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.5,delay:.3},viewport:{once:!0},children:h.jsxs(Ge,{className:"card-hover glass-effect border-0 shadow-xl text-center h-full",children:[h.jsxs(ut,{children:[h.jsx("div",{className:"w-16 h-16 mx-auto mb-4 rounded-full bg-gradient-to-r from-teal-500 to-cyan-500 flex items-center justify-center",children:h.jsx(_7,{className:"w-8 h-8 text-white"})}),h.jsx(dt,{className:"text-xl font-bold",children:"واتساب"})]}),h.jsx(qe,{children:h.jsx("a",{href:"https://wa.me/201060607654",target:"_blank",rel:"noopener noreferrer",className:"text-lg text-gray-700 hover:text-teal-600",children:"00201060607654"})})]})})]})]})}),h.jsxs("footer",{className:"py-8 text-center text-gray-600 bg-white/70 backdrop-blur-sm border-t",children:[h.jsxs("p",{children:["© ",new Date().getFullYear()," منصة مهارات التعليمية. جميع الحقوق محفوظة."]}),h.jsx("p",{className:"text-sm",children:"تصميم وتطوير بواسطة Hostinger Horizons ✨"})]})]})},WK=({isOpen:t,onClose:e,title:n,url:r,resourceType:s})=>{if(!t||!r)return null;const i=s==="quiz"||s==="finalExam"||s==="meeting";let o=r;if(s==="pdf"&&(r.endsWith(".pdf")||r.includes("drive.google.com/file/d/"))){let a=r;if(r.includes("drive.google.com/file/d/")&&(a=r.replace("/view?usp=sharing","").replace("/edit?usp=sharing",""),!a.includes("/preview"))){const l=r.split("/"),c=l[l.indexOf("d")+1];c&&(a=`https://drive.google.com/file/d/${c}/preview`)}o=`https://docs.google.com/gview?url=${encodeURIComponent(a)}&embedded=true`}return s==="pdf"&&r.includes("drive.google.com")&&!r.includes("usp=sharing")&&r.includes("/preview"),h.jsx(Gi,{open:t,onOpenChange:e,children:h.jsxs(Js,{className:"sm:max-w-3xl h-[85vh] flex flex-col",children:[h.jsxs(Zs,{children:[h.jsx(ei,{className:"text-xl gradient-text-alt",children:n}),h.jsx(qi,{children:s==="pdf"?"يتم محاولة عرض ملف PDF. إذا لم يظهر بشكل صحيح أو ظهرت رسالة خطأ (مثل 'لا يوجد إذن وصول')، قد يكون السبب أن الملف غير متاح للمشاركة العامة أو أن الرابط يتطلب تسجيل دخول. جرب 'فتح في تبويب جديد'.":i?"يتم عرض هذا المحتوى من موقع خارجي. قد تحتاج إلى التفاعل مباشرة مع النافذة أدناه.":"عرض المورد."})]}),h.jsx("div",{className:"flex-grow overflow-auto py-4 border rounded-md my-2",children:h.jsx("iframe",{src:o,width:"100%",height:"100%",className:"border-0",title:n,allowFullScreen:!0,sandbox:"allow-scripts allow-same-origin allow-forms allow-popups"})}),h.jsxs(mp,{className:"sm:justify-between mt-auto",children:[h.jsxs(he,{variant:"outline",onClick:()=>window.open(r,"_blank","noopener,noreferrer"),children:[h.jsx(Qs,{className:"w-4 h-4 ml-2"}),"فتح في تبويب جديد"]}),h.jsx(zK,{asChild:!0,children:h.jsx(he,{type:"button",variant:"secondary",children:"إغلاق"})})]})]})})};var HK=p.createContext(void 0);function n_(t){const e=p.useContext(HK);return t||e||"ltr"}const KK=["top","right","bottom","left"],ti=Math.min,yn=Math.max,nh=Math.round,xd=Math.floor,yr=t=>({x:t,y:t}),GK={left:"right",right:"left",bottom:"top",top:"bottom"},qK={start:"end",end:"start"};function iy(t,e,n){return yn(t,ti(e,n))}function Jr(t,e){return typeof t=="function"?t(e):t}function Zr(t){return t.split("-")[0]}function Fa(t){return t.split("-")[1]}function r_(t){return t==="x"?"y":"x"}function s_(t){return t==="y"?"height":"width"}function cr(t){return["top","bottom"].includes(Zr(t))?"y":"x"}function i_(t){return r_(cr(t))}function QK(t,e,n){n===void 0&&(n=!1);const r=Fa(t),s=i_(t),i=s_(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=rh(o)),[o,rh(o)]}function YK(t){const e=rh(t);return[oy(t),e,oy(e)]}function oy(t){return t.replace(/start|end/g,e=>qK[e])}function XK(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function JK(t,e,n,r){const s=Fa(t);let i=XK(Zr(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(oy)))),i}function rh(t){return t.replace(/left|right|bottom|top/g,e=>GK[e])}function ZK(t){return{top:0,right:0,bottom:0,left:0,...t}}function Zk(t){return typeof t!="number"?ZK(t):{top:t,right:t,bottom:t,left:t}}function sh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function U1(t,e,n){let{reference:r,floating:s}=t;const i=cr(e),o=i_(e),a=s_(o),l=Zr(e),c=i==="y",d=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:d,y:r.y-s.height};break;case"bottom":g={x:d,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(Fa(e)){case"start":g[o]-=m*(n&&c?-1:1);break;case"end":g[o]+=m*(n&&c?-1:1);break}return g}const eG=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:d,y:f}=U1(c,r,l),m=r,g={},w=0;for(let y=0;y<a.length;y++){const{name:T,fn:E}=a[y],{x:_,y:x,data:I,reset:k}=await E({x:d,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:c,platform:o,elements:{reference:t,floating:e}});d=_??d,f=x??f,g={...g,[T]:{...g[T],...I}},k&&w<=50&&(w++,typeof k=="object"&&(k.placement&&(m=k.placement),k.rects&&(c=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x:d,y:f}=U1(c,m,l)),y=-1)}return{x:d,y:f,placement:m,strategy:s,middlewareData:g}};async function Mc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=Jr(e,t),w=Zk(g),T=a[m?f==="floating"?"reference":"floating":f],E=sh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(T)))==null||n?T:T.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),_=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),I=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},k=sh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:_,offsetParent:x,strategy:l}):_);return{top:(E.top-k.top+w.top)/I.y,bottom:(k.bottom-E.bottom+w.bottom)/I.y,left:(E.left-k.left+w.left)/I.x,right:(k.right-E.right+w.right)/I.x}}const tG=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:d=0}=Jr(t,e)||{};if(c==null)return{};const f=Zk(d),m={x:n,y:r},g=i_(s),w=s_(g),y=await o.getDimensions(c),T=g==="y",E=T?"top":"left",_=T?"bottom":"right",x=T?"clientHeight":"clientWidth",I=i.reference[w]+i.reference[g]-m[g]-i.floating[w],k=m[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let C=O?O[x]:0;(!C||!await(o.isElement==null?void 0:o.isElement(O)))&&(C=a.floating[x]||i.floating[w]);const S=I/2-k/2,P=C/2-y[w]/2-1,A=ti(f[E],P),D=ti(f[_],P),M=A,N=C-y[w]-D,F=C/2-y[w]/2+S,X=iy(M,F,N),G=!l.arrow&&Fa(s)!=null&&F!==X&&i.reference[w]/2-(F<M?A:D)-y[w]/2<0,J=G?F<M?F-M:F-N:0;return{[g]:m[g]+J,data:{[g]:X,centerOffset:F-X-J,...G&&{alignmentOffset:J}},reset:G}}}),nG=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:y=!0,...T}=Jr(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const E=Zr(s),_=cr(a),x=Zr(a)===a,I=await(l.isRTL==null?void 0:l.isRTL(c.floating)),k=m||(x||!y?[rh(a)]:YK(a)),O=w!=="none";!m&&O&&k.push(...JK(a,y,w,I));const C=[a,...k],S=await Mc(e,T),P=[];let A=((r=i.flip)==null?void 0:r.overflows)||[];if(d&&P.push(S[E]),f){const F=QK(s,o,I);P.push(S[F[0]],S[F[1]])}if(A=[...A,{placement:s,overflows:P}],!P.every(F=>F<=0)){var D,M;const F=(((D=i.flip)==null?void 0:D.index)||0)+1,X=C[F];if(X&&(!(f==="alignment"?_!==cr(X):!1)||A.every(V=>V.overflows[0]>0&&cr(V.placement)===_)))return{data:{index:F,overflows:A},reset:{placement:X}};let G=(M=A.filter(J=>J.overflows[0]<=0).sort((J,V)=>J.overflows[1]-V.overflows[1])[0])==null?void 0:M.placement;if(!G)switch(g){case"bestFit":{var N;const J=(N=A.filter(V=>{if(O){const L=cr(V.placement);return L===_||L==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(L=>L>0).reduce((L,z)=>L+z,0)]).sort((V,L)=>V[1]-L[1])[0])==null?void 0:N[0];J&&(G=J);break}case"initialPlacement":G=a;break}if(s!==G)return{reset:{placement:G}}}return{}}}};function B1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function z1(t){return KK.some(e=>t[e]>=0)}const rG=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Jr(t,e);switch(r){case"referenceHidden":{const i=await Mc(e,{...s,elementContext:"reference"}),o=B1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:z1(o)}}}case"escaped":{const i=await Mc(e,{...s,altBoundary:!0}),o=B1(i,n.floating);return{data:{escapedOffsets:o,escaped:z1(o)}}}default:return{}}}}};async function sG(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Zr(n),a=Fa(n),l=cr(n)==="y",c=["left","top"].includes(o)?-1:1,d=i&&l?-1:1,f=Jr(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:w}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof w=="number"&&(g=a==="end"?w*-1:w),l?{x:g*d,y:m*c}:{x:m*c,y:g*d}}const iG=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await sG(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},oG=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:T=>{let{x:E,y:_}=T;return{x:E,y:_}}},...l}=Jr(t,e),c={x:n,y:r},d=await Mc(e,l),f=cr(Zr(s)),m=r_(f);let g=c[m],w=c[f];if(i){const T=m==="y"?"top":"left",E=m==="y"?"bottom":"right",_=g+d[T],x=g-d[E];g=iy(_,g,x)}if(o){const T=f==="y"?"top":"left",E=f==="y"?"bottom":"right",_=w+d[T],x=w-d[E];w=iy(_,w,x)}const y=a.fn({...e,[m]:g,[f]:w});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[m]:i,[f]:o}}}}}},aG=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Jr(t,e),d={x:n,y:r},f=cr(s),m=r_(f);let g=d[m],w=d[f];const y=Jr(a,e),T=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const x=m==="y"?"height":"width",I=i.reference[m]-i.floating[x]+T.mainAxis,k=i.reference[m]+i.reference[x]-T.mainAxis;g<I?g=I:g>k&&(g=k)}if(c){var E,_;const x=m==="y"?"width":"height",I=["top","left"].includes(Zr(s)),k=i.reference[f]-i.floating[x]+(I&&((E=o.offset)==null?void 0:E[f])||0)+(I?0:T.crossAxis),O=i.reference[f]+i.reference[x]+(I?0:((_=o.offset)==null?void 0:_[f])||0)-(I?T.crossAxis:0);w<k?w=k:w>O&&(w=O)}return{[m]:g,[f]:w}}}},lG=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Jr(t,e),d=await Mc(e,c),f=Zr(s),m=Fa(s),g=cr(s)==="y",{width:w,height:y}=i.floating;let T,E;f==="top"||f==="bottom"?(T=f,E=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(E=f,T=m==="end"?"top":"bottom");const _=y-d.top-d.bottom,x=w-d.left-d.right,I=ti(y-d[T],_),k=ti(w-d[E],x),O=!e.middlewareData.shift;let C=I,S=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=_),O&&!m){const A=yn(d.left,0),D=yn(d.right,0),M=yn(d.top,0),N=yn(d.bottom,0);g?S=w-2*(A!==0||D!==0?A+D:yn(d.left,d.right)):C=y-2*(M!==0||N!==0?M+N:yn(d.top,d.bottom))}await l({...e,availableWidth:S,availableHeight:C});const P=await o.getDimensions(a.floating);return w!==P.width||y!==P.height?{reset:{rects:!0}}:{}}}};function gp(){return typeof window<"u"}function Ua(t){return e2(t)?(t.nodeName||"").toLowerCase():"#document"}function Tn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Sr(t){var e;return(e=(e2(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function e2(t){return gp()?t instanceof Node||t instanceof Tn(t).Node:!1}function Zn(t){return gp()?t instanceof Element||t instanceof Tn(t).Element:!1}function Er(t){return gp()?t instanceof HTMLElement||t instanceof Tn(t).HTMLElement:!1}function W1(t){return!gp()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tn(t).ShadowRoot}function vu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=er(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function cG(t){return["table","td","th"].includes(Ua(t))}function vp(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function o_(t){const e=a_(),n=Zn(t)?er(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function uG(t){let e=ni(t);for(;Er(e)&&!Ta(e);){if(o_(e))return e;if(vp(e))return null;e=ni(e)}return null}function a_(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ta(t){return["html","body","#document"].includes(Ua(t))}function er(t){return Tn(t).getComputedStyle(t)}function yp(t){return Zn(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ni(t){if(Ua(t)==="html")return t;const e=t.assignedSlot||t.parentNode||W1(t)&&t.host||Sr(t);return W1(e)?e.host:e}function t2(t){const e=ni(t);return Ta(e)?t.ownerDocument?t.ownerDocument.body:t.body:Er(e)&&vu(e)?e:t2(e)}function Oc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=t2(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Tn(s);if(i){const a=ay(o);return e.concat(o,o.visualViewport||[],vu(s)?s:[],a&&n?Oc(a):[])}return e.concat(s,Oc(s,[],n))}function ay(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function n2(t){const e=er(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Er(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=nh(n)!==i||nh(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function l_(t){return Zn(t)?t:t.contextElement}function na(t){const e=l_(t);if(!Er(e))return yr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=n2(e);let o=(i?nh(n.width):n.width)/r,a=(i?nh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const dG=yr(0);function r2(t){const e=Tn(t);return!a_()||!e.visualViewport?dG:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function fG(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Tn(t)?!1:e}function Qi(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=l_(t);let o=yr(1);e&&(r?Zn(r)&&(o=na(r)):o=na(t));const a=fG(i,n,r)?r2(i):yr(0);let l=(s.left+a.x)/o.x,c=(s.top+a.y)/o.y,d=s.width/o.x,f=s.height/o.y;if(i){const m=Tn(i),g=r&&Zn(r)?Tn(r):r;let w=m,y=ay(w);for(;y&&r&&g!==w;){const T=na(y),E=y.getBoundingClientRect(),_=er(y),x=E.left+(y.clientLeft+parseFloat(_.paddingLeft))*T.x,I=E.top+(y.clientTop+parseFloat(_.paddingTop))*T.y;l*=T.x,c*=T.y,d*=T.x,f*=T.y,l+=x,c+=I,w=Tn(y),y=ay(w)}}return sh({width:d,height:f,x:l,y:c})}function c_(t,e){const n=yp(t).scrollLeft;return e?e.left+n:Qi(Sr(t)).left+n}function s2(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:c_(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function hG(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=Sr(r),a=e?vp(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},c=yr(1);const d=yr(0),f=Er(r);if((f||!f&&!i)&&((Ua(r)!=="body"||vu(o))&&(l=yp(r)),Er(r))){const g=Qi(r);c=na(r),d.x=g.x+r.clientLeft,d.y=g.y+r.clientTop}const m=o&&!f&&!i?s2(o,l,!0):yr(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+m.x,y:n.y*c.y-l.scrollTop*c.y+d.y+m.y}}function pG(t){return Array.from(t.getClientRects())}function mG(t){const e=Sr(t),n=yp(t),r=t.ownerDocument.body,s=yn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=yn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+c_(t);const a=-n.scrollTop;return er(r).direction==="rtl"&&(o+=yn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function gG(t,e){const n=Tn(t),r=Sr(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const c=a_();(!c||c&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}function vG(t,e){const n=Qi(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Er(t)?na(t):yr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,c=r*i.y;return{width:o,height:a,x:l,y:c}}function H1(t,e,n){let r;if(e==="viewport")r=gG(t,n);else if(e==="document")r=mG(Sr(t));else if(Zn(e))r=vG(e,n);else{const s=r2(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return sh(r)}function i2(t,e){const n=ni(t);return n===e||!Zn(n)||Ta(n)?!1:er(n).position==="fixed"||i2(n,e)}function yG(t,e){const n=e.get(t);if(n)return n;let r=Oc(t,[],!1).filter(a=>Zn(a)&&Ua(a)!=="body"),s=null;const i=er(t).position==="fixed";let o=i?ni(t):t;for(;Zn(o)&&!Ta(o);){const a=er(o),l=o_(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||vu(o)&&!l&&i2(t,o))?r=r.filter(d=>d!==o):s=a,o=ni(o)}return e.set(t,r),r}function wG(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?vp(e)?[]:yG(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,d)=>{const f=H1(e,d,s);return c.top=yn(f.top,c.top),c.right=ti(f.right,c.right),c.bottom=ti(f.bottom,c.bottom),c.left=yn(f.left,c.left),c},H1(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function _G(t){const{width:e,height:n}=n2(t);return{width:e,height:n}}function xG(t,e,n){const r=Er(e),s=Sr(e),i=n==="fixed",o=Qi(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=yr(0);function c(){l.x=c_(s)}if(r||!r&&!i)if((Ua(e)!=="body"||vu(s))&&(a=yp(e)),r){const g=Qi(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&c();i&&!r&&s&&c();const d=s&&!r&&!i?s2(s,a):yr(0),f=o.left+a.scrollLeft-l.x-d.x,m=o.top+a.scrollTop-l.y-d.y;return{x:f,y:m,width:o.width,height:o.height}}function ug(t){return er(t).position==="static"}function K1(t,e){if(!Er(t)||er(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Sr(t)===n&&(n=n.ownerDocument.body),n}function o2(t,e){const n=Tn(t);if(vp(t))return n;if(!Er(t)){let s=ni(t);for(;s&&!Ta(s);){if(Zn(s)&&!ug(s))return s;s=ni(s)}return n}let r=K1(t,e);for(;r&&cG(r)&&ug(r);)r=K1(r,e);return r&&Ta(r)&&ug(r)&&!o_(r)?n:r||uG(t)||n}const EG=async function(t){const e=this.getOffsetParent||o2,n=this.getDimensions,r=await n(t.floating);return{reference:xG(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function TG(t){return er(t).direction==="rtl"}const bG={convertOffsetParentRelativeRectToViewportRelativeRect:hG,getDocumentElement:Sr,getClippingRect:wG,getOffsetParent:o2,getElementRects:EG,getClientRects:pG,getDimensions:_G,getScale:na,isElement:Zn,isRTL:TG};function a2(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function SG(t,e){let n=null,r;const s=Sr(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const c=t.getBoundingClientRect(),{left:d,top:f,width:m,height:g}=c;if(a||e(),!m||!g)return;const w=xd(f),y=xd(s.clientWidth-(d+m)),T=xd(s.clientHeight-(f+g)),E=xd(d),x={rootMargin:-w+"px "+-y+"px "+-T+"px "+-E+"px",threshold:yn(0,ti(1,l))||1};let I=!0;function k(O){const C=O[0].intersectionRatio;if(C!==l){if(!I)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!a2(c,t.getBoundingClientRect())&&o(),I=!1}try{n=new IntersectionObserver(k,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(t)}return o(!0),i}function l2(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=l_(t),d=s||i?[...c?Oc(c):[],...Oc(e)]:[];d.forEach(E=>{s&&E.addEventListener("scroll",n,{passive:!0}),i&&E.addEventListener("resize",n)});const f=c&&a?SG(c,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(E=>{let[_]=E;_&&_.target===c&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(e)})),n()}),c&&!l&&g.observe(c),g.observe(e));let w,y=l?Qi(t):null;l&&T();function T(){const E=Qi(t);y&&!a2(y,E)&&n(),y=E,w=requestAnimationFrame(T)}return n(),()=>{var E;d.forEach(_=>{s&&_.removeEventListener("scroll",n),i&&_.removeEventListener("resize",n)}),f==null||f(),(E=g)==null||E.disconnect(),g=null,l&&cancelAnimationFrame(w)}}const CG=iG,IG=oG,PG=nG,AG=lG,RG=rG,G1=tG,NG=aG,kG=(t,e,n)=>{const r=new Map,s={platform:bG,...n},i={...s.platform,_c:r};return eG(t,e,{...s,platform:i})};var DG=typeof document<"u",MG=function(){},Qd=DG?p.useLayoutEffect:MG;function ih(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ih(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ih(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function c2(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function q1(t,e){const n=c2(t);return Math.round(e*n)/n}function dg(t){const e=p.useRef(t);return Qd(()=>{e.current=t}),e}function u2(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[d,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(r);ih(m,r)||g(r);const[w,y]=p.useState(null),[T,E]=p.useState(null),_=p.useCallback(V=>{V!==O.current&&(O.current=V,y(V))},[]),x=p.useCallback(V=>{V!==C.current&&(C.current=V,E(V))},[]),I=i||w,k=o||T,O=p.useRef(null),C=p.useRef(null),S=p.useRef(d),P=l!=null,A=dg(l),D=dg(s),M=dg(c),N=p.useCallback(()=>{if(!O.current||!C.current)return;const V={placement:e,strategy:n,middleware:m};D.current&&(V.platform=D.current),kG(O.current,C.current,V).then(L=>{const z={...L,isPositioned:M.current!==!1};F.current&&!ih(S.current,z)&&(S.current=z,ns.flushSync(()=>{f(z)}))})},[m,e,n,D,M]);Qd(()=>{c===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(V=>({...V,isPositioned:!1})))},[c]);const F=p.useRef(!1);Qd(()=>(F.current=!0,()=>{F.current=!1}),[]),Qd(()=>{if(I&&(O.current=I),k&&(C.current=k),I&&k){if(A.current)return A.current(I,k,N);N()}},[I,k,N,A,P]);const X=p.useMemo(()=>({reference:O,floating:C,setReference:_,setFloating:x}),[_,x]),G=p.useMemo(()=>({reference:I,floating:k}),[I,k]),J=p.useMemo(()=>{const V={position:n,left:0,top:0};if(!G.floating)return V;const L=q1(G.floating,d.x),z=q1(G.floating,d.y);return a?{...V,transform:"translate("+L+"px, "+z+"px)",...c2(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:z}},[n,a,G.floating,d.x,d.y]);return p.useMemo(()=>({...d,update:N,refs:X,elements:G,floatingStyles:J}),[d,N,X,G,J])}const OG=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?G1({element:r.current,padding:s}).fn(n):{}:r?G1({element:r,padding:s}).fn(n):{}}}},d2=(t,e)=>({...CG(t),options:[t,e]}),f2=(t,e)=>({...IG(t),options:[t,e]}),h2=(t,e)=>({...NG(t),options:[t,e]}),p2=(t,e)=>({...PG(t),options:[t,e]}),m2=(t,e)=>({...AG(t),options:[t,e]}),g2=(t,e)=>({...RG(t),options:[t,e]}),v2=(t,e)=>({...OG(t),options:[t,e]});var LG="Arrow",y2=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return h.jsx(_e.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:h.jsx("polygon",{points:"0,0 30,0 15,10"})})});y2.displayName=LG;var jG=y2;function w2(t){const[e,n]=p.useState(void 0);return jn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var u_="Popper",[_2,x2]=tr(u_),[VG,E2]=_2(u_),T2=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return h.jsx(VG,{scope:e,anchor:r,onAnchorChange:s,children:n})};T2.displayName=u_;var b2="PopperAnchor",S2=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=E2(b2,n),o=p.useRef(null),a=nt(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:h.jsx(_e.div,{...s,ref:a})});S2.displayName=b2;var d_="PopperContent",[$G,FG]=_2(d_),C2=p.forwardRef((t,e)=>{var q,we,xe,ye,me,be;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:w,...y}=t,T=E2(d_,n),[E,_]=p.useState(null),x=nt(e,Qe=>_(Qe)),[I,k]=p.useState(null),O=w2(I),C=(O==null?void 0:O.width)??0,S=(O==null?void 0:O.height)??0,P=r+(i!=="center"?"-"+i:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(c)?c:[c],M=D.length>0,N={padding:A,boundary:D.filter(BG),altBoundary:M},{refs:F,floatingStyles:X,placement:G,isPositioned:J,middlewareData:V}=u2({strategy:"fixed",placement:P,whileElementsMounted:(...Qe)=>l2(...Qe,{animationFrame:g==="always"}),elements:{reference:T.anchor},middleware:[d2({mainAxis:s+S,alignmentAxis:o}),l&&f2({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?h2():void 0,...N}),l&&p2({...N}),m2({...N,apply:({elements:Qe,rects:ft,availableWidth:qt,availableHeight:Fn})=>{const{width:sr,height:za}=ft.reference,Cr=Qe.floating.style;Cr.setProperty("--radix-popper-available-width",`${qt}px`),Cr.setProperty("--radix-popper-available-height",`${Fn}px`),Cr.setProperty("--radix-popper-anchor-width",`${sr}px`),Cr.setProperty("--radix-popper-anchor-height",`${za}px`)}}),I&&v2({element:I,padding:a}),zG({arrowWidth:C,arrowHeight:S}),m&&g2({strategy:"referenceHidden",...N})]}),[L,z]=A2(G),B=hn(w);jn(()=>{J&&(B==null||B())},[J,B]);const Z=(q=V.arrow)==null?void 0:q.x,ne=(we=V.arrow)==null?void 0:we.y,W=((xe=V.arrow)==null?void 0:xe.centerOffset)!==0,[te,ie]=p.useState();return jn(()=>{E&&ie(window.getComputedStyle(E).zIndex)},[E]),h.jsx("div",{ref:F.setFloating,"data-radix-popper-content-wrapper":"",style:{...X,transform:J?X.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(ye=V.transformOrigin)==null?void 0:ye.x,(me=V.transformOrigin)==null?void 0:me.y].join(" "),...((be=V.hide)==null?void 0:be.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:h.jsx($G,{scope:n,placedSide:L,onArrowChange:k,arrowX:Z,arrowY:ne,shouldHideArrow:W,children:h.jsx(_e.div,{"data-side":L,"data-align":z,...y,ref:x,style:{...y.style,animation:J?void 0:"none"}})})})});C2.displayName=d_;var I2="PopperArrow",UG={top:"bottom",right:"left",bottom:"top",left:"right"},P2=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=FG(I2,r),o=UG[i.placedSide];return h.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:h.jsx(jG,{...s,ref:n,style:{...s.style,display:"block"}})})});P2.displayName=I2;function BG(t){return t!==null}var zG=t=>({name:"transformOrigin",options:t,fn(e){var T,E,_;const{placement:n,rects:r,middlewareData:s}=e,o=((T=s.arrow)==null?void 0:T.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,d]=A2(n),f={start:"0%",center:"50%",end:"100%"}[d],m=(((E=s.arrow)==null?void 0:E.x)??0)+a/2,g=(((_=s.arrow)==null?void 0:_.y)??0)+l/2;let w="",y="";return c==="bottom"?(w=o?f:`${m}px`,y=`${-l}px`):c==="top"?(w=o?f:`${m}px`,y=`${r.floating.height+l}px`):c==="right"?(w=`${-l}px`,y=o?f:`${g}px`):c==="left"&&(w=`${r.floating.width+l}px`,y=o?f:`${g}px`),{data:{x:w,y}}}});function A2(t){const[e,n="center"]=t.split("-");return[e,n]}var WG=T2,HG=S2,KG=C2,GG=P2,fg="rovingFocusGroup.onEntryFocus",qG={bubbles:!1,cancelable:!0},yu="RovingFocusGroup",[ly,R2,QG]=fw(yu),[YG,wp]=tr(yu,[QG]),[XG,JG]=YG(yu),N2=p.forwardRef((t,e)=>h.jsx(ly.Provider,{scope:t.__scopeRovingFocusGroup,children:h.jsx(ly.Slot,{scope:t.__scopeRovingFocusGroup,children:h.jsx(ZG,{...t,ref:e})})}));N2.displayName=yu;var ZG=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...f}=t,m=p.useRef(null),g=nt(e,m),w=n_(i),[y,T]=$a({prop:o,defaultProp:a??null,onChange:l,caller:yu}),[E,_]=p.useState(!1),x=hn(c),I=R2(n),k=p.useRef(!1),[O,C]=p.useState(0);return p.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(fg,x),()=>S.removeEventListener(fg,x)},[x]),h.jsx(XG,{scope:n,orientation:r,dir:w,loop:s,currentTabStopId:y,onItemFocus:p.useCallback(S=>T(S),[T]),onItemShiftTab:p.useCallback(()=>_(!0),[]),onFocusableItemAdd:p.useCallback(()=>C(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>C(S=>S-1),[]),children:h.jsx(_e.div,{tabIndex:E||O===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:le(t.onMouseDown,()=>{k.current=!0}),onFocus:le(t.onFocus,S=>{const P=!k.current;if(S.target===S.currentTarget&&P&&!E){const A=new CustomEvent(fg,qG);if(S.currentTarget.dispatchEvent(A),!A.defaultPrevented){const D=I().filter(G=>G.focusable),M=D.find(G=>G.active),N=D.find(G=>G.id===y),X=[M,N,...D].filter(Boolean).map(G=>G.ref.current);M2(X,d)}}k.current=!1}),onBlur:le(t.onBlur,()=>_(!1))})})}),k2="RovingFocusGroupItem",D2=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Di(),c=i||l,d=JG(k2,n),f=d.currentTabStopId===c,m=R2(n),{onFocusableItemAdd:g,onFocusableItemRemove:w,currentTabStopId:y}=d;return p.useEffect(()=>{if(r)return g(),()=>w()},[r,g,w]),h.jsx(ly.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:h.jsx(_e.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...a,ref:e,onMouseDown:le(t.onMouseDown,T=>{r?d.onItemFocus(c):T.preventDefault()}),onFocus:le(t.onFocus,()=>d.onItemFocus(c)),onKeyDown:le(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){d.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const E=nq(T,d.orientation,d.dir);if(E!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let x=m().filter(I=>I.focusable).map(I=>I.ref.current);if(E==="last")x.reverse();else if(E==="prev"||E==="next"){E==="prev"&&x.reverse();const I=x.indexOf(T.currentTarget);x=d.loop?rq(x,I+1):x.slice(I+1)}setTimeout(()=>M2(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:y!=null}):o})})});D2.displayName=k2;var eq={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function tq(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function nq(t,e,n){const r=tq(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return eq[r]}function M2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function rq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var O2=N2,L2=D2,cy=["Enter"," "],sq=["ArrowDown","PageUp","Home"],j2=["ArrowUp","PageDown","End"],iq=[...sq,...j2],oq={ltr:[...cy,"ArrowRight"],rtl:[...cy,"ArrowLeft"]},aq={ltr:["ArrowLeft"],rtl:["ArrowRight"]},wu="Menu",[Lc,lq,cq]=fw(wu),[oo,V2]=tr(wu,[cq,x2,wp]),_p=x2(),$2=wp(),[uq,ao]=oo(wu),[dq,_u]=oo(wu),F2=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=_p(e),[l,c]=p.useState(null),d=p.useRef(!1),f=hn(i),m=n_(s);return p.useEffect(()=>{const g=()=>{d.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>d.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),h.jsx(WG,{...a,children:h.jsx(uq,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:c,children:h.jsx(dq,{scope:e,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:m,modal:o,children:r})})})};F2.displayName=wu;var fq="MenuAnchor",f_=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=_p(n);return h.jsx(HG,{...s,...r,ref:e})});f_.displayName=fq;var h_="MenuPortal",[hq,U2]=oo(h_,{forceMount:void 0}),B2=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=ao(h_,e);return h.jsx(hq,{scope:e,forceMount:n,children:h.jsx(nr,{present:n||i.open,children:h.jsx(Jh,{asChild:!0,container:s,children:r})})})};B2.displayName=h_;var Mn="MenuContent",[pq,p_]=oo(Mn),z2=p.forwardRef((t,e)=>{const n=U2(Mn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ao(Mn,t.__scopeMenu),o=_u(Mn,t.__scopeMenu);return h.jsx(Lc.Provider,{scope:t.__scopeMenu,children:h.jsx(nr,{present:r||i.open,children:h.jsx(Lc.Slot,{scope:t.__scopeMenu,children:o.modal?h.jsx(mq,{...s,ref:e}):h.jsx(gq,{...s,ref:e})})})})}),mq=p.forwardRef((t,e)=>{const n=ao(Mn,t.__scopeMenu),r=p.useRef(null),s=nt(e,r);return p.useEffect(()=>{const i=r.current;if(i)return qw(i)},[]),h.jsx(m_,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:le(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),gq=p.forwardRef((t,e)=>{const n=ao(Mn,t.__scopeMenu);return h.jsx(m_,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),vq=_a("MenuContent.ScrollLock"),m_=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:w,...y}=t,T=ao(Mn,n),E=_u(Mn,n),_=_p(n),x=$2(n),I=lq(n),[k,O]=p.useState(null),C=p.useRef(null),S=nt(e,C,T.onContentChange),P=p.useRef(0),A=p.useRef(""),D=p.useRef(0),M=p.useRef(null),N=p.useRef("right"),F=p.useRef(0),X=w?Rk:p.Fragment,G=w?{as:vq,allowPinchZoom:!0}:void 0,J=L=>{var q,we;const z=A.current+L,B=I().filter(xe=>!xe.disabled),Z=document.activeElement,ne=(q=B.find(xe=>xe.ref.current===Z))==null?void 0:q.textValue,W=B.map(xe=>xe.textValue),te=Aq(W,z,ne),ie=(we=B.find(xe=>xe.textValue===te))==null?void 0:we.ref.current;(function xe(ye){A.current=ye,window.clearTimeout(P.current),ye!==""&&(P.current=window.setTimeout(()=>xe(""),1e3))})(z),ie&&setTimeout(()=>ie.focus())};p.useEffect(()=>()=>window.clearTimeout(P.current),[]),wk();const V=p.useCallback(L=>{var B,Z;return N.current===((B=M.current)==null?void 0:B.side)&&Nq(L,(Z=M.current)==null?void 0:Z.area)},[]);return h.jsx(pq,{scope:n,searchRef:A,onItemEnter:p.useCallback(L=>{V(L)&&L.preventDefault()},[V]),onItemLeave:p.useCallback(L=>{var z;V(L)||((z=C.current)==null||z.focus(),O(null))},[V]),onTriggerLeave:p.useCallback(L=>{V(L)&&L.preventDefault()},[V]),pointerGraceTimerRef:D,onPointerGraceIntentChange:p.useCallback(L=>{M.current=L},[]),children:h.jsx(X,{...G,children:h.jsx(Kw,{asChild:!0,trapped:s,onMountAutoFocus:le(i,L=>{var z;L.preventDefault(),(z=C.current)==null||z.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:h.jsx(Xh,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:h.jsx(O2,{asChild:!0,...x,dir:E.dir,orientation:"vertical",loop:r,currentTabStopId:k,onCurrentTabStopIdChange:O,onEntryFocus:le(l,L=>{E.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:h.jsx(KG,{role:"menu","aria-orientation":"vertical","data-state":iD(T.open),"data-radix-menu-content":"",dir:E.dir,..._,...y,ref:S,style:{outline:"none",...y.style},onKeyDown:le(y.onKeyDown,L=>{const B=L.target.closest("[data-radix-menu-content]")===L.currentTarget,Z=L.ctrlKey||L.altKey||L.metaKey,ne=L.key.length===1;B&&(L.key==="Tab"&&L.preventDefault(),!Z&&ne&&J(L.key));const W=C.current;if(L.target!==W||!iq.includes(L.key))return;L.preventDefault();const ie=I().filter(q=>!q.disabled).map(q=>q.ref.current);j2.includes(L.key)&&ie.reverse(),Iq(ie)}),onBlur:le(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(P.current),A.current="")}),onPointerMove:le(t.onPointerMove,jc(L=>{const z=L.target,B=F.current!==L.clientX;if(L.currentTarget.contains(z)&&B){const Z=L.clientX>F.current?"right":"left";N.current=Z,F.current=L.clientX}}))})})})})})})});z2.displayName=Mn;var yq="MenuGroup",g_=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(_e.div,{role:"group",...r,ref:e})});g_.displayName=yq;var wq="MenuLabel",W2=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(_e.div,{...r,ref:e})});W2.displayName=wq;var oh="MenuItem",Q1="menu.itemSelect",xp=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=p.useRef(null),o=_u(oh,t.__scopeMenu),a=p_(oh,t.__scopeMenu),l=nt(e,i),c=p.useRef(!1),d=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(Q1,{bubbles:!0,cancelable:!0});f.addEventListener(Q1,g=>r==null?void 0:r(g),{once:!0}),hw(f,m),m.defaultPrevented?c.current=!1:o.onClose()}};return h.jsx(H2,{...s,ref:l,disabled:n,onClick:le(t.onClick,d),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),c.current=!0},onPointerUp:le(t.onPointerUp,f=>{var m;c.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:le(t.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||cy.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});xp.displayName=oh;var H2=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=p_(oh,n),a=$2(n),l=p.useRef(null),c=nt(e,l),[d,f]=p.useState(!1),[m,g]=p.useState("");return p.useEffect(()=>{const w=l.current;w&&g((w.textContent??"").trim())},[i.children]),h.jsx(Lc.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:h.jsx(L2,{asChild:!0,...a,focusable:!r,children:h.jsx(_e.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:c,onPointerMove:le(t.onPointerMove,jc(w=>{r?o.onItemLeave(w):(o.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:le(t.onPointerLeave,jc(w=>o.onItemLeave(w))),onFocus:le(t.onFocus,()=>f(!0)),onBlur:le(t.onBlur,()=>f(!1))})})})}),_q="MenuCheckboxItem",K2=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return h.jsx(X2,{scope:t.__scopeMenu,checked:n,children:h.jsx(xp,{role:"menuitemcheckbox","aria-checked":ah(n)?"mixed":n,...s,ref:e,"data-state":y_(n),onSelect:le(s.onSelect,()=>r==null?void 0:r(ah(n)?!0:!n),{checkForDefaultPrevented:!1})})})});K2.displayName=_q;var G2="MenuRadioGroup",[xq,Eq]=oo(G2,{value:void 0,onValueChange:()=>{}}),q2=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=hn(r);return h.jsx(xq,{scope:t.__scopeMenu,value:n,onValueChange:i,children:h.jsx(g_,{...s,ref:e})})});q2.displayName=G2;var Q2="MenuRadioItem",Y2=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=Eq(Q2,t.__scopeMenu),i=n===s.value;return h.jsx(X2,{scope:t.__scopeMenu,checked:i,children:h.jsx(xp,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":y_(i),onSelect:le(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});Y2.displayName=Q2;var v_="MenuItemIndicator",[X2,Tq]=oo(v_,{checked:!1}),J2=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=Tq(v_,n);return h.jsx(nr,{present:r||ah(i.checked)||i.checked===!0,children:h.jsx(_e.span,{...s,ref:e,"data-state":y_(i.checked)})})});J2.displayName=v_;var bq="MenuSeparator",Z2=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return h.jsx(_e.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Z2.displayName=bq;var Sq="MenuArrow",eD=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=_p(n);return h.jsx(GG,{...s,...r,ref:e})});eD.displayName=Sq;var Cq="MenuSub",[XJ,tD]=oo(Cq),Rl="MenuSubTrigger",nD=p.forwardRef((t,e)=>{const n=ao(Rl,t.__scopeMenu),r=_u(Rl,t.__scopeMenu),s=tD(Rl,t.__scopeMenu),i=p_(Rl,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,c={__scopeMenu:t.__scopeMenu},d=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>d,[d]),p.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),h.jsx(f_,{asChild:!0,...c,children:h.jsx(H2,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":iD(n.open),...t,ref:Yh(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:le(t.onPointerMove,jc(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),d()},100))})),onPointerLeave:le(t.onPointerLeave,jc(f=>{var g,w;d();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const y=(w=n.content)==null?void 0:w.dataset.side,T=y==="right",E=T?-5:5,_=m[T?"left":"right"],x=m[T?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+E,y:f.clientY},{x:_,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:_,y:m.bottom}],side:y}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:le(t.onKeyDown,f=>{var g;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||oq[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});nD.displayName=Rl;var rD="MenuSubContent",sD=p.forwardRef((t,e)=>{const n=U2(Mn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=ao(Mn,t.__scopeMenu),o=_u(Mn,t.__scopeMenu),a=tD(rD,t.__scopeMenu),l=p.useRef(null),c=nt(e,l);return h.jsx(Lc.Provider,{scope:t.__scopeMenu,children:h.jsx(nr,{present:r||i.open,children:h.jsx(Lc.Slot,{scope:t.__scopeMenu,children:h.jsx(m_,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:c,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:le(t.onFocusOutside,d=>{d.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:le(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:le(t.onKeyDown,d=>{var g;const f=d.currentTarget.contains(d.target),m=aq[o.dir].includes(d.key);f&&m&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),d.preventDefault())})})})})})});sD.displayName=rD;function iD(t){return t?"open":"closed"}function ah(t){return t==="indeterminate"}function y_(t){return ah(t)?"indeterminate":t?"checked":"unchecked"}function Iq(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function Pq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function Aq(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=Pq(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function Rq(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],c=a.x,d=a.y,f=l.x,m=l.y;d>r!=m>r&&n<(f-c)*(r-d)/(m-d)+c&&(s=!s)}return s}function Nq(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return Rq(n,e)}function jc(t){return e=>e.pointerType==="mouse"?t(e):void 0}var kq=F2,Dq=f_,Mq=B2,Oq=z2,Lq=g_,jq=W2,Vq=xp,$q=K2,Fq=q2,Uq=Y2,Bq=J2,zq=Z2,Wq=eD,Hq=nD,Kq=sD,Ep="DropdownMenu",[Gq,JJ]=tr(Ep,[V2]),on=V2(),[qq,oD]=Gq(Ep),aD=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=on(e),c=p.useRef(null),[d,f]=$a({prop:s,defaultProp:i??!1,onChange:o,caller:Ep});return h.jsx(qq,{scope:e,triggerId:Di(),triggerRef:c,contentId:Di(),open:d,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:a,children:h.jsx(kq,{...l,open:d,onOpenChange:f,dir:r,modal:a,children:n})})};aD.displayName=Ep;var lD="DropdownMenuTrigger",cD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=oD(lD,n),o=on(n);return h.jsx(Dq,{asChild:!0,...o,children:h.jsx(_e.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Yh(e,i.triggerRef),onPointerDown:le(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:le(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});cD.displayName=lD;var Qq="DropdownMenuPortal",uD=t=>{const{__scopeDropdownMenu:e,...n}=t,r=on(e);return h.jsx(Mq,{...r,...n})};uD.displayName=Qq;var dD="DropdownMenuContent",fD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=oD(dD,n),i=on(n),o=p.useRef(!1);return h.jsx(Oq,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:le(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:le(t.onInteractOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,d=l.button===2||c;(!s.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});fD.displayName=dD;var Yq="DropdownMenuGroup",Xq=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx(Lq,{...s,...r,ref:e})});Xq.displayName=Yq;var Jq="DropdownMenuLabel",hD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx(jq,{...s,...r,ref:e})});hD.displayName=Jq;var Zq="DropdownMenuItem",pD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx(Vq,{...s,...r,ref:e})});pD.displayName=Zq;var eQ="DropdownMenuCheckboxItem",mD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx($q,{...s,...r,ref:e})});mD.displayName=eQ;var tQ="DropdownMenuRadioGroup",nQ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx(Fq,{...s,...r,ref:e})});nQ.displayName=tQ;var rQ="DropdownMenuRadioItem",gD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx(Uq,{...s,...r,ref:e})});gD.displayName=rQ;var sQ="DropdownMenuItemIndicator",vD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx(Bq,{...s,...r,ref:e})});vD.displayName=sQ;var iQ="DropdownMenuSeparator",yD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx(zq,{...s,...r,ref:e})});yD.displayName=iQ;var oQ="DropdownMenuArrow",aQ=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx(Wq,{...s,...r,ref:e})});aQ.displayName=oQ;var lQ="DropdownMenuSubTrigger",wD=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx(Hq,{...s,...r,ref:e})});wD.displayName=lQ;var cQ="DropdownMenuSubContent",_D=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return h.jsx(Kq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_D.displayName=cQ;var uQ=aD,dQ=cD,fQ=uD,xD=fD,ED=hD,TD=pD,bD=mD,SD=gD,CD=vD,ID=yD,PD=wD,AD=_D;const RD=uQ,ND=dQ,hQ=Q.forwardRef(({className:t,inset:e,children:n,...r},s)=>h.jsxs(PD,{ref:s,className:se("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...r,children:[n,h.jsx(h7,{className:"ml-auto h-4 w-4"})]}));hQ.displayName=PD.displayName;const pQ=Q.forwardRef(({className:t,...e},n)=>h.jsx(AD,{ref:n,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));pQ.displayName=AD.displayName;const w_=Q.forwardRef(({className:t,sideOffset:e=4,...n},r)=>h.jsx(fQ,{children:h.jsx(xD,{ref:r,sideOffset:e,className:se("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));w_.displayName=xD.displayName;const Ps=Q.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(TD,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...n}));Ps.displayName=TD.displayName;const mQ=Q.forwardRef(({className:t,children:e,checked:n,...r},s)=>h.jsxs(bD,{ref:s,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...r,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(CD,{children:h.jsx(ww,{className:"h-4 w-4"})})}),e]}));mQ.displayName=bD.displayName;const gQ=Q.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(SD,{ref:r,className:se("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(CD,{children:h.jsx(m7,{className:"h-2 w-2 fill-current"})})}),e]}));gQ.displayName=SD.displayName;const __=Q.forwardRef(({className:t,inset:e,...n},r)=>h.jsx(ED,{ref:r,className:se("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));__.displayName=ED.displayName;const lh=Q.forwardRef(({className:t,...e},n)=>h.jsx(ID,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",t),...e}));lh.displayName=ID.displayName;const vQ=ep("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function xu({className:t,variant:e,...n}){return h.jsx("div",{className:se(vQ({variant:e}),t),...n})}const x_=Q.forwardRef(({className:t,...e},n)=>h.jsx("textarea",{className:se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));x_.displayName="Textarea";function ue(){return ue=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ue.apply(null,arguments)}function yQ(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kD(...t){return e=>t.forEach(n=>yQ(n,e))}function lo(...t){return p.useCallback(kD(...t),t)}const DD=p.forwardRef((t,e)=>{const{children:n,...r}=t,s=p.Children.toArray(n),i=s.find(_Q);if(i){const o=i.props.children,a=s.map(l=>l===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return p.createElement(uy,ue({},r,{ref:e}),p.isValidElement(o)?p.cloneElement(o,void 0,a):null)}return p.createElement(uy,ue({},r,{ref:e}),n)});DD.displayName="Slot";const uy=p.forwardRef((t,e)=>{const{children:n,...r}=t;return p.isValidElement(n)?p.cloneElement(n,{...xQ(r,n.props),ref:e?kD(e,n.ref):n.ref}):p.Children.count(n)>1?p.Children.only(null):null});uy.displayName="SlotClone";const wQ=({children:t})=>p.createElement(p.Fragment,null,t);function _Q(t){return p.isValidElement(t)&&t.type===wQ}function xQ(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}const EQ=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Eu=EQ.reduce((t,e)=>{const n=p.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?DD:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,ue({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),dy=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{};function TQ(t,e){return p.useReducer((n,r)=>{const s=e[n][r];return s??n},t)}const Tu=t=>{const{present:e,children:n}=t,r=bQ(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=lo(r.ref,s.ref);return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Tu.displayName="Presence";function bQ(t){const[e,n]=p.useState(),r=p.useRef({}),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=TQ(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const c=Ed(r.current);i.current=a==="mounted"?c:"none"},[a]),dy(()=>{const c=r.current,d=s.current;if(d!==t){const m=i.current,g=Ed(c);t?l("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),dy(()=>{if(e){const c=f=>{const g=Ed(r.current).includes(f.animationName);f.target===e&&g&&ns.flushSync(()=>l("ANIMATION_END"))},d=f=>{f.target===e&&(i.current=Ed(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",c),e.addEventListener("animationend",c),()=>{e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",c),e.removeEventListener("animationend",c)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ed(t){return(t==null?void 0:t.animationName)||"none"}function SQ(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:m,children:g,...w}=f,y=(m==null?void 0:m[t][l])||a,T=p.useMemo(()=>w,Object.values(w));return p.createElement(y.Provider,{value:T},g)}function d(f,m){const g=(m==null?void 0:m[t][l])||a,w=p.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,CQ(s,...e)]}function CQ(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function xi(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}const IQ=p.createContext(void 0);function PQ(t){const e=p.useContext(IQ);return t||e||"ltr"}function AQ(t,[e,n]){return Math.min(n,Math.max(e,t))}function Mi(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function RQ(t,e){return p.useReducer((n,r)=>{const s=e[n][r];return s??n},t)}const MD="ScrollArea",[OD,ZJ]=SQ(MD),[NQ,$n]=OD(MD),kQ=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:i=600,...o}=t,[a,l]=p.useState(null),[c,d]=p.useState(null),[f,m]=p.useState(null),[g,w]=p.useState(null),[y,T]=p.useState(null),[E,_]=p.useState(0),[x,I]=p.useState(0),[k,O]=p.useState(!1),[C,S]=p.useState(!1),P=lo(e,D=>l(D)),A=PQ(s);return p.createElement(NQ,{scope:n,type:r,dir:A,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:d,content:f,onContentChange:m,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:k,onScrollbarXEnabledChange:O,scrollbarY:y,onScrollbarYChange:T,scrollbarYEnabled:C,onScrollbarYEnabledChange:S,onCornerWidthChange:_,onCornerHeightChange:I},p.createElement(Eu.div,ue({dir:A},o,{ref:P,style:{position:"relative","--radix-scroll-area-corner-width":E+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})))}),DQ="ScrollAreaViewport",MQ=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,...s}=t,i=$n(DQ,n),o=p.useRef(null),a=lo(e,o,i.onViewportChange);return p.createElement(p.Fragment,null,p.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),p.createElement(Eu.div,ue({"data-radix-scroll-area-viewport":""},s,{ref:a,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style}}),p.createElement("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),rs="ScrollAreaScrollbar",LD=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=$n(rs,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a=t.orientation==="horizontal";return p.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),s.type==="hover"?p.createElement(OQ,ue({},r,{ref:e,forceMount:n})):s.type==="scroll"?p.createElement(LQ,ue({},r,{ref:e,forceMount:n})):s.type==="auto"?p.createElement(jD,ue({},r,{ref:e,forceMount:n})):s.type==="always"?p.createElement(E_,ue({},r,{ref:e})):null}),OQ=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=$n(rs,t.__scopeScrollArea),[i,o]=p.useState(!1);return p.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},d=()=>{l=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),p.createElement(Tu,{present:n||i},p.createElement(jD,ue({"data-state":i?"visible":"hidden"},r,{ref:e})))}),LQ=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=$n(rs,t.__scopeScrollArea),i=t.orientation==="horizontal",o=bp(()=>l("SCROLL_END"),100),[a,l]=RQ("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return p.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),p.useEffect(()=>{const c=s.viewport,d=i?"scrollLeft":"scrollTop";if(c){let f=c[d];const m=()=>{const g=c[d];f!==g&&(l("SCROLL"),o()),f=g};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[s.viewport,i,l,o]),p.createElement(Tu,{present:n||a!=="hidden"},p.createElement(E_,ue({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:e,onPointerEnter:Mi(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:Mi(t.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),jD=p.forwardRef((t,e)=>{const n=$n(rs,t.__scopeScrollArea),{forceMount:r,...s}=t,[i,o]=p.useState(!1),a=t.orientation==="horizontal",l=bp(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:d)}},10);return ba(n.viewport,l),ba(n.content,l),p.createElement(Tu,{present:r||i},p.createElement(E_,ue({"data-state":i?"visible":"hidden"},s,{ref:e})))}),E_=p.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,s=$n(rs,t.__scopeScrollArea),i=p.useRef(null),o=p.useRef(0),[a,l]=p.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=UD(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:m=>i.current=m,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:m=>o.current=m};function f(m,g){return WQ(m,o.current,a,g)}return n==="horizontal"?p.createElement(jQ,ue({},d,{ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollLeft,g=Y1(m,a,s.dir);i.current.style.transform=`translate3d(${g}px, 0, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollLeft=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollLeft=f(m,s.dir))}})):n==="vertical"?p.createElement(VQ,ue({},d,{ref:e,onThumbPositionChange:()=>{if(s.viewport&&i.current){const m=s.viewport.scrollTop,g=Y1(m,a);i.current.style.transform=`translate3d(0, ${g}px, 0)`}},onWheelScroll:m=>{s.viewport&&(s.viewport.scrollTop=m)},onDragScroll:m=>{s.viewport&&(s.viewport.scrollTop=f(m))}})):null}),jQ=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=$n(rs,t.__scopeScrollArea),[o,a]=p.useState(),l=p.useRef(null),c=lo(e,l,i.onScrollbarXChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.createElement($D,ue({"data-orientation":"horizontal"},s,{ref:c,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Tp(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.x),onDragScroll:d=>t.onDragScroll(d.x),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollLeft+d.deltaX;t.onWheelScroll(m),zD(m,f)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:ch(o.paddingLeft),paddingEnd:ch(o.paddingRight)}})}}))}),VQ=p.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...s}=t,i=$n(rs,t.__scopeScrollArea),[o,a]=p.useState(),l=p.useRef(null),c=lo(e,l,i.onScrollbarYChange);return p.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),p.createElement($D,ue({"data-orientation":"vertical"},s,{ref:c,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Tp(n)+"px",...t.style},onThumbPointerDown:d=>t.onThumbPointerDown(d.y),onDragScroll:d=>t.onDragScroll(d.y),onWheelScroll:(d,f)=>{if(i.viewport){const m=i.viewport.scrollTop+d.deltaY;t.onWheelScroll(m),zD(m,f)&&d.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:ch(o.paddingTop),paddingEnd:ch(o.paddingBottom)}})}}))}),[$Q,VD]=OD(rs),$D=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:f,...m}=t,g=$n(rs,n),[w,y]=p.useState(null),T=lo(e,P=>y(P)),E=p.useRef(null),_=p.useRef(""),x=g.viewport,I=r.content-r.viewport,k=xi(d),O=xi(l),C=bp(f,10);function S(P){if(E.current){const A=P.clientX-E.current.left,D=P.clientY-E.current.top;c({x:A,y:D})}}return p.useEffect(()=>{const P=A=>{const D=A.target;(w==null?void 0:w.contains(D))&&k(A,I)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[x,w,I,k]),p.useEffect(O,[r,O]),ba(w,C),ba(g.content,C),p.createElement($Q,{scope:n,scrollbar:w,hasThumb:s,onThumbChange:xi(i),onThumbPointerUp:xi(o),onThumbPositionChange:O,onThumbPointerDown:xi(a)},p.createElement(Eu.div,ue({},m,{ref:T,style:{position:"absolute",...m.style},onPointerDown:Mi(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),E.current=w.getBoundingClientRect(),_.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",g.viewport&&(g.viewport.style.scrollBehavior="auto"),S(P))}),onPointerMove:Mi(t.onPointerMove,S),onPointerUp:Mi(t.onPointerUp,P=>{const A=P.target;A.hasPointerCapture(P.pointerId)&&A.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=_.current,g.viewport&&(g.viewport.style.scrollBehavior=""),E.current=null})})))}),fy="ScrollAreaThumb",FQ=p.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=VD(fy,t.__scopeScrollArea);return p.createElement(Tu,{present:n||s.hasThumb},p.createElement(UQ,ue({ref:e},r)))}),UQ=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...s}=t,i=$n(fy,n),o=VD(fy,n),{onThumbPositionChange:a}=o,l=lo(e,f=>o.onThumbChange(f)),c=p.useRef(),d=bp(()=>{c.current&&(c.current(),c.current=void 0)},100);return p.useEffect(()=>{const f=i.viewport;if(f){const m=()=>{if(d(),!c.current){const g=HQ(f,a);c.current=g,a()}};return a(),f.addEventListener("scroll",m),()=>f.removeEventListener("scroll",m)}},[i.viewport,d,a]),p.createElement(Eu.div,ue({"data-state":o.hasThumb?"visible":"hidden"},s,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Mi(t.onPointerDownCapture,f=>{const g=f.target.getBoundingClientRect(),w=f.clientX-g.left,y=f.clientY-g.top;o.onThumbPointerDown({x:w,y})}),onPointerUp:Mi(t.onPointerUp,o.onThumbPointerUp)}))}),FD="ScrollAreaCorner",BQ=p.forwardRef((t,e)=>{const n=$n(FD,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.createElement(zQ,ue({},t,{ref:e})):null}),zQ=p.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,s=$n(FD,n),[i,o]=p.useState(0),[a,l]=p.useState(0),c=!!(i&&a);return ba(s.scrollbarX,()=>{var d;const f=((d=s.scrollbarX)===null||d===void 0?void 0:d.offsetHeight)||0;s.onCornerHeightChange(f),l(f)}),ba(s.scrollbarY,()=>{var d;const f=((d=s.scrollbarY)===null||d===void 0?void 0:d.offsetWidth)||0;s.onCornerWidthChange(f),o(f)}),c?p.createElement(Eu.div,ue({},r,{ref:e,style:{width:i,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}})):null});function ch(t){return t?parseInt(t,10):0}function UD(t,e){const n=t/e;return isNaN(n)?0:n}function Tp(t){const e=UD(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function WQ(t,e,n,r="ltr"){const s=Tp(n),i=s/2,o=e||i,a=s-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,f=r==="ltr"?[0,d]:[d*-1,0];return BD([l,c],f)(t)}function Y1(t,e,n="ltr"){const r=Tp(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-s,o=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,o]:[o*-1,0],c=AQ(t,l);return BD([0,o],[0,a])(c)}function BD(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function zD(t,e){return t>0&&t<e}const HQ=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function s(){const i={left:t.scrollLeft,top:t.scrollTop},o=n.left!==i.left,a=n.top!==i.top;(o||a)&&e(),n=i,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function bp(t,e){const n=xi(t),r=p.useRef(0);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),p.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function ba(t,e){const n=xi(e);dy(()=>{let r=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(t),()=>{window.cancelAnimationFrame(r),s.unobserve(t)}}},[t,n])}const WD=kQ,KQ=MQ,GQ=BQ,HD=Q.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(WD,{ref:r,className:se("relative overflow-hidden",t),...n,children:[h.jsx(KQ,{className:"h-full w-full rounded-[inherit]",children:e}),h.jsx(KD,{}),h.jsx(GQ,{})]}));HD.displayName=WD.displayName;const KD=Q.forwardRef(({className:t,orientation:e="vertical",...n},r)=>h.jsx(LD,{ref:r,orientation:e,className:se("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:h.jsx(FQ,{className:"relative flex-1 rounded-full bg-border"})}));KD.displayName=LD.displayName;var GD={exports:{}},qD={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sa=p;function qQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var QQ=typeof Object.is=="function"?Object.is:qQ,YQ=Sa.useState,XQ=Sa.useEffect,JQ=Sa.useLayoutEffect,ZQ=Sa.useDebugValue;function eY(t,e){var n=e(),r=YQ({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return JQ(function(){s.value=n,s.getSnapshot=e,hg(s)&&i({inst:s})},[t,n,e]),XQ(function(){return hg(s)&&i({inst:s}),t(function(){hg(s)&&i({inst:s})})},[t]),ZQ(n),n}function hg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!QQ(t,n)}catch{return!0}}function tY(t,e){return e()}var nY=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tY:eY;qD.useSyncExternalStore=Sa.useSyncExternalStore!==void 0?Sa.useSyncExternalStore:nY;GD.exports=qD;var rY=GD.exports;function sY(){return rY.useSyncExternalStore(iY,()=>!0,()=>!1)}function iY(){return()=>{}}var T_="Avatar",[oY,eZ]=tr(T_),[aY,QD]=oY(T_),YD=p.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[s,i]=p.useState("idle");return h.jsx(aY,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:h.jsx(_e.span,{...r,ref:e})})});YD.displayName=T_;var XD="AvatarImage",JD=p.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...i}=t,o=QD(XD,n),a=lY(r,i),l=hn(c=>{s(c),o.onImageLoadingStatusChange(c)});return jn(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?h.jsx(_e.img,{...i,ref:e,src:r}):null});JD.displayName=XD;var ZD="AvatarFallback",eM=p.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...s}=t,i=QD(ZD,n),[o,a]=p.useState(r===void 0);return p.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),o&&i.imageLoadingStatus!=="loaded"?h.jsx(_e.span,{...s,ref:e}):null});eM.displayName=ZD;function X1(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function lY(t,{referrerPolicy:e,crossOrigin:n}){const r=sY(),s=p.useRef(null),i=(()=>r?(s.current||(s.current=new window.Image),s.current):null)(),[o,a]=p.useState(()=>X1(i,t));return jn(()=>{a(X1(i,t))},[i,t]),jn(()=>{const l=f=>()=>{a(f)};if(!i)return;const c=l("loaded"),d=l("error");return i.addEventListener("load",c),i.addEventListener("error",d),e&&(i.referrerPolicy=e),typeof n=="string"&&(i.crossOrigin=n),()=>{i.removeEventListener("load",c),i.removeEventListener("error",d)}},[i,n,e]),o}var tM=YD,nM=JD,rM=eM;const Yd=Q.forwardRef(({className:t,...e},n)=>h.jsx(tM,{ref:n,className:se("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Yd.displayName=tM.displayName;const cY=Q.forwardRef(({className:t,...e},n)=>h.jsx(nM,{ref:n,className:se("aspect-square h-full w-full",t),...e}));cY.displayName=nM.displayName;const Xd=Q.forwardRef(({className:t,...e},n)=>h.jsx(rM,{ref:n,className:se("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Xd.displayName=rM.displayName;function uY(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Sp="Checkbox",[dY,tZ]=tr(Sp),[fY,b_]=dY(Sp);function hY(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:s,disabled:i,form:o,name:a,onCheckedChange:l,required:c,value:d="on",internal_do_not_use_render:f}=t,[m,g]=$a({prop:n,defaultProp:s??!1,onChange:l,caller:Sp}),[w,y]=p.useState(null),[T,E]=p.useState(null),_=p.useRef(!1),x=w?!!o||!!w.closest("form"):!0,I={checked:m,disabled:i,setChecked:g,control:w,setControl:y,name:a,form:o,value:d,hasConsumerStoppedPropagationRef:_,required:c,defaultChecked:Bs(s)?!1:s,isFormControl:x,bubbleInput:T,setBubbleInput:E};return h.jsx(fY,{scope:e,...I,children:pY(f)?f(I):r})}var sM="CheckboxTrigger",iM=p.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},s)=>{const{control:i,value:o,disabled:a,checked:l,required:c,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:m,isFormControl:g,bubbleInput:w}=b_(sM,t),y=nt(s,d),T=p.useRef(l);return p.useEffect(()=>{const E=i==null?void 0:i.form;if(E){const _=()=>f(T.current);return E.addEventListener("reset",_),()=>E.removeEventListener("reset",_)}},[i,f]),h.jsx(_e.button,{type:"button",role:"checkbox","aria-checked":Bs(l)?"mixed":l,"aria-required":c,"data-state":uM(l),"data-disabled":a?"":void 0,disabled:a,value:o,...r,ref:y,onKeyDown:le(e,E=>{E.key==="Enter"&&E.preventDefault()}),onClick:le(n,E=>{f(_=>Bs(_)?!0:!_),w&&g&&(m.current=E.isPropagationStopped(),m.current||E.stopPropagation())})})});iM.displayName=sM;var S_=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:i,required:o,disabled:a,value:l,onCheckedChange:c,form:d,...f}=t;return h.jsx(hY,{__scopeCheckbox:n,checked:s,defaultChecked:i,disabled:a,required:o,onCheckedChange:c,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:m})=>h.jsxs(h.Fragment,{children:[h.jsx(iM,{...f,ref:e,__scopeCheckbox:n}),m&&h.jsx(cM,{__scopeCheckbox:n})]})})});S_.displayName=Sp;var oM="CheckboxIndicator",aM=p.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...s}=t,i=b_(oM,n);return h.jsx(nr,{present:r||Bs(i.checked)||i.checked===!0,children:h.jsx(_e.span,{"data-state":uM(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:e,style:{pointerEvents:"none",...t.style}})})});aM.displayName=oM;var lM="CheckboxBubbleInput",cM=p.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:i,defaultChecked:o,required:a,disabled:l,name:c,value:d,form:f,bubbleInput:m,setBubbleInput:g}=b_(lM,t),w=nt(n,g),y=uY(i),T=w2(r);p.useEffect(()=>{const _=m;if(!_)return;const x=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(x,"checked").set,O=!s.current;if(y!==i&&k){const C=new Event("click",{bubbles:O});_.indeterminate=Bs(i),k.call(_,Bs(i)?!1:i),_.dispatchEvent(C)}},[m,y,i,s]);const E=p.useRef(Bs(i)?!1:i);return h.jsx(_e.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??E.current,required:a,disabled:l,name:c,value:d,form:f,...e,tabIndex:-1,ref:w,style:{...e.style,...T,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});cM.displayName=lM;function pY(t){return typeof t=="function"}function Bs(t){return t==="indeterminate"}function uM(t){return Bs(t)?"indeterminate":t?"checked":"unchecked"}const Vc=Q.forwardRef(({className:t,...e},n)=>h.jsx(S_,{ref:n,className:se("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:h.jsx(aM,{className:se("flex items-center justify-center text-current"),children:h.jsx(ww,{className:"h-4 w-4"})})}));Vc.displayName=S_.displayName;var dM="AlertDialog",[mY,nZ]=tr(dM,[Dk]),ss=Dk(),fM=t=>{const{__scopeAlertDialog:e,...n}=t,r=ss(e);return h.jsx(Qk,{...r,...n,modal:!0})};fM.displayName=dM;var gY="AlertDialogTrigger",hM=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ss(n);return h.jsx(Yk,{...s,...r,ref:e})});hM.displayName=gY;var vY="AlertDialogPortal",pM=t=>{const{__scopeAlertDialog:e,...n}=t,r=ss(e);return h.jsx(Xk,{...r,...n})};pM.displayName=vY;var yY="AlertDialogOverlay",mM=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ss(n);return h.jsx(Jw,{...s,...r,ref:e})});mM.displayName=yY;var ra="AlertDialogContent",[wY,_Y]=mY(ra),xY=EB("AlertDialogContent"),gM=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,children:r,...s}=t,i=ss(n),o=p.useRef(null),a=nt(e,o),l=p.useRef(null);return h.jsx(VK,{contentName:ra,titleName:vM,docsSlug:"alert-dialog",children:h.jsx(wY,{scope:n,cancelRef:l,children:h.jsxs(Zw,{role:"alertdialog",...i,...s,ref:a,onOpenAutoFocus:le(s.onOpenAutoFocus,c=>{var d;c.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:c=>c.preventDefault(),onInteractOutside:c=>c.preventDefault(),children:[h.jsx(xY,{children:r}),h.jsx(TY,{contentRef:o})]})})})});gM.displayName=ra;var vM="AlertDialogTitle",yM=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ss(n);return h.jsx(e_,{...s,...r,ref:e})});yM.displayName=vM;var wM="AlertDialogDescription",_M=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ss(n);return h.jsx(t_,{...s,...r,ref:e})});_M.displayName=wM;var EY="AlertDialogAction",xM=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,s=ss(n);return h.jsx(pp,{...s,...r,ref:e})});xM.displayName=EY;var EM="AlertDialogCancel",TM=p.forwardRef((t,e)=>{const{__scopeAlertDialog:n,...r}=t,{cancelRef:s}=_Y(EM,n),i=ss(n),o=nt(e,s);return h.jsx(pp,{...i,...r,ref:o})});TM.displayName=EM;var TY=({contentRef:t})=>{const e=`\`${ra}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ra}\` by passing a \`${wM}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ra}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return p.useEffect(()=>{var r;document.getElementById((r=t.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},bY=fM,SY=hM,CY=pM,bM=mM,SM=gM,CM=xM,IM=TM,PM=yM,AM=_M;const C_=bY,I_=SY,IY=CY,RM=Q.forwardRef(({className:t,...e},n)=>h.jsx(bM,{className:se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));RM.displayName=bM.displayName;const Cp=Q.forwardRef(({className:t,...e},n)=>h.jsxs(IY,{children:[h.jsx(RM,{}),h.jsx(SM,{ref:n,className:se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Cp.displayName=SM.displayName;const Ip=({className:t,...e})=>h.jsx("div",{className:se("flex flex-col space-y-2 text-center sm:text-left",t),...e});Ip.displayName="AlertDialogHeader";const Pp=({className:t,...e})=>h.jsx("div",{className:se("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2 sm:space-x-reverse",t),...e});Pp.displayName="AlertDialogFooter";const Ap=Q.forwardRef(({className:t,...e},n)=>h.jsx(PM,{ref:n,className:se("text-lg font-semibold",t),...e}));Ap.displayName=PM.displayName;const Rp=Q.forwardRef(({className:t,...e},n)=>h.jsx(AM,{ref:n,className:se("text-sm text-muted-foreground",t),...e}));Rp.displayName=AM.displayName;const Np=Q.forwardRef(({className:t,...e},n)=>h.jsx(CM,{ref:n,className:se(Ww(),t),...e}));Np.displayName=CM.displayName;const kp=Q.forwardRef(({className:t,...e},n)=>h.jsx(IM,{ref:n,className:se(Ww({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));kp.displayName=IM.displayName;const P_=({isOpen:t,onClose:e,currentUser:n,targetUser:r,messages:s,onSendMessage:i,onDeleteMessages:o})=>{const[a,l]=p.useState(""),c=p.useRef(null),[d,f]=p.useState([]),[m,g]=p.useState(!1);p.useEffect(()=>{if(c.current){const x=c.current.querySelector("[data-radix-scroll-area-viewport]");x&&(x.scrollTop=x.scrollHeight)}},[s,t]),p.useEffect(()=>{t||f([])},[t]);const w=()=>{a.trim()!==""&&(i(a),l(""))},y=x=>{if(!x)return"?";const I=x.split(" ");return I.length===1?I[0].substring(0,2).toUpperCase():I[0][0].toUpperCase()+I[I.length-1][0].toUpperCase()},T=x=>{if(!x)return"";let I;if(x instanceof ot)I=x.toDate();else if(x.seconds)I=new ot(x.seconds,x.nanoseconds).toDate();else if(typeof x=="string"||typeof x=="number")I=new Date(x);else return"Invalid Date";return isNaN(I.getTime())?"Invalid Date":I.toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})},E=x=>{f(I=>I.includes(x)?I.filter(k=>k!==x):[...I,x])},_=async()=>{if(d.length!==0){try{const x=a9(Ce);d.forEach(I=>{const k=Xe(Ce,"messages",I);x.delete(k)}),await x.commit(),ae({title:"تم حذف الرسائل المحددة بنجاح"}),f([]),o&&o(d)}catch(x){console.error("Error deleting messages:",x),ae({title:"خطأ في حذف الرسائل",variant:"destructive"})}g(!1)}};return h.jsx(Gi,{open:t,onOpenChange:e,children:h.jsxs(Js,{className:"sm:max-w-lg h-[70vh] flex flex-col p-0",children:[h.jsxs(Zs,{className:"p-4 border-b flex-row justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Yd,{className:"h-8 w-8",children:h.jsx(Xd,{children:r!=null&&r.name?y(r.name):h.jsx(Tb,{})})}),h.jsxs("div",{children:[h.jsxs(ei,{children:["محادثة مع ",(r==null?void 0:r.name)||"مستخدم"]}),(r==null?void 0:r.email)&&h.jsx(qi,{className:"text-xs",children:r.email})]})]}),d.length>0&&h.jsxs(C_,{open:m,onOpenChange:g,children:[h.jsx(I_,{asChild:!0,children:h.jsxs(he,{variant:"destructive",size:"sm",onClick:()=>g(!0),children:[h.jsx(fu,{className:"w-4 h-4 ml-1"}),"حذف (",d.length,")"]})}),h.jsxs(Cp,{children:[h.jsxs(Ip,{children:[h.jsx(Ap,{children:"تأكيد الحذف"}),h.jsx(Rp,{children:"هل أنت متأكد أنك تريد حذف الرسائل المحددة؟ هذا الإجراء لا يمكن التراجع عنه."})]}),h.jsxs(Pp,{children:[h.jsx(kp,{children:"إلغاء"}),h.jsx(Np,{onClick:_,children:"حذف"})]})]})]})]}),h.jsx(HD,{ref:c,className:"flex-grow p-4 bg-muted/30",children:h.jsxs("div",{className:"space-y-1",children:[s.map(x=>h.jsxs("div",{className:`flex items-end gap-2 py-1 group ${x.senderId===(n==null?void 0:n.uid)?"justify-end":"justify-start"} ${d.includes(x.id)?"bg-blue-500/10 rounded-md":""}`,onClick:()=>E(x.id),children:[x.senderId===(n==null?void 0:n.uid)&&h.jsx(Vc,{id:`select-msg-${x.id}`,checked:d.includes(x.id),onCheckedChange:()=>E(x.id),className:"opacity-0 group-hover:opacity-100 data-[state=checked]:opacity-100 transition-opacity mr-2"}),x.senderId!==(n==null?void 0:n.uid)&&h.jsx(Yd,{className:"h-8 w-8 self-start",children:h.jsx(Xd,{children:r!=null&&r.name?y(r.name):h.jsx(Tb,{})})}),h.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg shadow cursor-pointer ${x.senderId===(n==null?void 0:n.uid)?"bg-gradient-to-r from-blue-500 to-sky-500 text-white rounded-br-none":"bg-white text-gray-800 rounded-bl-none border"}`,children:[h.jsx("p",{className:"text-sm whitespace-pre-wrap break-words",children:x.message}),h.jsx("p",{className:`text-xs mt-1 ${x.senderId===(n==null?void 0:n.uid)?"text-blue-200":"text-gray-400"} text-left`,children:T(x.timestamp)})]}),x.senderId===(n==null?void 0:n.uid)&&h.jsx(Yd,{className:"h-8 w-8 self-start",children:h.jsx(Xd,{children:n!=null&&n.displayName?y(n.displayName):n!=null&&n.name?y(n.name):h.jsx(d7,{})})}),x.senderId!==(n==null?void 0:n.uid)&&h.jsx(Vc,{id:`select-msg-${x.id}`,checked:d.includes(x.id),onCheckedChange:()=>E(x.id),className:"opacity-0 group-hover:opacity-100 data-[state=checked]:opacity-100 transition-opacity ml-2"})]},x.id)),s.length===0&&h.jsx("p",{className:"text-center text-gray-500 py-8",children:"لا توجد رسائل بعد. ابدأ المحادثة!"})]})}),h.jsx(mp,{className:"p-4 border-t",children:h.jsxs("div",{className:"flex w-full items-center gap-2",children:[h.jsx(x_,{value:a,onChange:x=>l(x.target.value),placeholder:"اكتب رسالتك هنا...",className:"flex-grow resize-none",rows:1,onKeyPress:x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),w())}}),h.jsx(he,{onClick:w,size:"icon",className:"bg-gradient-to-r from-blue-500 to-sky-500",children:h.jsx(UR,{className:"h-5 w-5"})})]})})]})})},PY="https://storage.googleapis.com/hostinger-horizons-assets-prod/3760d6a6-ab96-447b-8deb-dbeb7cec4327/ddb9811d5f3df3eb28c2f555087dd5ba.jpg",AY=({userData:t,onLogout:e})=>{const{currentUser:n}=Va(),[r,s]=p.useState([]),[i,o]=p.useState(0),[a,l]=p.useState(!1),[c,d]=p.useState(null),[f,m]=p.useState([]),[g,w]=p.useState(null),[y,T]=p.useState(!1),E=Q.useCallback(()=>{if(!n||!y)return null;const O=$f(wn(Ce,"messages"),Ff("participants","array-contains",n.uid),aw("timestamp","asc"));return ki(O,S=>{const P=[];let A=0;S.forEach(D=>{const M=D.data();M.participants.includes(n.uid)&&(P.push({id:D.id,...M}),M.receiverId===n.uid&&(!M.readBy||!M.readBy[n.uid])&&A++)}),s(P),o(A)},S=>{console.error("Error in messages snapshot listener:",S),S.code==="failed-precondition"&&(T(!1),ae({title:"فهرس Firestore قيد الإنشاء",description:"يتم حاليًا إنشاء الفهرس المطلوب للرسائل. سيتم تفعيل الرسائل تلقائيًا عند اكتمال الفهرس.",variant:"default",duration:8e3}))})},[n,y]);p.useEffect(()=>{if(!n)return;(async()=>{const C=wn(Ce,"users"),S=$f(C,Ff("role","==","teacher")),P=await Uf(S);if(!P.empty){const A={id:P.docs[0].id,...P.docs[0].data()};w(A)}})(),T(!0)},[n]),p.useEffect(()=>{if(!y)return;const O=E();return()=>{O&&O()}},[E,y]),p.useEffect(()=>{const O=setInterval(()=>{!y&&n&&T(!0)},3e4);return()=>clearInterval(O)},[y,n]),p.useEffect(()=>{if(!a||!n||!g){m([]);return}const O=r.filter(C=>C.participants.includes(g.id));m(O)},[a,n,g,r]);const _=async()=>{if(!g){ae({title:"المعلم غير متوفر",description:"لا يمكن بدء المحادثة حاليًا.",variant:"destructive"});return}d(g),l(!0),r.forEach(async O=>{if(O.senderId===g.id&&(!O.readBy||!O.readBy[n.uid])){const C=Xe(Ce,"messages",O.id);await cu(C,{[`readBy.${n.uid}`]:!0})}})},x=async O=>{if(!(!n||!g||!O.trim()))try{await Ac(wn(Ce,"messages"),{participants:[n.uid,g.id].sort(),senderId:n.uid,receiverId:g.id,message:O,timestamp:Bf(),readBy:{[n.uid]:!0,[g.id]:!1}})}catch(C){console.error("Error sending message to teacher:",C),ae({title:"خطأ في إرسال الرسالة",variant:"destructive"})}},I=O=>{s(C=>C.filter(S=>!O.includes(S.id)))},k=[...r].filter(O=>O.participants.includes(n.uid)).sort((O,C)=>{var S,P;return(((S=C.timestamp)==null?void 0:S.toMillis())||0)-(((P=O.timestamp)==null?void 0:P.toMillis())||0)}).slice(0,5);return h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b shadow-sm sticky top-0 z-50",children:h.jsx("div",{className:"container mx-auto px-4 py-3",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[h.jsx("img",{src:PY,alt:"شعار منصة مهارات التعليمية",className:"h-10 w-auto"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold gradient-text-alt",children:"لوحة الطالب"}),t&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-xs",children:[h.jsx(xw,{className:"w-3 h-3"}),h.jsxs("span",{children:[t.name," (",t.email,")"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs(RD,{children:[h.jsx(ND,{asChild:!0,children:h.jsxs(he,{variant:"ghost",size:"icon",className:"relative",children:[h.jsx(jR,{className:"h-5 w-5"}),i>0&&h.jsx(xu,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500 text-white",children:i>9?"9+":i})]})}),h.jsxs(w_,{align:"end",className:"w-80",children:[h.jsx(__,{children:"الإشعارات والرسائل"}),h.jsx(lh,{}),y?k.length===0?h.jsx(Ps,{disabled:!0,className:"text-center text-gray-500 py-3",children:"لا توجد إشعارات جديدة"}):k.map(O=>{var C;return h.jsxs(Ps,{className:`flex items-start gap-2 ${(!O.readBy||!O.readBy[n.uid])&&O.receiverId===n.uid?"font-semibold":""}`,onClick:_,children:[(!O.readBy||!O.readBy[n.uid])&&O.receiverId===n.uid?h.jsx(rp,{className:"h-4 w-4 mt-1 text-blue-500"}):h.jsx(f7,{className:"h-4 w-4 mt-1 text-green-500"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm truncate",children:O.message}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:[O.senderId===(g==null?void 0:g.id)?g.name||"المعلم":"أنت"," - ",(C=O.timestamp)==null?void 0:C.toDate().toLocaleDateString("ar-EG")]})]})]},O.id)}):h.jsx(Ps,{disabled:!0,className:"text-center text-orange-600 py-3",children:"جاري إعداد نظام الرسائل..."}),h.jsx(lh,{}),h.jsx(Ps,{onClick:_,className:"justify-center text-blue-600 hover:!text-blue-700",children:"عرض كل المحادثات مع المعلم"})]})]}),h.jsxs(he,{onClick:e,variant:"outline",size:"sm",className:"flex items-center gap-1.5",children:[h.jsx($R,{className:"w-3.5 h-3.5"}),"تسجيل الخروج"]})]})]})})}),a&&g&&h.jsx(P_,{isOpen:a,onClose:()=>l(!1),currentUser:n,targetUser:g,messages:f,onSendMessage:x,onDeleteMessages:I})]})},NM=Q.forwardRef(({className:t,value:e,...n},r)=>h.jsx("div",{ref:r,className:se("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:h.jsx("div",{className:"h-full w-full flex-1 bg-gradient-to-r from-purple-600 to-blue-600 transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));NM.displayName="Progress";const RY=({lessonsCount:t,completedLessonsCount:e,overallProgress:n})=>h.jsxs(Ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"grid md:grid-cols-3 gap-6 mb-8",children:[h.jsxs(Ge,{className:"glass-effect-alt border-0 shadow-xl bg-white/60",children:[h.jsx(ut,{children:h.jsxs(dt,{className:"flex items-center gap-2 text-sky-700",children:[h.jsx(np,{className:"w-5 h-5"}),"الدروس المتاحة"]})}),h.jsxs(qe,{children:[h.jsx("p",{className:"text-3xl font-bold",children:t}),h.jsx("p",{className:"text-sm text-gray-500",children:"درس متاح للتعلم"})]})]}),h.jsxs(Ge,{className:"glass-effect-alt border-0 shadow-xl bg-white/60",children:[h.jsx(ut,{children:h.jsxs(dt,{className:"flex items-center gap-2 text-green-600",children:[h.jsx(yw,{className:"w-5 h-5"}),"الدروس المكتملة"]})}),h.jsxs(qe,{children:[h.jsx("p",{className:"text-3xl font-bold",children:e}),h.jsxs("p",{className:"text-sm text-gray-500",children:["من أصل ",t," درس"]})]})]}),h.jsxs(Ge,{className:"glass-effect-alt border-0 shadow-xl bg-white/60",children:[h.jsx(ut,{children:h.jsxs(dt,{className:"flex items-center gap-2 text-purple-600",children:[h.jsx(tp,{className:"w-5 h-5"}),"تقدمك العام"]})}),h.jsxs(qe,{children:[h.jsx(NM,{value:n,className:"w-full h-3 mb-1",indicatorClassName:"bg-gradient-to-r from-purple-500 to-pink-500"}),h.jsxs("p",{className:"text-sm text-gray-500 text-center",children:[n,"% مكتمل"]})]})]})]});function J1(t,[e,n]){return Math.min(n,Math.max(e,t))}function Et(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function A_(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:m,children:g,...w}=f,y=(m==null?void 0:m[t][l])||a,T=p.useMemo(()=>w,Object.values(w));return p.createElement(y.Provider,{value:T},g)}function d(f,m){const g=(m==null?void 0:m[t][l])||a,w=p.useContext(g);if(w)return w;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return c.displayName=i+"Provider",[c,d]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,NY(s,...e)]}function NY(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(i)[`__scope${c}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function kY(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function kM(...t){return e=>t.forEach(n=>kY(n,e))}function Gt(...t){return p.useCallback(kM(...t),t)}const $c=p.forwardRef((t,e)=>{const{children:n,...r}=t,s=p.Children.toArray(n),i=s.find(MY);if(i){const o=i.props.children,a=s.map(l=>l===i?p.Children.count(o)>1?p.Children.only(null):p.isValidElement(o)?o.props.children:null:l);return p.createElement(hy,ue({},r,{ref:e}),p.isValidElement(o)?p.cloneElement(o,void 0,a):null)}return p.createElement(hy,ue({},r,{ref:e}),n)});$c.displayName="Slot";const hy=p.forwardRef((t,e)=>{const{children:n,...r}=t;return p.isValidElement(n)?p.cloneElement(n,{...OY(r,n.props),ref:e?kM(e,n.ref):n.ref}):p.Children.count(n)>1?p.Children.only(null):null});hy.displayName="SlotClone";const DY=({children:t})=>p.createElement(p.Fragment,null,t);function MY(t){return p.isValidElement(t)&&t.type===DY}function OY(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{i(...a),s(...a)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function LY(t){const e=t+"CollectionProvider",[n,r]=A_(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=g=>{const{scope:w,children:y}=g,T=Q.useRef(null),E=Q.useRef(new Map).current;return Q.createElement(s,{scope:w,itemMap:E,collectionRef:T},y)},a=t+"CollectionSlot",l=Q.forwardRef((g,w)=>{const{scope:y,children:T}=g,E=i(a,y),_=Gt(w,E.collectionRef);return Q.createElement($c,{ref:_},T)}),c=t+"CollectionItemSlot",d="data-radix-collection-item",f=Q.forwardRef((g,w)=>{const{scope:y,children:T,...E}=g,_=Q.useRef(null),x=Gt(w,_),I=i(c,y);return Q.useEffect(()=>(I.itemMap.set(_,{ref:_,...E}),()=>void I.itemMap.delete(_))),Q.createElement($c,{[d]:"",ref:x},T)});function m(g){const w=i(t+"CollectionConsumer",g);return Q.useCallback(()=>{const T=w.collectionRef.current;if(!T)return[];const E=Array.from(T.querySelectorAll(`[${d}]`));return Array.from(w.itemMap.values()).sort((I,k)=>E.indexOf(I.ref.current)-E.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},m,r]}const jY=p.createContext(void 0);function VY(t){const e=p.useContext(jY);return t||e||"ltr"}const $Y=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],kt=$Y.reduce((t,e)=>{const n=p.forwardRef((r,s)=>{const{asChild:i,...o}=r,a=i?$c:e;return p.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),p.createElement(a,ue({},o,{ref:s}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function FY(t,e){t&&ns.flushSync(()=>t.dispatchEvent(e))}function es(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}function UY(t,e=globalThis==null?void 0:globalThis.document){const n=es(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r),()=>e.removeEventListener("keydown",r)},[n,e])}const py="dismissableLayer.update",BY="dismissableLayer.pointerDownOutside",zY="dismissableLayer.focusOutside";let Z1;const WY=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),HY=p.forwardRef((t,e)=>{var n;const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:a,onDismiss:l,...c}=t,d=p.useContext(WY),[f,m]=p.useState(null),g=(n=f==null?void 0:f.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,w]=p.useState({}),y=Gt(e,S=>m(S)),T=Array.from(d.layers),[E]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=T.indexOf(E),x=f?T.indexOf(f):-1,I=d.layersWithOutsidePointerEventsDisabled.size>0,k=x>=_,O=KY(S=>{const P=S.target,A=[...d.branches].some(D=>D.contains(P));!k||A||(i==null||i(S),a==null||a(S),S.defaultPrevented||l==null||l())},g),C=GY(S=>{const P=S.target;[...d.branches].some(D=>D.contains(P))||(o==null||o(S),a==null||a(S),S.defaultPrevented||l==null||l())},g);return UY(S=>{x===d.layers.size-1&&(s==null||s(S),!S.defaultPrevented&&l&&(S.preventDefault(),l()))},g),p.useEffect(()=>{if(f)return r&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Z1=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(f)),d.layers.add(f),eS(),()=>{r&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Z1)}},[f,g,r,d]),p.useEffect(()=>()=>{f&&(d.layers.delete(f),d.layersWithOutsidePointerEventsDisabled.delete(f),eS())},[f,d]),p.useEffect(()=>{const S=()=>w({});return document.addEventListener(py,S),()=>document.removeEventListener(py,S)},[]),p.createElement(kt.div,ue({},c,{ref:y,style:{pointerEvents:I?k?"auto":"none":void 0,...t.style},onFocusCapture:Et(t.onFocusCapture,C.onFocusCapture),onBlurCapture:Et(t.onBlurCapture,C.onBlurCapture),onPointerDownCapture:Et(t.onPointerDownCapture,O.onPointerDownCapture)}))});function KY(t,e=globalThis==null?void 0:globalThis.document){const n=es(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let d=function(){DM(BY,n,c,{discrete:!0})};var l=d;const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=d,e.addEventListener("click",s.current,{once:!0})):d()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function GY(t,e=globalThis==null?void 0:globalThis.document){const n=es(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&DM(zY,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function eS(){const t=new CustomEvent(py);document.dispatchEvent(t)}function DM(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?FY(s,i):s.dispatchEvent(i)}let pg=0;function qY(){p.useEffect(()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(t=n[0])!==null&&t!==void 0?t:tS()),document.body.insertAdjacentElement("beforeend",(e=n[1])!==null&&e!==void 0?e:tS()),pg++,()=>{pg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(r=>r.remove()),pg--}},[])}function tS(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const mg="focusScope.autoFocusOnMount",gg="focusScope.autoFocusOnUnmount",nS={bubbles:!1,cancelable:!0},QY=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),c=es(s),d=es(i),f=p.useRef(null),m=Gt(e,y=>l(y)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let _=function(O){if(g.paused||!a)return;const C=O.target;a.contains(C)?f.current=C:ps(f.current,{select:!0})},x=function(O){if(g.paused||!a)return;const C=O.relatedTarget;C!==null&&(a.contains(C)||ps(f.current,{select:!0}))},I=function(O){if(document.activeElement===document.body)for(const S of O)S.removedNodes.length>0&&ps(a)};var y=_,T=x,E=I;document.addEventListener("focusin",_),document.addEventListener("focusout",x);const k=new MutationObserver(I);return a&&k.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",x),k.disconnect()}}},[r,a,g.paused]),p.useEffect(()=>{if(a){sS.add(g);const y=document.activeElement;if(!a.contains(y)){const E=new CustomEvent(mg,nS);a.addEventListener(mg,c),a.dispatchEvent(E),E.defaultPrevented||(YY(tX(MM(a)),{select:!0}),document.activeElement===y&&ps(a))}return()=>{a.removeEventListener(mg,c),setTimeout(()=>{const E=new CustomEvent(gg,nS);a.addEventListener(gg,d),a.dispatchEvent(E),E.defaultPrevented||ps(y??document.body,{select:!0}),a.removeEventListener(gg,d),sS.remove(g)},0)}}},[a,c,d,g]);const w=p.useCallback(y=>{if(!n&&!r||g.paused)return;const T=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,E=document.activeElement;if(T&&E){const _=y.currentTarget,[x,I]=XY(_);x&&I?!y.shiftKey&&E===I?(y.preventDefault(),n&&ps(x,{select:!0})):y.shiftKey&&E===x&&(y.preventDefault(),n&&ps(I,{select:!0})):E===_&&y.preventDefault()}},[n,r,g.paused]);return p.createElement(kt.div,ue({tabIndex:-1},o,{ref:m,onKeyDown:w}))});function YY(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ps(r,{select:e}),document.activeElement!==n)return}function XY(t){const e=MM(t),n=rS(e,t),r=rS(e.reverse(),t);return[n,r]}function MM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function rS(t,e){for(const n of t)if(!JY(n,{upTo:e}))return n}function JY(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ZY(t){return t instanceof HTMLInputElement&&"select"in t}function ps(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&ZY(t)&&e&&t.select()}}const sS=eX();function eX(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=iS(t,e),t.unshift(e)},remove(e){var n;t=iS(t,e),(n=t[0])===null||n===void 0||n.resume()}}}function iS(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function tX(t){return t.filter(e=>e.tagName!=="A")}const Vn=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},nX=dh["useId".toString()]||(()=>{});let rX=0;function OM(t){const[e,n]=p.useState(nX());return Vn(()=>{t||n(r=>r??String(rX++))},[t]),t||(e?`radix-${e}`:"")}function sX(t){const[e,n]=p.useState(void 0);return Vn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}const LM="Popper",[jM,VM]=A_(LM),[iX,$M]=jM(LM),oX=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return p.createElement(iX,{scope:e,anchor:r,onAnchorChange:s},n)},aX="PopperAnchor",lX=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=$M(aX,n),o=p.useRef(null),a=Gt(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:p.createElement(kt.div,ue({},s,{ref:a}))}),FM="PopperContent",[cX,rZ]=jM(FM),uX=p.forwardRef((t,e)=>{var n,r,s,i,o,a,l,c;const{__scopePopper:d,side:f="bottom",sideOffset:m=0,align:g="center",alignOffset:w=0,arrowPadding:y=0,avoidCollisions:T=!0,collisionBoundary:E=[],collisionPadding:_=0,sticky:x="partial",hideWhenDetached:I=!1,updatePositionStrategy:k="optimized",onPlaced:O,...C}=t,S=$M(FM,d),[P,A]=p.useState(null),D=Gt(e,qt=>A(qt)),[M,N]=p.useState(null),F=sX(M),X=(n=F==null?void 0:F.width)!==null&&n!==void 0?n:0,G=(r=F==null?void 0:F.height)!==null&&r!==void 0?r:0,J=f+(g!=="center"?"-"+g:""),V=typeof _=="number"?_:{top:0,right:0,bottom:0,left:0,..._},L=Array.isArray(E)?E:[E],z=L.length>0,B={padding:V,boundary:L.filter(dX),altBoundary:z},{refs:Z,floatingStyles:ne,placement:W,isPositioned:te,middlewareData:ie}=u2({strategy:"fixed",placement:J,whileElementsMounted:(...qt)=>l2(...qt,{animationFrame:k==="always"}),elements:{reference:S.anchor},middleware:[d2({mainAxis:m+G,alignmentAxis:w}),T&&f2({mainAxis:!0,crossAxis:!1,limiter:x==="partial"?h2():void 0,...B}),T&&p2({...B}),m2({...B,apply:({elements:qt,rects:Fn,availableWidth:sr,availableHeight:za})=>{const{width:Cr,height:bu}=Fn.reference,is=qt.floating.style;is.setProperty("--radix-popper-available-width",`${sr}px`),is.setProperty("--radix-popper-available-height",`${za}px`),is.setProperty("--radix-popper-anchor-width",`${Cr}px`),is.setProperty("--radix-popper-anchor-height",`${bu}px`)}}),M&&v2({element:M,padding:y}),fX({arrowWidth:X,arrowHeight:G}),I&&g2({strategy:"referenceHidden",...B})]}),[q,we]=UM(W),xe=es(O);Vn(()=>{te&&(xe==null||xe())},[te,xe]);const ye=(s=ie.arrow)===null||s===void 0?void 0:s.x,me=(i=ie.arrow)===null||i===void 0?void 0:i.y,be=((o=ie.arrow)===null||o===void 0?void 0:o.centerOffset)!==0,[Qe,ft]=p.useState();return Vn(()=>{P&&ft(window.getComputedStyle(P).zIndex)},[P]),p.createElement("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ne,transform:te?ne.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Qe,"--radix-popper-transform-origin":[(a=ie.transformOrigin)===null||a===void 0?void 0:a.x,(l=ie.transformOrigin)===null||l===void 0?void 0:l.y].join(" ")},dir:t.dir},p.createElement(cX,{scope:d,placedSide:q,onArrowChange:N,arrowX:ye,arrowY:me,shouldHideArrow:be},p.createElement(kt.div,ue({"data-side":q,"data-align":we},C,{ref:D,style:{...C.style,animation:te?void 0:"none",opacity:(c=ie.hide)!==null&&c!==void 0&&c.referenceHidden?0:void 0}}))))});function dX(t){return t!==null}const fX=t=>({name:"transformOrigin",options:t,fn(e){var n,r,s,i,o;const{placement:a,rects:l,middlewareData:c}=e,f=((n=c.arrow)===null||n===void 0?void 0:n.centerOffset)!==0,m=f?0:t.arrowWidth,g=f?0:t.arrowHeight,[w,y]=UM(a),T={start:"0%",center:"50%",end:"100%"}[y],E=((r=(s=c.arrow)===null||s===void 0?void 0:s.x)!==null&&r!==void 0?r:0)+m/2,_=((i=(o=c.arrow)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0)+g/2;let x="",I="";return w==="bottom"?(x=f?T:`${E}px`,I=`${-g}px`):w==="top"?(x=f?T:`${E}px`,I=`${l.floating.height+g}px`):w==="right"?(x=`${-g}px`,I=f?T:`${_}px`):w==="left"&&(x=`${l.floating.width+g}px`,I=f?T:`${_}px`),{data:{x,y:I}}}});function UM(t){const[e,n="center"]=t.split("-");return[e,n]}const hX=oX,pX=lX,mX=uX,gX=p.forwardRef((t,e)=>{var n;const{container:r=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...s}=t;return r?II.createPortal(p.createElement(kt.div,ue({},s,{ref:e})),r):null});function oS({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=vX({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,a=es(n),l=p.useCallback(c=>{if(i){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else s(c)},[i,t,s,a]);return[o,l]}function vX({defaultProp:t,onChange:e}){const n=p.useState(t),[r]=n,s=p.useRef(r),i=es(e);return p.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}function yX(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}const wX=p.forwardRef((t,e)=>p.createElement(kt.span,ue({},t,{ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}})));var BM=xk(),vg=function(){},Dp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:vg,onWheelCapture:vg,onTouchMoveCapture:vg}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,d=t.enabled,f=t.shards,m=t.sideCar,g=t.noIsolation,w=t.inert,y=t.allowPinchZoom,T=t.as,E=T===void 0?"div":T,_=Na(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),x=m,I=_k([n,e]),k=zt(zt({},_),s);return p.createElement(p.Fragment,null,d&&p.createElement(x,{sideCar:BM,removeScrollBar:c,shards:f,noIsolation:g,inert:w,setCallbacks:i,allowPinchZoom:!!y,lockRef:n}),o?p.cloneElement(p.Children.only(a),zt(zt({},k),{ref:I})):p.createElement(E,zt({},k,{className:l,ref:I}),a))});Dp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Dp.classNames={fullWidth:Jl,zeroRight:Xl};var my=!1;if(typeof window<"u")try{var Td=Object.defineProperty({},"passive",{get:function(){return my=!0,!0}});window.addEventListener("test",Td,Td),window.removeEventListener("test",Td,Td)}catch{my=!1}var _o=my?{passive:!1}:!1,_X=function(t){return t.tagName==="TEXTAREA"},zM=function(t,e){var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!_X(t)&&n[e]==="visible")},xX=function(t){return zM(t,"overflowY")},EX=function(t){return zM(t,"overflowX")},aS=function(t,e){var n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=WM(t,n);if(r){var s=HM(t,n),i=s[1],o=s[2];if(i>o)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},TX=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},bX=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},WM=function(t,e){return t==="v"?xX(e):EX(e)},HM=function(t,e){return t==="v"?TX(e):bX(e)},SX=function(t,e){return t==="h"&&e==="rtl"?-1:1},CX=function(t,e,n,r,s){var i=SX(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),c=!1,d=o>0,f=0,m=0;do{var g=HM(t,a),w=g[0],y=g[1],T=g[2],E=y-T-i*w;(w||E)&&WM(t,a)&&(f+=E,m+=w),a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(d&&(s&&f===0||!s&&o>f)||!d&&(s&&m===0||!s&&-o>m))&&(c=!0),c},bd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},lS=function(t){return[t.deltaX,t.deltaY]},cS=function(t){return t&&"current"in t?t.current:t},IX=function(t,e){return t[0]===e[0]&&t[1]===e[1]},PX=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},AX=0,xo=[];function RX(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(AX++)[0],i=p.useState(function(){return Gw()})[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var y=ZI([t.lockRef.current],(t.shards||[]).map(cS),!0).filter(Boolean);return y.forEach(function(T){return T.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(T){return T.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(y,T){if("touches"in y&&y.touches.length===2)return!o.current.allowPinchZoom;var E=bd(y),_=n.current,x="deltaX"in y?y.deltaX:_[0]-E[0],I="deltaY"in y?y.deltaY:_[1]-E[1],k,O=y.target,C=Math.abs(x)>Math.abs(I)?"h":"v";if("touches"in y&&C==="h"&&O.type==="range")return!1;var S=aS(C,O);if(!S)return!0;if(S?k=C:(k=C==="v"?"h":"v",S=aS(C,O)),!S)return!1;if(!r.current&&"changedTouches"in y&&(x||I)&&(r.current=k),!k)return!0;var P=r.current||k;return CX(P,T,y,P==="h"?x:I,!0)},[]),l=p.useCallback(function(y){var T=y;if(!(!xo.length||xo[xo.length-1]!==i)){var E="deltaY"in T?lS(T):bd(T),_=e.current.filter(function(k){return k.name===T.type&&k.target===T.target&&IX(k.delta,E)})[0];if(_&&_.should){T.cancelable&&T.preventDefault();return}if(!_){var x=(o.current.shards||[]).map(cS).filter(Boolean).filter(function(k){return k.contains(T.target)}),I=x.length>0?a(T,x[0]):!o.current.noIsolation;I&&T.cancelable&&T.preventDefault()}}},[]),c=p.useCallback(function(y,T,E,_){var x={name:y,delta:T,target:E,should:_};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(I){return I!==x})},1)},[]),d=p.useCallback(function(y){n.current=bd(y),r.current=void 0},[]),f=p.useCallback(function(y){c(y.type,lS(y),y.target,a(y,t.lockRef.current))},[]),m=p.useCallback(function(y){c(y.type,bd(y),y.target,a(y,t.lockRef.current))},[]);p.useEffect(function(){return xo.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,_o),document.addEventListener("touchmove",l,_o),document.addEventListener("touchstart",d,_o),function(){xo=xo.filter(function(y){return y!==i}),document.removeEventListener("wheel",l,_o),document.removeEventListener("touchmove",l,_o),document.removeEventListener("touchstart",d,_o)}},[]);var g=t.removeScrollBar,w=t.inert;return p.createElement(p.Fragment,null,w?p.createElement(i,{styles:PX(s)}):null,g?p.createElement(Sk,{gapMode:"margin"}):null)}const NX=Tk(BM,RX);var KM=p.forwardRef(function(t,e){return p.createElement(Dp,zt({},t,{ref:e,sideCar:NX}))});KM.classNames=Dp.classNames;const kX=KM,DX=[" ","Enter","ArrowUp","ArrowDown"],MX=[" ","Enter"],Mp="Select",[Op,Lp,OX]=LY(Mp),[Ba,sZ]=A_(Mp,[OX,VM]),R_=VM(),[LX,co]=Ba(Mp),[jX,VX]=Ba(Mp),$X=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:f,disabled:m,required:g}=t,w=R_(e),[y,T]=p.useState(null),[E,_]=p.useState(null),[x,I]=p.useState(!1),k=VY(c),[O=!1,C]=oS({prop:r,defaultProp:s,onChange:i}),[S,P]=oS({prop:o,defaultProp:a,onChange:l}),A=p.useRef(null),D=y?!!y.closest("form"):!0,[M,N]=p.useState(new Set),F=Array.from(M).map(X=>X.props.value).join(";");return p.createElement(hX,w,p.createElement(LX,{required:g,scope:e,trigger:y,onTriggerChange:T,valueNode:E,onValueNodeChange:_,valueNodeHasChildren:x,onValueNodeHasChildrenChange:I,contentId:OM(),value:S,onValueChange:P,open:O,onOpenChange:C,dir:k,triggerPointerDownPosRef:A,disabled:m},p.createElement(Op.Provider,{scope:e},p.createElement(jX,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(X=>{N(G=>new Set(G).add(X))},[]),onNativeOptionRemove:p.useCallback(X=>{N(G=>{const J=new Set(G);return J.delete(X),J})},[])},n)),D?p.createElement(XM,{key:F,"aria-hidden":!0,required:g,tabIndex:-1,name:d,autoComplete:f,value:S,onChange:X=>P(X.target.value),disabled:m},S===void 0?p.createElement("option",{value:""}):null,Array.from(M)):null))},FX="SelectTrigger",UX=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=R_(n),o=co(FX,n),a=o.disabled||r,l=Gt(e,o.onTriggerChange),c=Lp(n),[d,f,m]=JM(w=>{const y=c().filter(_=>!_.disabled),T=y.find(_=>_.value===o.value),E=ZM(y,w,T);E!==void 0&&o.onValueChange(E.value)}),g=()=>{a||(o.onOpenChange(!0),m())};return p.createElement(pX,ue({asChild:!0},i),p.createElement(kt.button,ue({type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":YM(o.value)?"":void 0},s,{ref:l,onClick:Et(s.onClick,w=>{w.currentTarget.focus()}),onPointerDown:Et(s.onPointerDown,w=>{const y=w.target;y.hasPointerCapture(w.pointerId)&&y.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&(g(),o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)},w.preventDefault())}),onKeyDown:Et(s.onKeyDown,w=>{const y=d.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&f(w.key),!(y&&w.key===" ")&&DX.includes(w.key)&&(g(),w.preventDefault())})})))}),BX="SelectValue",zX=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=co(BX,n),{onValueNodeHasChildrenChange:c}=l,d=i!==void 0,f=Gt(e,l.onValueNodeChange);return Vn(()=>{c(d)},[c,d]),p.createElement(kt.span,ue({},a,{ref:f,style:{pointerEvents:"none"}}),YM(l.value)?p.createElement(p.Fragment,null,o):i)}),WX=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return p.createElement(kt.span,ue({"aria-hidden":!0},s,{ref:e}),r||"▼")}),HX=t=>p.createElement(gX,ue({asChild:!0},t)),Ca="SelectContent",KX=p.forwardRef((t,e)=>{const n=co(Ca,t.__scopeSelect),[r,s]=p.useState();if(Vn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?ns.createPortal(p.createElement(GM,{scope:t.__scopeSelect},p.createElement(Op.Slot,{scope:t.__scopeSelect},p.createElement("div",null,t.children))),i):null}return p.createElement(GX,ue({},t,{ref:e}))}),Rr=10,[GM,uo]=Ba(Ca),GX=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:w,hideWhenDetached:y,avoidCollisions:T,...E}=t,_=co(Ca,n),[x,I]=p.useState(null),[k,O]=p.useState(null),C=Gt(e,q=>I(q)),[S,P]=p.useState(null),[A,D]=p.useState(null),M=Lp(n),[N,F]=p.useState(!1),X=p.useRef(!1);p.useEffect(()=>{if(x)return qw(x)},[x]),qY();const G=p.useCallback(q=>{const[we,...xe]=M().map(be=>be.ref.current),[ye]=xe.slice(-1),me=document.activeElement;for(const be of q)if(be===me||(be==null||be.scrollIntoView({block:"nearest"}),be===we&&k&&(k.scrollTop=0),be===ye&&k&&(k.scrollTop=k.scrollHeight),be==null||be.focus(),document.activeElement!==me))return},[M,k]),J=p.useCallback(()=>G([S,x]),[G,S,x]);p.useEffect(()=>{N&&J()},[N,J]);const{onOpenChange:V,triggerPointerDownPosRef:L}=_;p.useEffect(()=>{if(x){let q={x:0,y:0};const we=ye=>{var me,be,Qe,ft;q={x:Math.abs(Math.round(ye.pageX)-((me=(be=L.current)===null||be===void 0?void 0:be.x)!==null&&me!==void 0?me:0)),y:Math.abs(Math.round(ye.pageY)-((Qe=(ft=L.current)===null||ft===void 0?void 0:ft.y)!==null&&Qe!==void 0?Qe:0))}},xe=ye=>{q.x<=10&&q.y<=10?ye.preventDefault():x.contains(ye.target)||V(!1),document.removeEventListener("pointermove",we),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",xe,{capture:!0})}}},[x,V,L]),p.useEffect(()=>{const q=()=>V(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[V]);const[z,B]=JM(q=>{const we=M().filter(me=>!me.disabled),xe=we.find(me=>me.ref.current===document.activeElement),ye=ZM(we,q,xe);ye&&setTimeout(()=>ye.ref.current.focus())}),Z=p.useCallback((q,we,xe)=>{const ye=!X.current&&!xe;(_.value!==void 0&&_.value===we||ye)&&(P(q),ye&&(X.current=!0))},[_.value]),ne=p.useCallback(()=>x==null?void 0:x.focus(),[x]),W=p.useCallback((q,we,xe)=>{const ye=!X.current&&!xe;(_.value!==void 0&&_.value===we||ye)&&D(q)},[_.value]),te=r==="popper"?uS:qX,ie=te===uS?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:w,hideWhenDetached:y,avoidCollisions:T}:{};return p.createElement(GM,{scope:n,content:x,viewport:k,onViewportChange:O,itemRefCallback:Z,selectedItem:S,onItemLeave:ne,itemTextRefCallback:W,focusSelectedItem:J,selectedItemText:A,position:r,isPositioned:N,searchRef:z},p.createElement(kX,{as:$c,allowPinchZoom:!0},p.createElement(QY,{asChild:!0,trapped:_.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:Et(s,q=>{var we;(we=_.trigger)===null||we===void 0||we.focus({preventScroll:!0}),q.preventDefault()})},p.createElement(HY,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>_.onOpenChange(!1)},p.createElement(te,ue({role:"listbox",id:_.contentId,"data-state":_.open?"open":"closed",dir:_.dir,onContextMenu:q=>q.preventDefault()},E,ie,{onPlaced:()=>F(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",...E.style},onKeyDown:Et(E.onKeyDown,q=>{const we=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!we&&q.key.length===1&&B(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let ye=M().filter(me=>!me.disabled).map(me=>me.ref.current);if(["ArrowUp","End"].includes(q.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const me=q.target,be=ye.indexOf(me);ye=ye.slice(be+1)}setTimeout(()=>G(ye)),q.preventDefault()}})}))))))}),qX=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=co(Ca,n),o=uo(Ca,n),[a,l]=p.useState(null),[c,d]=p.useState(null),f=Gt(e,C=>d(C)),m=Lp(n),g=p.useRef(!1),w=p.useRef(!0),{viewport:y,selectedItem:T,selectedItemText:E,focusSelectedItem:_}=o,x=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&c&&y&&T&&E){const C=i.trigger.getBoundingClientRect(),S=c.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),A=E.getBoundingClientRect();if(i.dir!=="rtl"){const me=A.left-S.left,be=P.left-me,Qe=C.left-be,ft=C.width+Qe,qt=Math.max(ft,S.width),Fn=window.innerWidth-Rr,sr=J1(be,[Rr,Fn-qt]);a.style.minWidth=ft+"px",a.style.left=sr+"px"}else{const me=S.right-A.right,be=window.innerWidth-P.right-me,Qe=window.innerWidth-C.right-be,ft=C.width+Qe,qt=Math.max(ft,S.width),Fn=window.innerWidth-Rr,sr=J1(be,[Rr,Fn-qt]);a.style.minWidth=ft+"px",a.style.right=sr+"px"}const D=m(),M=window.innerHeight-Rr*2,N=y.scrollHeight,F=window.getComputedStyle(c),X=parseInt(F.borderTopWidth,10),G=parseInt(F.paddingTop,10),J=parseInt(F.borderBottomWidth,10),V=parseInt(F.paddingBottom,10),L=X+G+N+V+J,z=Math.min(T.offsetHeight*5,L),B=window.getComputedStyle(y),Z=parseInt(B.paddingTop,10),ne=parseInt(B.paddingBottom,10),W=C.top+C.height/2-Rr,te=M-W,ie=T.offsetHeight/2,q=T.offsetTop+ie,we=X+G+q,xe=L-we;if(we<=W){const me=T===D[D.length-1].ref.current;a.style.bottom="0px";const be=c.clientHeight-y.offsetTop-y.offsetHeight,Qe=Math.max(te,ie+(me?ne:0)+be+J),ft=we+Qe;a.style.height=ft+"px"}else{const me=T===D[0].ref.current;a.style.top="0px";const Qe=Math.max(W,X+y.offsetTop+(me?Z:0)+ie)+xe;a.style.height=Qe+"px",y.scrollTop=we-W+y.offsetTop}a.style.margin=`${Rr}px 0`,a.style.minHeight=z+"px",a.style.maxHeight=M+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,a,c,y,T,E,i.dir,r]);Vn(()=>x(),[x]);const[I,k]=p.useState();Vn(()=>{c&&k(window.getComputedStyle(c).zIndex)},[c]);const O=p.useCallback(C=>{C&&w.current===!0&&(x(),_==null||_(),w.current=!1)},[x,_]);return p.createElement(QX,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:O},p.createElement("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I}},p.createElement(kt.div,ue({},s,{ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}}))))}),uS=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Rr,...i}=t,o=R_(n);return p.createElement(mX,ue({},o,i,{ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[QX,N_]=Ba(Ca,{}),dS="SelectViewport",YX=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=uo(dS,n),i=N_(dS,n),o=Gt(e,s.onViewportChange),a=p.useRef(0);return p.createElement(p.Fragment,null,p.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),p.createElement(Op.Slot,{scope:n},p.createElement(kt.div,ue({"data-radix-select-viewport":"",role:"presentation"},r,{ref:o,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:Et(r.onScroll,l=>{const c=l.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=i;if(f!=null&&f.current&&d){const m=Math.abs(a.current-c.scrollTop);if(m>0){const g=window.innerHeight-Rr*2,w=parseFloat(d.style.minHeight),y=parseFloat(d.style.height),T=Math.max(w,y);if(T<g){const E=T+m,_=Math.min(g,E),x=E-_;d.style.height=_+"px",d.style.bottom==="0px"&&(c.scrollTop=x>0?x:0,d.style.justifyContent="flex-end")}}}a.current=c.scrollTop})}))))}),XX="SelectGroup",[iZ,JX]=Ba(XX),ZX="SelectLabel",eJ=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=JX(ZX,n);return p.createElement(kt.div,ue({id:s.id},r,{ref:e}))}),gy="SelectItem",[tJ,qM]=Ba(gy),nJ=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=co(gy,n),l=uo(gy,n),c=a.value===r,[d,f]=p.useState(i??""),[m,g]=p.useState(!1),w=Gt(e,E=>{var _;return(_=l.itemRefCallback)===null||_===void 0?void 0:_.call(l,E,r,s)}),y=OM(),T=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.createElement(tJ,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:p.useCallback(E=>{f(_=>{var x;return _||((x=E==null?void 0:E.textContent)!==null&&x!==void 0?x:"").trim()})},[])},p.createElement(Op.ItemSlot,{scope:n,value:r,disabled:s,textValue:d},p.createElement(kt.div,ue({role:"option","aria-labelledby":y,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},o,{ref:w,onFocus:Et(o.onFocus,()=>g(!0)),onBlur:Et(o.onBlur,()=>g(!1)),onPointerUp:Et(o.onPointerUp,T),onPointerMove:Et(o.onPointerMove,E=>{if(s){var _;(_=l.onItemLeave)===null||_===void 0||_.call(l)}else E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Et(o.onPointerLeave,E=>{if(E.currentTarget===document.activeElement){var _;(_=l.onItemLeave)===null||_===void 0||_.call(l)}}),onKeyDown:Et(o.onKeyDown,E=>{var _;((_=l.searchRef)===null||_===void 0?void 0:_.current)!==""&&E.key===" "||(MX.includes(E.key)&&T(),E.key===" "&&E.preventDefault())})}))))}),Sd="SelectItemText",rJ=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=co(Sd,n),a=uo(Sd,n),l=qM(Sd,n),c=VX(Sd,n),[d,f]=p.useState(null),m=Gt(e,E=>f(E),l.onItemTextChange,E=>{var _;return(_=a.itemTextRefCallback)===null||_===void 0?void 0:_.call(a,E,l.value,l.disabled)}),g=d==null?void 0:d.textContent,w=p.useMemo(()=>p.createElement("option",{key:l.value,value:l.value,disabled:l.disabled},g),[l.disabled,l.value,g]),{onNativeOptionAdd:y,onNativeOptionRemove:T}=c;return Vn(()=>(y(w),()=>T(w)),[y,T,w]),p.createElement(p.Fragment,null,p.createElement(kt.span,ue({id:l.textId},i,{ref:m})),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?ns.createPortal(i.children,o.valueNode):null)}),sJ="SelectItemIndicator",iJ=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return qM(sJ,n).isSelected?p.createElement(kt.span,ue({"aria-hidden":!0},r,{ref:e})):null}),fS="SelectScrollUpButton",oJ=p.forwardRef((t,e)=>{const n=uo(fS,t.__scopeSelect),r=N_(fS,t.__scopeSelect),[s,i]=p.useState(!1),o=Gt(e,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=l.scrollTop>0;i(d)};var a=c;const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?p.createElement(QM,ue({},t,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}})):null}),hS="SelectScrollDownButton",aJ=p.forwardRef((t,e)=>{const n=uo(hS,t.__scopeSelect),r=N_(hS,t.__scopeSelect),[s,i]=p.useState(!1),o=Gt(e,r.onScrollButtonChange);return Vn(()=>{if(n.viewport&&n.isPositioned){let c=function(){const d=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<d;i(f)};var a=c;const l=n.viewport;return c(),l.addEventListener("scroll",c),()=>l.removeEventListener("scroll",c)}},[n.viewport,n.isPositioned]),s?p.createElement(QM,ue({},t,{ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}})):null}),QM=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=uo("SelectScrollButton",n),o=p.useRef(null),a=Lp(n),l=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),Vn(()=>{var c;const d=a().find(f=>f.ref.current===document.activeElement);d==null||(c=d.ref.current)===null||c===void 0||c.scrollIntoView({block:"nearest"})},[a]),p.createElement(kt.div,ue({"aria-hidden":!0},s,{ref:e,style:{flexShrink:0,...s.style},onPointerDown:Et(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Et(s.onPointerMove,()=>{var c;(c=i.onItemLeave)===null||c===void 0||c.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Et(s.onPointerLeave,()=>{l()})}))}),lJ=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.createElement(kt.div,ue({"aria-hidden":!0},r,{ref:e}))});function YM(t){return t===""||t===void 0}const XM=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=p.useRef(null),i=Gt(e,s),o=yX(n);return p.useEffect(()=>{const a=s.current,l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&d){const f=new Event("change",{bubbles:!0});d.call(a,n),a.dispatchEvent(f)}},[o,n]),p.createElement(wX,{asChild:!0},p.createElement("select",ue({},r,{ref:i,defaultValue:n})))});XM.displayName="BubbleSelect";function JM(t){const e=es(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function ZM(t,e,n){const s=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=cJ(t,Math.max(i,0));s.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function cJ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const uJ=$X,eO=UX,dJ=zX,fJ=WX,hJ=HX,tO=KX,pJ=YX,nO=eJ,rO=nJ,mJ=rJ,gJ=iJ,sO=oJ,iO=aJ,oO=lJ,vJ=uJ,yJ=dJ,aO=Q.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(eO,{ref:r,className:se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,h.jsx(fJ,{asChild:!0,children:h.jsx(VR,{className:"h-4 w-4 opacity-50"})})]}));aO.displayName=eO.displayName;const lO=Q.forwardRef(({className:t,children:e,...n},r)=>h.jsx(sO,{ref:r,className:se("flex cursor-default items-center justify-center py-1",t),...n,children:e||h.jsx(p7,{className:"h-4 w-4"})}));lO.displayName=sO.displayName;const cO=Q.forwardRef(({className:t,children:e,...n},r)=>h.jsx(iO,{ref:r,className:se("flex cursor-default items-center justify-center py-1",t),...n,children:e||h.jsx(VR,{className:"h-4 w-4"})}));cO.displayName=iO.displayName;const uO=Q.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>h.jsx(hJ,{children:h.jsxs(tO,{ref:s,className:se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[h.jsx(lO,{}),h.jsx(pJ,{className:se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),h.jsx(cO,{})]})}));uO.displayName=tO.displayName;const wJ=Q.forwardRef(({className:t,...e},n)=>h.jsx(nO,{ref:n,className:se("py-1.5 pr-8 pl-2 text-sm font-semibold",t),...e}));wJ.displayName=nO.displayName;const dO=Q.forwardRef(({className:t,children:e,...n},r)=>h.jsxs(rO,{ref:r,className:se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pr-8 pl-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[h.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:h.jsx(gJ,{children:h.jsx(ww,{className:"h-4 w-4"})})}),h.jsx(mJ,{children:e})]}));dO.displayName=rO.displayName;const _J=Q.forwardRef(({className:t,...e},n)=>h.jsx(oO,{ref:n,className:se("-mx-1 my-1 h-px bg-muted",t),...e}));_J.displayName=oO.displayName;const xJ=({lessons:t,selectedLessonId:e,onLessonClick:n,studentProgress:r})=>h.jsxs(Ge,{className:"glass-effect-alt border-0 shadow-xl",children:[h.jsxs(ut,{children:[h.jsx(dt,{children:"اختر درسًا"}),h.jsx(mn,{children:"اختر درسًا من القائمة لبدء التعلم."})]}),h.jsx(qe,{children:t.length>0?h.jsxs(vJ,{onValueChange:n,value:e||"",children:[h.jsx(aO,{className:"w-full",children:h.jsx(yJ,{placeholder:"اختر درسًا لعرضه"})}),h.jsx(uO,{children:t.map(s=>h.jsxs(dO,{value:s.id,children:["الدرس ",s.lessonNumber,": ",s.title," ",r.completedLessons.includes(s.id)?"✅":""]},s.id))})]}):h.jsx("p",{className:"text-center text-gray-500 py-4",children:"لا توجد دروس متاحة حاليًا."})})]}),EJ=({platformSettings:t,onOpenResourceModal:e})=>{const n="https://app.magicschool.ai/tools",r=(t==null?void 0:t.studentAiToolsUrl)||n,s=(t==null?void 0:t.meetingRoomsList)||[];return h.jsxs("div",{className:"space-y-6",children:[s.length>0&&h.jsxs(Ge,{className:"glass-effect-alt border-0 shadow-xl bg-gradient-to-r from-green-500/10 to-teal-500/10",children:[h.jsxs(ut,{children:[h.jsxs(dt,{className:"flex items-center gap-2 text-green-700",children:[h.jsx(Ew,{className:"w-6 h-6"}),"غرف الاجتماعات الافتراضية"]}),h.jsx(mn,{children:"انضم إلى الاجتماعات المباشرة مع المعلم."})]}),h.jsx(qe,{className:"space-y-3",children:s.map(i=>h.jsxs(he,{variant:"outline",className:"w-full justify-start p-4 h-auto glass-button-alt border-green-300 hover:border-green-500",onClick:()=>e(i.url,i.name,"meeting"),children:[h.jsx(Qs,{className:"w-5 h-5 ml-3 text-green-600"}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:i.name}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"الانضمام إلى الاجتماع"})]})]},i.id))})]}),h.jsxs(Ge,{className:"glass-effect-alt border-0 shadow-xl bg-gradient-to-r from-purple-600/10 to-blue-600/10",children:[h.jsxs(ut,{children:[h.jsxs(dt,{className:"flex items-center gap-2 text-purple-700",children:[h.jsx(Hf,{className:"w-6 h-6"}),"تطبيقات الذكاء الاصطناعي"]}),h.jsx(mn,{children:"استكشف أدوات الذكاء الاصطناعي المساعدة."})]}),h.jsx(qe,{className:"flex justify-center",children:h.jsxs(he,{onClick:()=>window.open(r,"_blank","noopener,noreferrer"),className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[h.jsx(Qs,{className:"w-4 h-4 ml-2"}),"فتح تطبيقات الذكاء الاصطناعي"]})})]})]})},TJ=({lesson:t,studentProgress:e,onMarkLessonComplete:n,onOpenResourceModal:r,platformSettings:s})=>{const i=a=>{if(!a)return null;let l;return a.includes("youtu.be/")?l=a.split("youtu.be/")[1].split("?")[0]:a.includes("youtube.com/watch?v=")?l=a.split("watch?v=")[1].split("&")[0]:a.includes("youtube.com/embed/")?l=a.split("embed/")[1].split("?")[0]:a.includes("youtube.com/shorts/")&&(l=a.split("shorts/")[1].split("?")[0]),l?`https://www.youtube.com/embed/${l}`:null},o=(s==null?void 0:s.finalExamsList)||[];return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(Ge,{className:"glass-effect-alt border-0 shadow-xl overflow-hidden",children:[h.jsxs(ut,{className:"bg-gray-50/50",children:[h.jsxs(dt,{className:"text-2xl gradient-text-alt",children:["الدرس ",t.lessonNumber,": ",t.title]}),e.completedLessons.includes(t.id)&&h.jsx(xu,{variant:"default",className:"mt-1 bg-green-500 text-white w-fit",children:"مكتمل"})]}),h.jsxs(qe,{className:"pt-6 space-y-6",children:[t.videoUrl&&i(t.videoUrl)?h.jsxs("div",{children:[h.jsxs("h3",{className:"text-xl font-semibold mb-2 flex items-center gap-2",children:[h.jsx(T7,{className:"text-red-500"})," مشاهدة الفيديو"]}),h.jsx("div",{className:"aspect-video rounded-lg overflow-hidden shadow-lg",children:h.jsx("iframe",{width:"100%",height:"100%",src:i(t.videoUrl),title:`فيديو الدرس: ${t.title}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share",allowFullScreen:!0})})]}):t.videoUrl?h.jsxs("p",{className:"text-orange-600",children:["رابط الفيديو غير صحيح أو غير مدعوم حاليًا. ",h.jsx("a",{href:t.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"underline",children:"جرب فتحه مباشرة"}),"."]}):h.jsx("p",{className:"text-gray-500",children:"لا يوجد فيديو لهذا الدرس."}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[t.pdfUrl&&h.jsxs(he,{variant:"outline",className:"w-full justify-start p-4 h-auto glass-button-alt",onClick:()=>r(t.pdfUrl,`ملف PDF: ${t.title}`,"pdf"),children:[h.jsx(y7,{className:"w-8 h-8 ml-3 text-red-600"}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"ملف PDF"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"عرض أو تحميل المادة النصية"})]})]}),t.quizUrl&&h.jsxs(he,{variant:"outline",className:"w-full justify-start p-4 h-auto glass-button-alt",onClick:()=>r(t.quizUrl,`اختبار الدرس: ${t.title}`,"quiz"),children:[h.jsx(rp,{className:"w-8 h-8 ml-3 text-blue-600"}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:"اختبار الدرس"}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"اختبر فهمك لهذا الدرس"})]})]})]}),!t.pdfUrl&&!t.quizUrl&&!t.videoUrl&&h.jsx("p",{className:"text-center text-gray-500 py-6",children:"لا يوجد محتوى إضافي (PDF أو اختبار) لهذا الدرس حاليًا."})]}),h.jsx(Hw,{className:"bg-gray-50/50",children:e.completedLessons.includes(t.id)?h.jsx("p",{className:"text-green-600 font-medium text-center w-full",children:"لقد أكملت هذا الدرس بنجاح! 🎉"}):h.jsxs(he,{onClick:()=>n(t.id),className:"w-full bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700",children:[h.jsx(yw,{className:"w-4 h-4 ml-2"}),"وضع علامة كمكتمل"]})})]}),o.length>0&&h.jsxs(Ge,{className:"glass-effect-alt border-0 shadow-xl bg-gradient-to-r from-red-500/10 to-orange-500/10",children:[h.jsxs(ut,{children:[h.jsxs(dt,{className:"flex items-center gap-2 text-red-700",children:[h.jsx(tp,{className:"w-6 h-6"}),"الاختبارات النهائية"]}),h.jsx(mn,{children:"قم بإجراء الاختبارات النهائية لتقييم فهمك للمادة."})]}),h.jsx(qe,{className:"space-y-3",children:o.map(a=>h.jsxs(he,{variant:"outline",className:"w-full justify-start p-4 h-auto glass-button-alt border-red-300 hover:border-red-500",onClick:()=>r(a.url,a.name,"finalExam"),children:[h.jsx(Qs,{className:"w-5 h-5 ml-3 text-red-600"}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:a.name}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"بدء الاختبار النهائي"})]})]},a.id))})]})]})},bJ=({siteName:t})=>h.jsx(Ge,{className:"glass-effect-alt border-0 shadow-xl",children:h.jsxs(qe,{className:"text-center py-20",children:[h.jsx(np,{className:"w-24 h-24 text-gray-300 mx-auto mb-6"}),h.jsxs("h2",{className:"text-2xl font-semibold text-gray-700 mb-2",children:["مرحبًا بك في ",t||"منصتك التعليمية","!"]}),h.jsx("p",{className:"text-gray-500",children:"اختر درسًا من القائمة على اليمين لبدء رحلتك التعليمية."}),h.jsx("p",{className:"text-gray-500 mt-1",children:"نتمنى لك تجربة تعلم ممتعة ومفيدة. ✨"})]})}),SJ=()=>{var P;const{logout:t,currentUser:e}=Va(),[n,r]=p.useState(null),[s,i]=p.useState([]),[o,a]=p.useState(null),[l,c]=p.useState(!0),[d,f]=p.useState({completedLessons:[]}),[m,g]=p.useState({finalExamsList:[],meetingRoomsList:[],siteName:"منصة مهارات التعليمية",studentAiToolsUrl:"https://app.magicschool.ai/tools"}),[w,y]=p.useState({isOpen:!1,url:"",title:"",resourceType:""}),T=p.useCallback(async()=>{if(!e)return{userData:null,lessonsData:[]};try{let A=null;const D=Xe(Ce,"users",e.uid),M=await ea(D);M.exists()&&(A=M.data(),r(A));const F=(await Uf(wn(Ce,"lessons"))).docs.map(X=>({id:X.id,...X.data()})).sort((X,G)=>(X.lessonNumber||0)-(G.lessonNumber||0));return i(F),{userData:A,lessonsData:F}}catch(A){return console.error("Error fetching lessons or user data:",A),ae({title:"خطأ في تحميل البيانات الأولية",description:"لم نتمكن من تحميل الدروس أو بيانات المستخدم.",variant:"destructive"}),{userData:null,lessonsData:[]}}},[e]);p.useEffect(()=>{if(!e){c(!1);return}let A=!0;c(!0);const D=M=>{const N=Xe(Ce,"studentProgress",e.uid),F=ki(N,async J=>{if(A)if(J.exists())f(J.data());else try{const V=M||(await ea(Xe(Ce,"users",e.uid))).data();A&&V&&(await wa(N,{completedLessons:[],studentName:V.name||"طالب"}),f({completedLessons:[],studentName:V.name||"طالب"}))}catch(V){console.error("Error setting initial student progress:",V)}},J=>{A&&(console.error("Error fetching student progress:",J),ae({title:"خطأ في تحديث التقدم",variant:"destructive"}))}),X=Xe(Ce,"platformSettings","main"),G=ki(X,J=>{if(A&&J.exists()){const V=J.data();g(L=>({...L,...V,finalExamsList:V.finalExamsList||[],meetingRoomsList:V.meetingRoomsList||[]}))}},J=>{A&&(console.error("Error fetching platform settings:",J),ae({title:"خطأ في تحديث إعدادات المنصة",variant:"destructive"}))});return[F,G]};return T().then(({userData:M})=>{if(A){const N=D(M);if(c(!1),N)return()=>{N.forEach(F=>F&&F())}}}),()=>{A=!1}},[e,T]);const E=A=>{const D=s.find(M=>M.id===A);a(D)},_=async A=>{if(!(!e||!o||o.id!==A)){if(d.completedLessons.includes(A)){ae({title:"تم إكمال هذا الدرس بالفعل!",variant:"default"});return}try{const D=Xe(Ce,"studentProgress",e.uid);await cu(D,{completedLessons:o9(A)}),ae({title:"رائع!",description:`تم تحديد الدرس "${o.title}" كمكتمل.`})}catch(D){console.error("Error marking lesson as complete:",D),ae({title:"خطأ",description:"لم نتمكن من تحديث حالة الدرس.",variant:"destructive"})}}},x=(A,D,M)=>{A?y({isOpen:!0,url:A,title:D,resourceType:M}):ae({title:"رابط غير متوفر",description:"لم يتم إضافة رابط لهذا المورد بعد.",variant:"default"})},I=()=>{y({isOpen:!1,url:"",title:"",resourceType:""})},k=s.length,O=((P=d.completedLessons)==null?void 0:P.length)||0,C=k>0?Math.round(O/k*100):0,S=(m==null?void 0:m.finalExamsList)||[];return l?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-indigo-50 to-purple-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-sky-600 mx-auto mb-4"}),h.jsx("p",{className:"text-xl text-gray-600",children:"جاري تحميل بياناتك التعليمية..."})]})}):h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 via-indigo-50 to-purple-100 pattern-bg-alt",children:[h.jsx(AY,{userData:n,onLogout:t}),h.jsxs("div",{className:"container mx-auto px-2 sm:px-4 py-8",children:[h.jsx(RY,{lessonsCount:k,completedLessonsCount:O,overallProgress:C}),h.jsxs("div",{className:"grid lg:grid-cols-3 gap-8",children:[h.jsxs(Ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:col-span-1 space-y-6",children:[h.jsx(xJ,{lessons:s,selectedLessonId:o==null?void 0:o.id,onLessonClick:E,studentProgress:d}),h.jsx(EJ,{platformSettings:m,onOpenResourceModal:x})]}),h.jsx(Ue.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},className:"lg:col-span-2",children:o?h.jsx(TJ,{lesson:o,studentProgress:d,onMarkLessonComplete:_,onOpenResourceModal:x,platformSettings:m}):h.jsxs(h.Fragment,{children:[h.jsx(bJ,{siteName:m.siteName}),S.length>0&&h.jsxs(Ge,{className:"mt-6 glass-effect-alt border-0 shadow-xl bg-gradient-to-r from-red-500/10 to-orange-500/10",children:[h.jsxs(ut,{children:[h.jsxs(dt,{className:"flex items-center gap-2 text-red-700",children:[h.jsx(tp,{className:"w-6 h-6"}),"الاختبارات النهائية"]}),h.jsx(mn,{children:"قم بإجراء الاختبارات النهائية لتقييم فهمك للمادة."})]}),h.jsx(qe,{className:"space-y-3",children:S.map(A=>h.jsxs(he,{variant:"outline",className:"w-full justify-start p-4 h-auto glass-button-alt border-red-300 hover:border-red-500",onClick:()=>x(A.url,A.name,"finalExam"),children:[h.jsx(Qs,{className:"w-5 h-5 ml-3 text-red-600"}),h.jsxs("div",{children:[h.jsx("span",{className:"font-semibold",children:A.name}),h.jsx("p",{className:"text-xs text-muted-foreground",children:"بدء الاختبار النهائي"})]})]},A.id))})]})]})})]})]}),h.jsx(WK,{isOpen:w.isOpen,onClose:I,title:w.title,url:w.url,resourceType:w.resourceType})]})};var jp="Tabs",[CJ,oZ]=tr(jp,[wp]),fO=wp(),[IJ,k_]=CJ(jp),hO=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:l="automatic",...c}=t,d=n_(a),[f,m]=$a({prop:r,onChange:s,defaultProp:i??"",caller:jp});return h.jsx(IJ,{scope:n,baseId:Di(),value:f,onValueChange:m,orientation:o,dir:d,activationMode:l,children:h.jsx(_e.div,{dir:d,"data-orientation":o,...c,ref:e})})});hO.displayName=jp;var pO="TabsList",mO=p.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=k_(pO,n),o=fO(n);return h.jsx(O2,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:h.jsx(_e.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});mO.displayName=pO;var gO="TabsTrigger",vO=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=k_(gO,n),a=fO(n),l=_O(o.baseId,r),c=xO(o.baseId,r),d=r===o.value;return h.jsx(L2,{asChild:!0,...a,focusable:!s,active:d,children:h.jsx(_e.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...i,ref:e,onMouseDown:le(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:le(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:le(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!s&&f&&o.onValueChange(r)})})})});vO.displayName=gO;var yO="TabsContent",wO=p.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=k_(yO,n),l=_O(a.baseId,r),c=xO(a.baseId,r),d=r===a.value,f=p.useRef(d);return p.useEffect(()=>{const m=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(m)},[]),h.jsx(nr,{present:s||d,children:({present:m})=>h.jsx(_e.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!m,id:c,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:m&&i})})});wO.displayName=yO;function _O(t,e){return`${t}-trigger-${e}`}function xO(t,e){return`${t}-content-${e}`}var PJ=hO,EO=mO,TO=vO,bO=wO;const AJ=PJ,SO=Q.forwardRef(({className:t,...e},n)=>h.jsx(EO,{ref:n,className:se("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));SO.displayName=EO.displayName;const Nl=Q.forwardRef(({className:t,...e},n)=>h.jsx(TO,{ref:n,className:se("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Nl.displayName=TO.displayName;const kl=Q.forwardRef(({className:t,...e},n)=>h.jsx(bO,{ref:n,className:se("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));kl.displayName=bO.displayName;const RJ=({lessons:t,onLessonsUpdate:e})=>{const[n,r]=p.useState(!1),[s,i]=p.useState(null),[o,a]=p.useState({lessonNumber:"",title:"",videoUrl:"",pdfUrl:"",quizUrl:""}),l=async f=>{if(f.preventDefault(),!o.title||!o.lessonNumber){ae({title:"بيانات غير مكتملة",description:"يرجى إدخال رقم الدرس وعنوانه.",variant:"destructive"});return}try{s?(await cu(Xe(Ce,"lessons",s.id),{...o,lessonNumber:parseInt(o.lessonNumber),updatedAt:new Date().toISOString()}),ae({title:"تم تحديث الدرس",description:"تم تحديث الدرس بنجاح"})):(await Ac(wn(Ce,"lessons"),{...o,lessonNumber:parseInt(o.lessonNumber),createdAt:new Date().toISOString()}),ae({title:"تم إضافة الدرس",description:"تم إضافة الدرس بنجاح"})),a({lessonNumber:"",title:"",videoUrl:"",pdfUrl:"",quizUrl:""}),r(!1),i(null),e()}catch(m){ae({title:"خطأ في حفظ الدرس",description:`حدث خطأ أثناء حفظ الدرس: ${m.message}`,variant:"destructive"})}},c=f=>{i(f),a({lessonNumber:f.lessonNumber.toString(),title:f.title,videoUrl:f.videoUrl||"",pdfUrl:f.pdfUrl||"",quizUrl:f.quizUrl||""}),r(!0)},d=async f=>{if(window.confirm("هل أنت متأكد من حذف هذا الدرس؟"))try{await Vv(Xe(Ce,"lessons",f)),ae({title:"تم حذف الدرس",description:"تم حذف الدرس بنجاح"}),e()}catch(m){ae({title:"خطأ في حذف الدرس",description:`حدث خطأ أثناء حذف الدرس: ${m.message}`,variant:"destructive"})}};return h.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-3xl font-bold gradient-text",children:"إدارة الدروس"}),h.jsxs(Gi,{open:n,onOpenChange:f=>{r(f),f||(i(null),a({lessonNumber:"",title:"",videoUrl:"",pdfUrl:"",quizUrl:""}))},children:[h.jsx(th,{asChild:!0,children:h.jsxs(he,{className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[h.jsx(b7,{className:"w-4 h-4 ml-2"}),s?"تعديل الدرس الحالي":"إضافة درس جديد"]})}),h.jsxs(Js,{className:"sm:max-w-md",children:[h.jsxs(Zs,{children:[h.jsx(ei,{className:"text-center text-2xl gradient-text",children:s?"تعديل الدرس":"إضافة درس جديد"}),h.jsx(qi,{className:"text-center",children:s?"قم بتعديل بيانات الدرس":"أدخل بيانات الدرس الجديد"})]}),h.jsxs("form",{onSubmit:l,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"lessonNumber",children:"رقم الدرس"}),h.jsx(ze,{id:"lessonNumber",type:"number",value:o.lessonNumber,onChange:f=>a({...o,lessonNumber:f.target.value}),required:!0,className:"mt-1"})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"title",children:"عنوان الدرس"}),h.jsx(ze,{id:"title",type:"text",value:o.title,onChange:f=>a({...o,title:f.target.value}),required:!0,className:"mt-1"})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"videoUrl",children:"رابط فيديو YouTube"}),h.jsx(ze,{id:"videoUrl",type:"url",value:o.videoUrl,onChange:f=>a({...o,videoUrl:f.target.value}),className:"mt-1",placeholder:"https://youtube.com/watch?v=..."})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"pdfUrl",children:"رابط ملف PDF"}),h.jsx(ze,{id:"pdfUrl",type:"url",value:o.pdfUrl,onChange:f=>a({...o,pdfUrl:f.target.value}),className:"mt-1",placeholder:"https://example.com/file.pdf"})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"quizUrl",children:"رابط اختبار الدرس"}),h.jsx(ze,{id:"quizUrl",type:"url",value:o.quizUrl,onChange:f=>a({...o,quizUrl:f.target.value}),className:"mt-1",placeholder:"https://forms.google.com/..."})]}),h.jsx(he,{type:"submit",className:"w-full bg-gradient-to-r from-purple-600 to-blue-600",children:s?"تحديث الدرس":"إضافة الدرس"})]})]})]})]}),h.jsx("div",{className:"grid gap-4",children:t.length===0?h.jsx(Ge,{className:"glass-effect border-0 shadow-xl",children:h.jsxs(qe,{className:"text-center py-12",children:[h.jsx(np,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"لا توجد دروس مضافة بعد"}),h.jsx("p",{className:"text-gray-500",children:'انقر على "إضافة درس جديد" لبدء إنشاء المحتوى.'})]})}):t.map((f,m)=>h.jsx(Ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:m*.05},children:h.jsxs(Ge,{className:"glass-effect border-0 shadow-xl card-hover",children:[h.jsx(ut,{children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsxs(dt,{className:"flex items-center gap-2",children:[h.jsxs(xu,{variant:"outline",children:["الدرس ",f.lessonNumber]}),f.title]}),h.jsxs(mn,{className:"mt-2 text-xs",children:["تاريخ الإنشاء: ",f.createdAt?new Date(f.createdAt.seconds?f.createdAt.seconds*1e3:f.createdAt).toLocaleDateString("ar-EG"):"غير معروف",f.updatedAt&&h.jsxs("span",{className:"block",children:["آخر تحديث: ",new Date(f.updatedAt.seconds?f.updatedAt.seconds*1e3:f.updatedAt).toLocaleDateString("ar-EG")]})]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(he,{size:"sm",variant:"outline",onClick:()=>c(f),className:"hover:bg-blue-500/10 hover:text-blue-600",children:h.jsx(sp,{className:"w-3.5 h-3.5"})}),h.jsx(he,{size:"sm",variant:"outline",onClick:()=>d(f.id),className:"text-red-600 hover:bg-red-500/10 hover:text-red-700",children:h.jsx(fu,{className:"w-3.5 h-3.5"})})]})]})}),h.jsx(qe,{children:h.jsxs("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"فيديو: "}),f.videoUrl?h.jsx("a",{href:f.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate block",title:f.videoUrl,children:"متوفر"}):h.jsx("span",{className:"text-gray-500",children:"غير متوفر"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"ملف PDF: "}),f.pdfUrl?h.jsx("a",{href:f.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate block",title:f.pdfUrl,children:"متوفر"}):h.jsx("span",{className:"text-gray-500",children:"غير متوفر"})]}),h.jsxs("div",{children:[h.jsx("span",{className:"font-medium",children:"اختبار الدرس: "}),f.quizUrl?h.jsx("a",{href:f.quizUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline truncate block",title:f.quizUrl,children:"متوفر"}):h.jsx("span",{className:"text-gray-500",children:"غير متوفر"})]})]})})]})},f.id))})]})},NJ=({platformSettings:t,onSettingsUpdate:e})=>{const[n,r]=p.useState([]),[s,i]=p.useState(null),[o,a]=p.useState({name:"",url:""});p.useEffect(()=>{r((t==null?void 0:t.finalExamsList)||[])},[t==null?void 0:t.finalExamsList]);const l=async g=>{try{const w=g.map(y=>({...y,id:String(y.id||Date.now()+Math.random())}));await e({...t,finalExamsList:w}),ae({title:"تم حفظ التغييرات على الاختبارات النهائية"})}catch(w){console.error("Error saving final exams:",w),ae({title:"خطأ",description:"لم نتمكن من حفظ التغييرات على الاختبارات النهائية.",variant:"destructive"})}},c=()=>{if(!o.name.trim()||!o.url.trim()){ae({title:"بيانات غير مكتملة",description:"يرجى إدخال اسم ورابط للاختبار.",variant:"destructive"});return}const g={...o,id:Date.now().toString()+Math.random().toString(36).substring(2,15)},w=[...n,g];l(w),a({name:"",url:""})},d=g=>{i({...g})},f=()=>{if(!s||!s.name.trim()||!s.url.trim()){ae({title:"بيانات غير مكتملة",description:"يرجى إدخال اسم ورابط للاختبار.",variant:"destructive"});return}const g=n.map(w=>w.id===s.id?{...s}:w);l(g),i(null)},m=g=>{const w=n.filter(y=>y.id!==g);l(w)};return h.jsx(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:h.jsxs(Ge,{className:"glass-effect border-0 shadow-xl",children:[h.jsxs(ut,{children:[h.jsxs(dt,{className:"flex items-center gap-2",children:[h.jsx(yw,{className:"w-6 h-6 text-green-600"}),"إدارة الاختبارات النهائية"]}),h.jsx(mn,{children:"أضف أو قم بتحديث روابط الاختبارات النهائية التي ستظهر للطلاب. يمكنك إضافة أكثر من اختبار."})]}),h.jsxs(qe,{className:"space-y-6",children:[n.length===0&&!s&&h.jsx("p",{className:"text-center text-gray-500",children:"لا توجد اختبارات نهائية مضافة حاليًا."}),n.map(g=>h.jsx(Ue.div,{className:"p-4 border rounded-lg bg-white/50 backdrop-blur-sm space-y-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n.indexOf(g)*.05},children:(s==null?void 0:s.id)===g.id?h.jsxs("div",{className:"space-y-2",children:[h.jsx(Le,{htmlFor:`examName-${g.id}`,children:"اسم الاختبار"}),h.jsx(ze,{id:`examName-${g.id}`,value:s.name,onChange:w=>i({...s,name:w.target.value}),placeholder:"مثال: اختبار الفصل الأول"}),h.jsx(Le,{htmlFor:`examUrl-${g.id}`,children:"رابط الاختبار"}),h.jsx(ze,{id:`examUrl-${g.id}`,type:"url",value:s.url,onChange:w=>i({...s,url:w.target.value}),placeholder:"https://forms.google.com/..."}),h.jsxs("div",{className:"flex gap-2 pt-2",children:[h.jsxs(he,{onClick:f,size:"sm",children:[h.jsx(_w,{className:"w-4 h-4 ml-1"})," حفظ التعديل"]}),h.jsx(he,{variant:"ghost",size:"sm",onClick:()=>i(null),children:"إلغاء"})]})]}):h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:g.name}),h.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline break-all",children:g.url}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsxs(he,{variant:"outline",size:"sm",onClick:()=>d(g),children:[h.jsx(sp,{className:"w-3.5 h-3.5 ml-1"})," تعديل"]}),h.jsxs(C_,{children:[h.jsx(I_,{asChild:!0,children:h.jsxs(he,{variant:"destructive",size:"sm",children:[h.jsx(fu,{className:"w-3.5 h-3.5 ml-1"})," حذف"]})}),h.jsxs(Cp,{children:[h.jsxs(Ip,{children:[h.jsx(Ap,{children:"هل أنت متأكد من الحذف؟"}),h.jsxs(Rp,{children:["سيتم حذف هذا الاختبار (",g.name,") نهائياً. لا يمكن التراجع عن هذا الإجراء."]})]}),h.jsxs(Pp,{children:[h.jsx(kp,{children:"إلغاء"}),h.jsx(Np,{onClick:()=>m(g.id),className:"bg-red-600 hover:bg-red-700",children:"حذف الاختبار"})]})]})]})]})]})},g.id)),h.jsxs("div",{className:"pt-4 border-t mt-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"إضافة اختبار نهائي جديد"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"newExamName",children:"اسم الاختبار الجديد"}),h.jsx(ze,{id:"newExamName",value:o.name,onChange:g=>a({...o,name:g.target.value}),placeholder:"مثال: الاختبار الشامل للمادة",className:"mt-1"})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"newExamUrl",children:"رابط الاختبار الجديد"}),h.jsx(ze,{id:"newExamUrl",type:"url",value:o.url,onChange:g=>a({...o,url:g.target.value}),placeholder:"https://forms.google.com/...",className:"mt-1"})]}),h.jsxs(he,{onClick:c,className:"bg-gradient-to-r from-green-500 to-emerald-600",children:[h.jsx(FR,{className:"w-4 h-4 ml-2"})," إضافة اختبار"]})]})]})]})]})})},kJ=({lessons:t,onLessonsUpdate:e,platformSettings:n,onSettingsUpdate:r})=>h.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"space-y-8",children:[h.jsx(RJ,{lessons:t,onLessonsUpdate:e}),h.jsx(NJ,{platformSettings:n,onSettingsUpdate:r})]}),CO=Q.forwardRef(({className:t,...e},n)=>h.jsx("div",{className:"relative w-full overflow-auto",children:h.jsx("table",{ref:n,className:se("w-full caption-bottom text-sm",t),...e})}));CO.displayName="Table";const IO=Q.forwardRef(({className:t,...e},n)=>h.jsx("thead",{ref:n,className:se("[&_tr]:border-b",t),...e}));IO.displayName="TableHeader";const PO=Q.forwardRef(({className:t,...e},n)=>h.jsx("tbody",{ref:n,className:se("[&_tr:last-child]:border-0",t),...e}));PO.displayName="TableBody";const DJ=Q.forwardRef(({className:t,...e},n)=>h.jsx("tfoot",{ref:n,className:se("bg-primary font-medium text-primary-foreground",t),...e}));DJ.displayName="TableFooter";const vy=Q.forwardRef(({className:t,...e},n)=>h.jsx("tr",{ref:n,className:se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));vy.displayName="TableRow";const So=Q.forwardRef(({className:t,...e},n)=>h.jsx("th",{ref:n,className:se("h-12 px-4 text-right align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));So.displayName="TableHead";const Co=Q.forwardRef(({className:t,...e},n)=>h.jsx("td",{ref:n,className:se("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Co.displayName="TableCell";const MJ=Q.forwardRef(({className:t,...e},n)=>h.jsx("caption",{ref:n,className:se("mt-4 text-sm text-muted-foreground",t),...e}));MJ.displayName="TableCaption";const OJ=({students:t,lessons:e,studentProgress:n,getStudentProgressSummary:r})=>h.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:[h.jsx("h2",{className:"text-3xl font-bold gradient-text mb-6",children:"تقدم الطلاب"}),t.length===0?h.jsx(Ge,{className:"glass-effect border-0 shadow-xl",children:h.jsxs(qe,{className:"text-center py-12",children:[h.jsx(Rc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"لا يوجد طلاب مسجلون بعد"}),h.jsx("p",{className:"text-gray-500",children:"سيظهر تقدم الطلاب هنا بمجرد تسجيلهم وبدء الدروس."})]})}):h.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:t.map((s,i)=>{const o=r(s.id);return h.jsx(Ue.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.05},children:h.jsxs(Ge,{className:"glass-effect border-0 shadow-xl card-hover",children:[h.jsx(ut,{children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsx(dt,{className:"text-lg",children:s.name}),h.jsx(mn,{className:"text-xs",children:s.email})]}),h.jsxs(xu,{variant:o.percentage>=70?"default":o.percentage>=30?"secondary":"destructive",className:"text-sm px-3 py-1",children:[o.completed," / ",o.total]})]})}),h.jsx(qe,{children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:"التقدم"}),h.jsxs("span",{children:[o.percentage.toFixed(1),"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700",children:h.jsx("div",{className:"bg-gradient-to-r from-purple-600 to-blue-600 h-2.5 rounded-full transition-all duration-300",style:{width:`${o.percentage}%`}})})]})})]})},s.id)})})]}),LJ=({students:t,onStudentsUpdate:e,lessons:n,studentProgress:r})=>{const{currentUser:s}=Va(),[i,o]=p.useState(!1),[a,l]=p.useState(null),[c,d]=p.useState({name:"",email:"",password:""}),[f,m]=p.useState(null),[g,w]=p.useState(!1),[y,T]=p.useState(null),[E,_]=p.useState([]),[x,I]=p.useState([]),[k,O]=p.useState([]),[C,S]=p.useState(!1),[P,A]=p.useState(""),[D,M]=p.useState(!1),N=Q.useCallback(()=>{if(!s||!D)return null;const W=$f(wn(Ce,"messages"),Ff("participants","array-contains",s.uid),aw("timestamp","asc"));return ki(W,ie=>{const q=[];ie.forEach(we=>{q.push({id:we.id,...we.data()})}),I(q)},ie=>{console.error("Error in messages snapshot listener:",ie),ie.code==="failed-precondition"&&(M(!1),ae({title:"فهرس Firestore قيد الإنشاء",description:"يتم حاليًا إنشاء الفهرس المطلوب للرسائل. سيتم تفعيل الرسائل تلقائيًا عند اكتمال الفهرس.",variant:"default",duration:8e3}))})},[s,D]);p.useEffect(()=>{s&&M(!0)},[s]),p.useEffect(()=>{if(!D)return;const W=N();return()=>{W&&W()}},[N,D]),p.useEffect(()=>{const W=setInterval(()=>{!D&&s&&M(!0)},3e4);return()=>clearInterval(W)},[D,s]),p.useEffect(()=>{if(!g||!s||!y){_([]);return}const W=x.filter(te=>te.participants.includes(y.id));_(W)},[g,s,y,x]);const F=async W=>{if(!(!s||!y||!W.trim()))try{await Ac(wn(Ce,"messages"),{participants:[s.uid,y.id].sort(),senderId:s.uid,receiverId:y.id,message:W,timestamp:Bf(),readBy:{[s.uid]:!0,[y.id]:!1}}),ae({title:"تم إرسال الرسالة"})}catch(te){console.error("Error sending message:",te),ae({title:"خطأ في إرسال الرسالة",variant:"destructive"})}},X=W=>{I(te=>te.filter(ie=>!W.includes(ie.id)))},G=W=>{T(W),w(!0)},J=async W=>{if(W.preventDefault(),!c.name||!c.email||!a&&!c.password){ae({title:"بيانات غير مكتملة",description:"يرجى ملء جميع الحقول المطلوبة.",variant:"destructive"});return}try{if(a){const te=Xe(Ce,"users",a.id);await cu(te,{name:c.name,email:c.email}),ae({title:"تم تحديث بيانات الطالب"})}else{const ie=(await bP(Pl,c.email,c.password)).user;await wa(Xe(Ce,"users",ie.uid),{uid:ie.uid,name:c.name,email:c.email,role:"student",createdAt:ot.now()}),ae({title:"تم إضافة الطالب بنجاح"})}d({name:"",email:"",password:""}),o(!1),l(null),e()}catch(te){console.error("Error managing student:",te),ae({title:"خطأ في إدارة الطالب",description:te.message.includes("email-already-in-use")?"البريد الإلكتروني مستخدم بالفعل.":`حدث خطأ: ${te.message}`,variant:"destructive"})}},V=W=>{l(W),d({name:W.name,email:W.email,password:""}),o(!0)},L=async W=>{if(window.confirm("هل أنت متأكد من حذف هذا الطالب؟ سيتم حذف حسابه وبياناته بشكل دائم."))try{await Vv(Xe(Ce,"users",W)),await Vv(Xe(Ce,"studentProgress",W)).catch(()=>{}),ae({title:"تم حذف الطالب"}),e()}catch(te){console.error("Error deleting student:",te),ae({title:"خطأ في حذف الطالب",variant:"destructive"})}},z=(W,te)=>{O(ie=>te?[...ie,W]:ie.filter(q=>q!==W))},B=W=>{O(W?t.map(te=>te.id):[])},Z=()=>{if(k.length===0){ae({title:"لم يتم تحديد طلاب",description:"يرجى تحديد طالب واحد على الأقل لإرسال رسالة جماعية.",variant:"default"});return}S(!0)},ne=async()=>{if(!P.trim()||k.length===0||!s){ae({title:"بيانات غير كافية",description:"يرجى كتابة رسالة واختيار الطلاب.",variant:"destructive"});return}try{const W=k.map(te=>Ac(wn(Ce,"messages"),{participants:[s.uid,te].sort(),senderId:s.uid,receiverId:te,message:P,timestamp:Bf(),readBy:{[s.uid]:!0,[te]:!1},isMassMessage:!0}));await Promise.all(W),ae({title:`تم إرسال الرسالة إلى ${k.length} طالب/طلاب`}),A(""),S(!1),O([])}catch(W){console.error("Error sending mass message:",W),ae({title:"خطأ في إرسال الرسالة الجماعية",variant:"destructive"})}};return f?h.jsx(OJ,{student:f,lessons:n,progress:r[f.id]||{completedLessons:[]},onBack:()=>m(null)}):h.jsxs(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-8",children:[h.jsxs(Ge,{className:"glass-effect border-0 shadow-xl",children:[h.jsxs(ut,{children:[h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs(dt,{className:"flex items-center gap-2",children:[h.jsx(Rc,{className:"w-6 h-6 text-blue-600"})," إدارة الطلاب"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(he,{onClick:Z,variant:"outline",disabled:k.length===0||!D,children:[h.jsx(rp,{className:"w-4 h-4 ml-2"})," إرسال لمجموعة (",k.length,")"]}),h.jsxs(Gi,{open:i,onOpenChange:W=>{o(W),W||(l(null),d({name:"",email:"",password:""}))},children:[h.jsx(th,{asChild:!0,children:h.jsxs(he,{className:"bg-gradient-to-r from-blue-500 to-sky-600 hover:from-blue-600 hover:to-sky-700",children:[h.jsx(S7,{className:"w-4 h-4 ml-2"})," ",a?"تعديل بيانات الطالب":"إضافة طالب جديد"]})}),h.jsxs(Js,{className:"sm:max-w-md",children:[h.jsx(Zs,{children:h.jsx(ei,{className:"text-center text-2xl gradient-text",children:a?"تعديل بيانات الطالب":"إضافة طالب جديد"})}),h.jsxs("form",{onSubmit:J,className:"space-y-4 pt-4",children:[h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"studentName",children:"اسم الطالب"}),h.jsx(ze,{id:"studentName",type:"text",value:c.name,onChange:W=>d({...c,name:W.target.value}),required:!0,className:"mt-1"})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"studentEmail",children:"البريد الإلكتروني"}),h.jsx(ze,{id:"studentEmail",type:"email",value:c.email,onChange:W=>d({...c,email:W.target.value}),required:!0,className:"mt-1"})]}),h.jsxs("div",{children:[h.jsxs(Le,{htmlFor:"studentPassword",children:["كلمة المرور ",a&&"(اتركها فارغة لعدم التغيير)"]}),h.jsx(ze,{id:"studentPassword",type:"password",value:c.password,onChange:W=>d({...c,password:W.target.value}),required:!a,className:"mt-1",placeholder:a?"جديدة إذا أردت التغيير":"كلمة مرور قوية"})]}),h.jsx(he,{type:"submit",className:"w-full bg-gradient-to-r from-blue-500 to-sky-600",children:a?"تحديث البيانات":"إضافة الطالب"})]})]})]})]})]}),h.jsx(mn,{children:"إضافة، تعديل، أو حذف حسابات الطلاب، متابعة تقدمهم، وإرسال رسائل."})]}),h.jsx(qe,{children:t.length===0?h.jsxs("div",{className:"text-center py-10",children:[h.jsx(Rc,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold text-gray-600",children:"لا يوجد طلاب مضافون بعد"}),h.jsx("p",{className:"text-gray-500",children:'انقر على "إضافة طالب جديد" لبدء تسجيل الطلاب.'})]}):h.jsxs(CO,{children:[h.jsx(IO,{children:h.jsxs(vy,{children:[h.jsx(So,{className:"w-[50px]",children:h.jsx(Vc,{checked:k.length===t.length&&t.length>0,onCheckedChange:W=>B(W),"aria-label":"تحديد الكل"})}),h.jsx(So,{children:"اسم الطالب"}),h.jsx(So,{children:"البريد الإلكتروني"}),h.jsx(So,{children:"تاريخ التسجيل"}),h.jsx(So,{className:"text-center",children:"الإجراءات"})]})}),h.jsx(PO,{children:t.map(W=>h.jsxs(vy,{"data-state":k.includes(W.id)&&"selected",children:[h.jsx(Co,{children:h.jsx(Vc,{checked:k.includes(W.id),onCheckedChange:te=>z(W.id,te),"aria-label":`تحديد ${W.name}`})}),h.jsx(Co,{className:"font-medium",children:W.name}),h.jsx(Co,{children:W.email}),h.jsx(Co,{children:W.createdAt?new Date(W.createdAt.seconds?W.createdAt.seconds*1e3:W.createdAt).toLocaleDateString("ar-EG"):"غير معروف"}),h.jsxs(Co,{className:"text-center space-x-1 space-x-reverse",children:[h.jsx(he,{variant:"outline",size:"sm",className:"hover:bg-purple-500/10 hover:text-purple-600",onClick:()=>G(W),disabled:!D,children:h.jsx(w7,{className:"w-3.5 h-3.5"})}),h.jsx(he,{variant:"outline",size:"sm",className:"hover:bg-green-500/10 hover:text-green-600",onClick:()=>m(W),children:h.jsx(g7,{className:"w-3.5 h-3.5"})}),h.jsx(he,{variant:"outline",size:"sm",className:"hover:bg-blue-500/10 hover:text-blue-600",onClick:()=>V(W),children:h.jsx(sp,{className:"w-3.5 h-3.5"})}),h.jsx(he,{variant:"outline",size:"sm",className:"text-red-600 hover:bg-red-500/10 hover:text-red-700",onClick:()=>L(W.id),children:h.jsx(fu,{className:"w-3.5 h-3.5"})})]})]},W.id))})]})}),t.length>0&&h.jsxs(Hw,{className:"text-sm text-muted-foreground",children:["إجمالي الطلاب المسجلين: ",t.length]})]}),g&&y&&h.jsx(P_,{isOpen:g,onClose:()=>{w(!1),T(null)},currentUser:s,targetUser:y,messages:E,onSendMessage:F,onDeleteMessages:X}),h.jsx(Gi,{open:C,onOpenChange:S,children:h.jsxs(Js,{className:"sm:max-w-md",children:[h.jsxs(Zs,{children:[h.jsx(ei,{children:"إرسال رسالة جماعية"}),h.jsxs(qi,{children:["سيتم إرسال هذه الرسالة إلى ",k.length," طالب/طلاب محددين."]})]}),h.jsx("div",{className:"grid gap-4 py-4",children:h.jsx(x_,{placeholder:"اكتب رسالتك هنا...",value:P,onChange:W=>A(W.target.value),rows:4})}),h.jsxs(mp,{children:[h.jsx(he,{variant:"outline",onClick:()=>S(!1),children:"إلغاء"}),h.jsxs(he,{onClick:ne,className:"bg-gradient-to-r from-blue-500 to-sky-600",children:[h.jsx(UR,{className:"w-4 h-4 ml-2"})," إرسال الرسالة"]})]})]})})]})},jJ=({platformSettings:t,onSettingsUpdate:e})=>{const[n,r]=p.useState([]),[s,i]=p.useState(null),[o,a]=p.useState({name:"",url:""});p.useEffect(()=>{r((t==null?void 0:t.meetingRoomsList)||[])},[t==null?void 0:t.meetingRoomsList]);const l=async g=>{try{const w=g.map(y=>({...y,id:String(y.id||Date.now()+Math.random())}));await e({...t,meetingRoomsList:w}),ae({title:"تم حفظ التغييرات على غرف الاجتماعات"})}catch(w){console.error("Error saving meeting rooms:",w),ae({title:"خطأ",description:"لم نتمكن من حفظ التغييرات على غرف الاجتماعات.",variant:"destructive"})}},c=()=>{if(!o.name.trim()||!o.url.trim()){ae({title:"بيانات غير مكتملة",description:"يرجى إدخال اسم ورابط للغرفة.",variant:"destructive"});return}const g={...o,id:Date.now().toString()+Math.random().toString(36).substring(2,15)},w=[...n,g];l(w),a({name:"",url:""})},d=g=>{i({...g})},f=()=>{if(!s||!s.name.trim()||!s.url.trim()){ae({title:"بيانات غير مكتملة",description:"يرجى إدخال اسم ورابط للغرفة.",variant:"destructive"});return}const g=n.map(w=>w.id===s.id?{...s}:w);l(g),i(null)},m=g=>{const w=n.filter(y=>y.id!==g);l(w)};return h.jsx(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:h.jsxs(Ge,{className:"glass-effect border-0 shadow-xl",children:[h.jsxs(ut,{children:[h.jsxs(dt,{className:"flex items-center gap-2",children:[h.jsx(Ew,{className:"w-6 h-6 text-red-600"}),"إدارة غرف الاجتماعات الافتراضية"]}),h.jsx(mn,{children:"أضف أو قم بتحديث روابط غرف الاجتماعات (مثل Zoom, Google Meet). يمكنك إضافة أكثر من غرفة."})]}),h.jsxs(qe,{className:"space-y-6",children:[n.length===0&&!s&&h.jsx("p",{className:"text-center text-gray-500",children:"لا توجد غرف اجتماعات مضافة حاليًا."}),n.map(g=>h.jsx(Ue.div,{className:"p-4 border rounded-lg bg-white/50 backdrop-blur-sm space-y-3",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:n.indexOf(g)*.05},children:(s==null?void 0:s.id)===g.id?h.jsxs("div",{className:"space-y-2",children:[h.jsx(Le,{htmlFor:`roomName-${g.id}`,children:"اسم الغرفة"}),h.jsx(ze,{id:`roomName-${g.id}`,value:s.name,onChange:w=>i({...s,name:w.target.value}),placeholder:"مثال: محاضرة الأسبوع الأول"}),h.jsx(Le,{htmlFor:`roomUrl-${g.id}`,children:"رابط الغرفة"}),h.jsx(ze,{id:`roomUrl-${g.id}`,type:"url",value:s.url,onChange:w=>i({...s,url:w.target.value}),placeholder:"https://zoom.us/j/..."}),h.jsxs("div",{className:"flex gap-2 pt-2",children:[h.jsxs(he,{onClick:f,size:"sm",children:[h.jsx(_w,{className:"w-4 h-4 ml-1"})," حفظ التعديل"]}),h.jsx(he,{variant:"ghost",size:"sm",onClick:()=>i(null),children:"إلغاء"})]})]}):h.jsxs("div",{children:[h.jsx("p",{className:"font-semibold",children:g.name}),h.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-600 hover:underline break-all",children:g.url}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsxs(he,{variant:"outline",size:"sm",onClick:()=>d(g),children:[h.jsx(sp,{className:"w-3.5 h-3.5 ml-1"})," تعديل"]}),h.jsxs(C_,{children:[h.jsx(I_,{asChild:!0,children:h.jsxs(he,{variant:"destructive",size:"sm",children:[h.jsx(fu,{className:"w-3.5 h-3.5 ml-1"})," حذف"]})}),h.jsxs(Cp,{children:[h.jsxs(Ip,{children:[h.jsx(Ap,{children:"هل أنت متأكد من الحذف؟"}),h.jsxs(Rp,{children:["سيتم حذف هذه الغرفة (",g.name,") نهائياً. لا يمكن التراجع عن هذا الإجراء."]})]}),h.jsxs(Pp,{children:[h.jsx(kp,{children:"إلغاء"}),h.jsx(Np,{onClick:()=>m(g.id),className:"bg-red-600 hover:bg-red-700",children:"حذف الغرفة"})]})]})]})]})]})},g.id)),h.jsxs("div",{className:"pt-4 border-t mt-6",children:[h.jsx("h3",{className:"text-lg font-semibold mb-2",children:"إضافة غرفة اجتماعات جديدة"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"newRoomName",children:"اسم الغرفة الجديدة"}),h.jsx(ze,{id:"newRoomName",value:o.name,onChange:g=>a({...o,name:g.target.value}),placeholder:"مثال: غرفة المراجعة العامة",className:"mt-1"})]}),h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"newRoomUrl",children:"رابط الغرفة الجديدة"}),h.jsx(ze,{id:"newRoomUrl",type:"url",value:o.url,onChange:g=>a({...o,url:g.target.value}),placeholder:"https://meet.google.com/...",className:"mt-1"})]}),h.jsxs(he,{onClick:c,className:"bg-gradient-to-r from-red-500 to-pink-600",children:[h.jsx(FR,{className:"w-4 h-4 ml-2"})," إضافة غرفة"]})]})]})]})]})})},VJ=({platformSettings:t,onSettingsUpdate:e})=>{const[n,r]=p.useState((t==null?void 0:t.siteName)||"منصة مهارات التعليمية"),[s,i]=p.useState((t==null?void 0:t.teacherAiToolsUrl)||"https://app.magicschool.ai/tools"),[o,a]=p.useState((t==null?void 0:t.studentAiToolsUrl)||"https://app.magicschool.ai/tools"),l=async()=>{try{await e({...t,siteName:n,teacherAiToolsUrl:s,studentAiToolsUrl:o}),ae({title:"تم حفظ الإعدادات",description:"تم تحديث إعدادات المنصة بنجاح."})}catch{ae({title:"خطأ",description:"لم نتمكن من حفظ الإعدادات.",variant:"destructive"})}};return p.useEffect(()=>{r((t==null?void 0:t.siteName)||"منصة مهارات التعليمية"),i((t==null?void 0:t.teacherAiToolsUrl)||"https://app.magicschool.ai/tools"),a((t==null?void 0:t.studentAiToolsUrl)||"https://app.magicschool.ai/tools")},[t]),h.jsx(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:h.jsxs(Ge,{className:"glass-effect border-0 shadow-xl",children:[h.jsxs(ut,{children:[h.jsxs(dt,{className:"flex items-center gap-2",children:[h.jsx(BR,{className:"w-6 h-6 text-gray-600"}),"إعدادات المنصة العامة"]}),h.jsx(mn,{children:"إدارة الإعدادات العامة للمنصة، بما في ذلك روابط تطبيقات الذكاء الاصطناعي."})]}),h.jsxs(qe,{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx(Le,{htmlFor:"siteName",children:"اسم المنصة"}),h.jsx(ze,{id:"siteName",value:n,onChange:c=>r(c.target.value),className:"mt-1",placeholder:"مثال: منصة مهارات التعليمية"})]}),h.jsxs("div",{children:[h.jsxs(Le,{htmlFor:"teacherAiToolsUrl",className:"flex items-center gap-1",children:[h.jsx(Hf,{className:"w-4 h-4 text-purple-600"}),"رابط تطبيقات الذكاء الاصطناعي (للمعلم)"]}),h.jsx(ze,{id:"teacherAiToolsUrl",type:"url",value:s,onChange:c=>i(c.target.value),className:"mt-1",placeholder:"https://example.com/teacher-ai-tools"}),s&&h.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline mt-1 inline-block",children:[h.jsx(Qs,{className:"w-3 h-3 inline mr-1"}),"الرابط الحالي: ",s]})]}),h.jsxs("div",{children:[h.jsxs(Le,{htmlFor:"studentAiToolsUrl",className:"flex items-center gap-1",children:[h.jsx(Hf,{className:"w-4 h-4 text-indigo-600"}),"رابط تطبيقات الذكاء الاصطناعي (للطالب)"]}),h.jsx(ze,{id:"studentAiToolsUrl",type:"url",value:o,onChange:c=>a(c.target.value),className:"mt-1",placeholder:"https://example.com/student-ai-tools"}),o&&h.jsxs("a",{href:o,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500 hover:underline mt-1 inline-block",children:[h.jsx(Qs,{className:"w-3 h-3 inline mr-1"}),"الرابط الحالي: ",o]})]}),h.jsxs(he,{onClick:l,className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700",children:[h.jsx(_w,{className:"w-4 h-4 ml-2"}),"حفظ جميع الإعدادات"]})]})]})})},$J="https://storage.googleapis.com/hostinger-horizons-assets-prod/3760d6a6-ab96-447b-8deb-dbeb7cec4327/ddb9811d5f3df3eb28c2f555087dd5ba.jpg",FJ=()=>{const{logout:t,currentUser:e}=Va(),[n,r]=p.useState(null),[s,i]=p.useState(!0),[o,a]=p.useState([]),[l,c]=p.useState([]),[d,f]=p.useState({}),[m,g]=p.useState({finalExamsList:[],meetingRoomsList:[],siteName:"منصة مهارات التعليمية",teacherAiToolsUrl:"https://app.magicschool.ai/tools",studentAiToolsUrl:"https://app.magicschool.ai/tools"}),[w,y]=p.useState("content"),[T,E]=p.useState([]),[_,x]=p.useState(0),[I,k]=p.useState(!1),[O,C]=p.useState(null),[S,P]=p.useState([]),[A,D]=p.useState(!1),M=p.useCallback(async()=>{if(e)try{const L=ea(Xe(Ce,"users",e.uid)),z=Uf(wn(Ce,"lessons")),B=Uf(wn(Ce,"users")),[Z,ne,W]=await Promise.all([L,z,B]);Z.exists()&&r(Z.data());const te=ne.docs.map(q=>({id:q.id,...q.data()})).sort((q,we)=>(q.lessonNumber||0)-(we.lessonNumber||0));a(te);const ie=W.docs.map(q=>({id:q.id,...q.data()})).filter(q=>q.role==="student");c(ie)}catch(L){console.error("Error fetching static teacher dashboard data:",L),ae({title:"خطأ في تحميل البيانات الأساسية",variant:"destructive"})}},[e]),N=p.useCallback(()=>{if(!e||!A)return null;const L=$f(wn(Ce,"messages"),Ff("participants","array-contains",e.uid),aw("timestamp","asc"));return ki(L,B=>{const Z=[];let ne=0;B.forEach(W=>{const te=W.data();Z.push({id:W.id,...te}),te.receiverId===e.uid&&(!te.readBy||!te.readBy[e.uid])&&ne++}),E(Z),x(ne)},B=>{console.error("Error in messages snapshot listener:",B),B.code==="failed-precondition"&&(D(!1),ae({title:"فهرس Firestore قيد الإنشاء",description:"يتم حاليًا إنشاء الفهرس المطلوب للرسائل. سيتم تفعيل الرسائل تلقائيًا عند اكتمال الفهرس.",variant:"default",duration:8e3}))})},[e,A]);p.useEffect(()=>{if(!e){i(!1);return}let L=!0;return i(!0),(async()=>{if(await M(),L){const B=wn(Ce,"studentProgress"),Z=ki(B,te=>{if(!L)return;const ie={};te.docs.forEach(q=>{ie[q.id]=q.data()}),f(ie)},te=>{L&&(console.error("Error fetching student progress:",te),ae({title:"خطأ في تحديث تقدم الطلاب",variant:"destructive"}))}),ne=Xe(Ce,"platformSettings","main"),W=ki(ne,async te=>{if(L)if(te.exists()){const ie=te.data();g(q=>({...q,...ie,finalExamsList:ie.finalExamsList||[],meetingRoomsList:ie.meetingRoomsList||[]}))}else try{await wa(ne,{finalExamsList:[],meetingRoomsList:[],siteName:"منصة مهارات التعليمية",teacherAiToolsUrl:"https://app.magicschool.ai/tools",studentAiToolsUrl:"https://app.magicschool.ai/tools"}),g(ie=>({...ie,finalExamsList:[],meetingRoomsList:[]}))}catch(ie){console.error("Error setting initial platform settings:",ie)}},te=>{L&&(console.error("Error fetching platform settings:",te),ae({title:"خطأ في تحديث إعدادات المنصة",variant:"destructive"}))});return D(!0),L&&i(!1),()=>{Z(),W()}}})(),()=>{L=!1}},[e,M]),p.useEffect(()=>{if(!A)return;const L=N();return()=>{L&&L()}},[N,A]),p.useEffect(()=>{const L=setInterval(()=>{!A&&e&&D(!0)},3e4);return()=>clearInterval(L)},[A,e]),p.useEffect(()=>{if(!I||!e||!O){P([]);return}const L=T.filter(z=>z.participants.includes(O.id));P(L)},[I,e,O,T]);const F=async L=>{try{const z=Xe(Ce,"platformSettings","main"),B={...L,finalExamsList:L.finalExamsList||[],meetingRoomsList:L.meetingRoomsList||[]};await wa(z,B,{merge:!0}),ae({title:"تم تحديث الإعدادات"})}catch(z){console.error("Error updating platform settings:",z),ae({title:"خطأ",description:"لم نتمكن من تحديث إعدادات المنصة.",variant:"destructive"})}},X=async L=>{const z=l.find(B=>B.id===L);z&&(C(z),k(!0),T.filter(B=>B.senderId===L&&B.receiverId===e.uid&&(!B.readBy||!B.readBy[e.uid])).forEach(async B=>{const Z=Xe(Ce,"messages",B.id);await cu(Z,{[`readBy.${e.uid}`]:!0})}))},G=async L=>{if(!(!e||!O||!L.trim()))try{await Ac(wn(Ce,"messages"),{participants:[e.uid,O.id].sort(),senderId:e.uid,receiverId:O.id,message:L,timestamp:Bf(),readBy:{[e.uid]:!0,[O.id]:!1}})}catch(z){console.error("Error sending message:",z),ae({title:"خطأ في إرسال الرسالة",variant:"destructive"})}};if(s)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-purple-600 mx-auto mb-4"}),h.jsx("p",{className:"text-xl text-gray-600",children:"جاري تحميل بيانات لوحة التحكم..."})]})});const J=L=>{var z;return((z=l.find(B=>B.id===L))==null?void 0:z.name)||"طالب غير معروف"},V=[...T].filter(L=>L.receiverId===(e==null?void 0:e.uid)&&(!L.readBy||!L.readBy[e==null?void 0:e.uid])).sort((L,z)=>{var B,Z;return(((B=z.timestamp)==null?void 0:B.toMillis())||0)-(((Z=L.timestamp)==null?void 0:Z.toMillis())||0)}).slice(0,5);return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-blue-50 to-indigo-100 pattern-bg",children:[h.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b shadow-sm sticky top-0 z-50",children:h.jsx("div",{className:"container mx-auto px-4 py-3",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center space-x-3 space-x-reverse",children:[h.jsx("img",{src:$J,alt:"شعار منصة مهارات التعليمية",className:"h-10 w-auto"}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-xl font-bold gradient-text",children:"لوحة تحكم المعلم"}),n&&h.jsxs("div",{className:"flex items-center gap-2 text-gray-600 text-xs",children:[h.jsx(xw,{className:"w-3 h-3"}),h.jsxs("span",{children:[n.name," (",n.email,")"]})]})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs(RD,{children:[h.jsx(ND,{asChild:!0,children:h.jsxs(he,{variant:"ghost",size:"icon",className:"relative",children:[h.jsx(jR,{className:"h-5 w-5"}),_>0&&h.jsx(xu,{className:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-red-500 text-white",children:_>9?"9+":_})]})}),h.jsxs(w_,{align:"end",className:"w-80",children:[h.jsx(__,{children:"الرسائل الجديدة من الطلاب"}),h.jsx(lh,{}),A?V.length===0?h.jsx(Ps,{disabled:!0,className:"text-center text-gray-500 py-3",children:"لا توجد رسائل جديدة"}):V.map(L=>{var z;return h.jsxs(Ps,{className:"flex items-start gap-2 font-semibold",onClick:()=>X(L.senderId),children:[h.jsx(rp,{className:"h-4 w-4 mt-1 text-blue-500"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm truncate",children:L.message}),h.jsxs("p",{className:"text-xs text-muted-foreground",children:["من: ",J(L.senderId)," - ",(z=L.timestamp)==null?void 0:z.toDate().toLocaleDateString("ar-EG")]})]})]},L.id)}):h.jsx(Ps,{disabled:!0,className:"text-center text-orange-600 py-3",children:"جاري إعداد نظام الرسائل..."})]})]}),h.jsxs(he,{onClick:t,variant:"outline",size:"sm",className:"flex items-center gap-1.5",children:[h.jsx($R,{className:"w-3.5 h-3.5"}),"تسجيل الخروج"]})]})]})})}),h.jsx("div",{className:"container mx-auto px-2 sm:px-4 py-8",children:h.jsxs(AJ,{defaultValue:"content",value:w,onValueChange:y,className:"w-full",children:[h.jsx(Ue.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:h.jsxs(SO,{className:"grid w-full grid-cols-2 sm:grid-cols-4 gap-1 md:gap-2 bg-white/70 backdrop-blur-md p-1.5 rounded-lg shadow-lg mb-8",children:[h.jsxs(Nl,{value:"content",className:"flex-1 justify-center gap-1.5 md:gap-2 text-xs sm:text-sm",children:[h.jsx(x7,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),"إدارة المحتوى"]}),h.jsxs(Nl,{value:"students",className:"flex-1 justify-center gap-1.5 md:gap-2 text-xs sm:text-sm",children:[h.jsx(Rc,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),"إدارة الطلاب"]}),h.jsxs(Nl,{value:"meeting",className:"flex-1 justify-center gap-1.5 md:gap-2 text-xs sm:text-sm",children:[h.jsx(Ew,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),"غرفة الاجتماعات"]}),h.jsxs(Nl,{value:"platformSettings",className:"flex-1 justify-center gap-1.5 md:gap-2 text-xs sm:text-sm",children:[h.jsx(BR,{className:"w-3.5 h-3.5 md:w-4 md:h-4"}),"إعدادات المنصة"]})]})}),h.jsx(Ue.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:h.jsxs(Ge,{className:"glass-effect border-0 shadow-xl bg-gradient-to-r from-purple-600/10 to-blue-600/10",children:[h.jsxs(ut,{children:[h.jsxs(dt,{className:"flex items-center gap-2",children:[h.jsx(Hf,{className:"w-6 h-6 text-purple-600"}),"تطبيقات الذكاء الاصطناعي للمعلم"]}),h.jsx(mn,{children:"استكشف أدوات الذكاء الاصطناعي المساعدة لإنشاء المحتوى التعليمي والاختبارات بكفاءة."})]}),h.jsx(qe,{className:"flex justify-center",children:h.jsxs(he,{onClick:()=>window.open(m.teacherAiToolsUrl||"https://app.magicschool.ai/tools","_blank","noopener,noreferrer"),className:"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700",children:[h.jsx(Qs,{className:"w-4 h-4 ml-2"}),"فتح تطبيقات الذكاء الاصطناعي"]})})]})}),h.jsx(kl,{value:"content",children:h.jsx(kJ,{lessons:o,onLessonsUpdate:M,platformSettings:m,onSettingsUpdate:F})}),h.jsx(kl,{value:"students",children:h.jsx(LJ,{students:l,onStudentsUpdate:M,lessons:o,studentProgress:d})}),h.jsx(kl,{value:"meeting",children:h.jsx(jJ,{platformSettings:m,onSettingsUpdate:F})}),h.jsx(kl,{value:"platformSettings",children:h.jsx(VJ,{platformSettings:m,onSettingsUpdate:F})})]})}),I&&O&&h.jsx(P_,{isOpen:I,onClose:()=>{k(!1),C(null)},currentUser:e,targetUser:O,messages:S,onSendMessage:G})]})},UJ=()=>{const{currentUser:t,userRole:e}=Va();return t?h.jsxs(v$,{children:[h.jsx(xl,{path:"/",element:e==="teacher"?h.jsx(dl,{to:"/teacher",replace:!0}):e==="student"?h.jsx(dl,{to:"/student",replace:!0}):h.jsx(F1,{})}),h.jsx(xl,{path:"/teacher",element:e==="teacher"?h.jsx(FJ,{}):h.jsx(dl,{to:"/",replace:!0})}),h.jsx(xl,{path:"/student",element:e==="student"?h.jsx(SJ,{}):h.jsx(dl,{to:"/",replace:!0})}),h.jsx(xl,{path:"*",element:h.jsx(dl,{to:"/",replace:!0})})]}):h.jsx(F1,{})},BJ=()=>h.jsx(z9,{children:h.jsx(_$,{children:h.jsxs("div",{className:"App",children:[h.jsx(UJ,{}),h.jsx(A7,{})]})})});yg.createRoot(document.getElementById("root")).render(h.jsx(Q.StrictMode,{children:h.jsx(BJ,{})}));
